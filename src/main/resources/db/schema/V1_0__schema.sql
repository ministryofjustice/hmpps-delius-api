create sequence CJALICENCE_COND_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CUSTODY_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence NOMIS_TYPE_NSI_TYPE_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence DISPOSAL_TERMIN_REASON_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OFFLOC_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence Z_0241_LOG_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence CRC_INACTIVE_OFFENDER_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence CONTACT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PROVIDER_LAO_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence LIC_CONDITION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence REGISTRATION_LEVEL_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OFFENDER_CRN_SEQ minvalue 1000 maxvalue 900000000000000000;
create sequence REFERRAL_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CUSTODY_HISTORY_ID_SEQ maxvalue 900000000000000000;
create sequence PROBATION_AREA_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SPG_ERROR_CLEAR_REQUEST_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence EXTERNAL_PROVIDER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence COHORT_HISTORY_ID_SEQ maxvalue 900000000000000000;
create sequence REGISTRATION_REVIEW_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CHANGE_CAPTURE_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 20000;
create sequence DRUGS_TEST_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OFFENCE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence REGISTER_GROUP_ID_SEQ minvalue 1500000000 maxvalue 900000000000000000 cache 500;
create sequence COHORT_ID_SEQ maxvalue 900000000000000000;
create sequence PROVIDER_EMPLOYEE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence TRAINING_PROVIDER_USER_ID_SEQ maxvalue 900000000000000000;
create sequence CIRCUMSTANCE_SUB_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CONTACT_OUTCOME_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence NSI_TYPE_STATUS_ID_SEQ maxvalue 900000000000000000;
create sequence GDPR_DESTRUCTION_LOG_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence CONTACT_TYPE_ICON_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence MERGE_HISTORY_ID_SEQ maxvalue 900000000000000000;
create sequence OFFENDER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence NSI_TRANSFER_ID_SEQ maxvalue 900000000000000000;
create sequence OFFENDER_CRC_EXPORT_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence RQMNT_TRANSFER_ID_SEQ maxvalue 900000000000000000;
create sequence SPG_EXCEPTION_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence INSTITUTION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence INSTITUTIONAL_REPORT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence BUSINESS_INT_XML_MAP_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence POST_CJA_LIC_COND_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SPG_DOCUMENT_REQUEST_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence BOROUGH_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CONDITIONTYPESUBCATEGORY_D_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ORDER_TRANSFER_ID_SEQ maxvalue 900000000000000000;
create sequence DMS_VALIDATION_ID_SEQ;
create sequence CASE_ALLOCATION_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence APPROVED_PREMISES_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CONTACT_ALERT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PRISON_OFFENDER_MANAGER_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence OGRS_ASSESSMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence GDPR_OFF_ELIGIBLE_DEL_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence CASELOAD_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence MTT_DEBUG_SEQ;
create sequence COURT_REPORT_TRANSFER_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence UPW_DETAILS_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence RECALL_REASON_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SPG_ERROR_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence DSS_SEARCH_REQUEST_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence LIC_CONDITION_MANAGER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DMS_BATCH_ID_SEQ;
create sequence COURT_APPEARANCE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence LIC_CONDITION_TRANSFER_ID_SEQ maxvalue 900000000000000000;
create sequence Z_0284_LOG_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence PRF_COLLECTOR_ID_SEQ cache 500;
create sequence UPW_PROVIDER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CONTACT_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence COHORT_DIARY_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence NSI_STATUS_HISTORY_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence DMS_OFFENDER_ID_SEQ;
create sequence OFFENDER_TRANSFER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CONDITION_MAIN_CATEGORY_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence AUDITED_INTERACTION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence REFERRAL_SOURCE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CHANGE_CAPTURE_LOG_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence AP_PREFERRED_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence SUBJECT_ACCESS_REPORT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DEREGISTRATION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence RQMNT_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SC_PROVIDER_ID_SEQ maxvalue 900000000000000000;
create sequence HOST_AT_RELEASE_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence Z_0283_LOG_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence MOVE_ON_CATEGORY_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SPG_CONTROL_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence SPG_NOTIFICATION_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence TRIGGER_OFFENCE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DSS_SEARCH_OFFENDER_ID_SEQ;
create sequence EXCLUSION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence TIER_ALLOCATION_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence RESTRICTION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence EVENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PSS_RQMNT_TYPE_MAIN_CAT_ID_SEQ maxvalue 900000000000000000;
create sequence PROPOSAL_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence UPW_APPOINTMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DRUG_USAGE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence UPW_DAY_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ALIAS_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DOCUMENT_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence RISK_ASSESSMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence UPW_ALLOCATION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PSS_RQMNT_MANAGER_ID_SEQ maxvalue 900000000000000000;
create sequence NSI_TYPE_ID_SEQ maxvalue 900000000000000000;
create sequence LIC_TERMIN_REASON_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PSS_RQMNT_TRANSFER_ID_SEQ maxvalue 900000000000000000;
create sequence AP_REFERRAL_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence GDPR_OFF_IICSA_SEARCH_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence REGISTRATION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence MERGE_OFFENDER_VALUES_ID_SEQ maxvalue 900000000000000000;
create sequence ND_PARAMETER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence IAPS_MESSAGE_LOG_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence COURT_REPORT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence RQMNT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence GDPR_OFF_ELIG_SEARCH_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence AP_REFERRAL_DELTA_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence TIER_ALLOC_QUESTION_TIER_IDSEQ maxvalue 900000000000000000 cache 500;
create sequence NSI_MANAGER_ID_SEQ maxvalue 900000000000000000;
create sequence GDPR_OFFENDER_FREE_TEXT_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence STAFF_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ENFORCEMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OFFENDER_ADDRESS_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OFFENDER_MANAGER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence MERGE_DUPLICATES_ID_SEQ maxvalue 900000000000000000;
create sequence TEAM_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence TRAINING_SESSION_PASSWORDIDSEQ maxvalue 900000000000000000 cache 500;
create sequence KEY_DATE_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence ENFORCEMENT_ACTION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence AD_RQMNT_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DOCUMENT_TEMPLATE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence RQMNT_TERMIN_REASON_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DMS_DOCUMENT_ID_SEQ;
create sequence LIC_CONDITION_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence AD_RQMNT_TYPE_MAIN_CAT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ASSESSMENT_OUTCOME_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PRECON_TRANSACTION_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence MANAGEMENT_TIER_EVENT_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence AP_REFERRAL_DELTA_ERROR_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence BUSINESS_INT_XML_DETAIL_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence ADDRESS_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PRF_COLLECTOR_RUN_ID_SEQ cache 500;
create sequence PSS_RQMNT_TYPE_ID_SEQ maxvalue 900000000000000000;
create sequence MASTER_TRANSFER_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence HOSTS_AT_RELEASE_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence PNC_NUMBER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence USER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DISPOSAL_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ADDITIONAL_SENTENCE_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence BUSINESS_INTERACTION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CIRCUMSTANCE_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence UPW_STATUS_HISTORY_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence CUSTODY_CONTACT_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OFFICE_LOCATION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence COURT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ORGANISATION_ID_SEQ maxvalue 900000000000000000;
create sequence UPW_ADJUSTMENT_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence REJECTED_TRANSFER_DIARY_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence UPW_PROJECT_AVAILABILITY_IDSEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OFFENDER_MERGE_DET_HIST_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence GDPR_OFFENDER_DUPLICATE_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence REGISTER_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DPA_REPORT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence Z_0248_LOG_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence UPW_ADJUSTMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OBJECT_TYPE_DOC_TEMP_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence RELEASE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PRECON_HISTORY_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence PROCESSING_CRN_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence OASYS_ASSESSMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence UPW_PROJECT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CASE_ALLOCATION_QUEST_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence CUSTODY_CONTACT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OFFENDER_DELTA_ID_SEQ;
create sequence DRUG_TEST_RESULT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SPG_MESSAGE_LOG_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence DYNAMIC_RSR_HISTORY_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence RQMNT_MANAGER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence UPW_COMMISSIONING_SOURCE_IDSEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DMS_ERROR_LOG_ID_SEQ;
create sequence DRUG_TEST_PROFILE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence MAIN_OFFENCE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SPG_ERROR_ELEMENT_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence RESPONSIBLE_OFFICER_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence NSI_STATUS_ID_SEQ maxvalue 900000000000000000;
create sequence LIC_COND_TYPE_MAIN_CAT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CONTACT_UPLOAD_DOCUMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ADDRESS_ASSESSMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence EXPLANATION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence NSI_ID_SEQ maxvalue 900000000000000000;
create sequence SPG_VERSION_ENTRY_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence REFERENCE_DATA_MASTER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DATA_SCRIPT_MESSAGE_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence REFERRAL_OUTCOME_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence INSTITUTIONAL_REP_TRANS_ID_SEQ maxvalue 900000000000000000;
create sequence PSS_RQMNT_ID_SEQ maxvalue 900000000000000000;
create sequence PROVIDER_TEAM_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SAR_CONTACT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence COURT_REPORT_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ADDITIONAL_OFFENCE_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PERSONAL_CONTACT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DMS_MESSAGE_LOG_ID_SEQ cache 500;
create sequence REGISTRATION_CATEGORY_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence STANDARD_REFERENCE_LIST_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ADDITIONAL_IDENTIFIER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OFFENDER_ID_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DISABILITY_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence GDPR_OFFENDER_RETAINED_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence LOST_BEDS_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OFFENDER_MERGE_DETAILS_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence SPG_ERROR_LOG_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence TRAINING_SESSION_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence CONTACT_SUSPENSION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PROVISION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PERSONAL_CIRCUMSTANCE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence TIER_ALLOCATION_QUEST_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence CONTACT_ALERT_CLEAR_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence CUSTODIAL_ESTABLISHMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence RQMNT_TYPE_MAIN_CATEGORY_IDSEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence MIGRATED_DATA_HISTORY_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence TRANSFER_REASON_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence TRAINING_TABLE_ROWS_ID_SEQ maxvalue 900000000000000000;
create sequence SPG_XSD_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence INTERACTION_ID_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ASSESSMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence RECALL_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence OASYS_SENTENCE_PLAN_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence CJALICENCE_CONDITIONTYPEID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PROPOSED_RQMNT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence PROVIDER_LOCATION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DISTRICT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence LOCAL_DELIVERY_UNIT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DRUG_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence AP_AUDIT_REGISTER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence AP_RESIDENCE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SPG_INBOUND_INDEX_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence REGISTER_TYPE_DUP_GRP_SEQ minvalue 1500000000 maxvalue 900000000000000000 cache 500;
create sequence PSS_RQMNT_TYPE_SUB_CAT_ID_SEQ maxvalue 900000000000000000;
create sequence DISPOSAL_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SPG_SEARCH_REQUEST_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence NOMIS_CASE_NOTE_ERROR_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence HOST_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence PARTITION_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence ORDER_MANAGER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence REPORT_MANAGER_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence SPG_ERROR_DETAIL_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence REFERRAL_TYPE_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence DOCUMENT_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence USER_NOTE_ID_SEQ maxvalue 900000000000000000 cache 500;
create sequence FORM_20_30_ID_SEQ minvalue 2500000000 maxvalue 900000000000000000 cache 500;
create sequence AQ$_DOC_MIGRATION_QUEUE_TAB_N;
create sequence AQ$_SPG_OUTBOUND_N;
create table CHANGE_CAPTURE_PAR
(
    CHANGE_CAPTURE_ID       number       not null,
    CHANGE_CAPTURE_BATCH_ID number,
    SOURCE_TABLE            varchar(32)  not null,
    SOURCE_TABLE_KEY        varchar(200) not null,
    SOURCE_TABLE_ROWID      NUMBER       not null,
    ACTION                  char         not null,
    PROCESSED_FLAG          char         not null,
    ROW_VERSION             number,
    constraint PK
        primary key (CHANGE_CAPTURE_ID)
);
create table CHANGE_CAPTURE
(
    CHANGE_CAPTURE_ID       number       not null,
    CHANGE_CAPTURE_BATCH_ID number,
    SOURCE_TABLE            varchar(32)  not null,
    SOURCE_TABLE_KEY        varchar(200) not null,
    SOURCE_TABLE_ROWID      NUMBER       not null,
    ACTION                  char         not null,
    PROCESSED_FLAG          char         not null,
    ROW_VERSION             number
);
create table AUDITED_INTERACTION
(
    DATE_TIME               date   not null,
    OUTCOME                 char   not null,
    INTERACTION_PARAMETERS  varchar(4000),
    USER_ID                 number not null,
    BUSINESS_INTERACTION_ID number not null,
    SPG_USERNAME            varchar(80)
);
create table AQ$_DOC_MIGRATION_QUEUE_TAB_I
(
    SUBSCRIBER         number       not null,
    NAME               varchar(30)  not null,
    QUEUE              number       not null,
    MSG_ENQ_TIME       timestamp(6) not null,
    MSG_STEP_NO        number       not null,
    MSG_CHAIN_NO       number       not null,
    MSG_LOCAL_ORDER_NO number       not null,
    MSGID              varchar(16)  not null,
    HINT               NUMBER,
    SPARE              varchar(16),
    primary key (SUBSCRIBER, NAME, QUEUE, MSG_ENQ_TIME, MSG_STEP_NO, MSG_CHAIN_NO, MSG_LOCAL_ORDER_NO, MSGID)
);
create table AQ$_DOC_MIGRATION_QUEUE_TAB_T
(
    NEXT_DATE timestamp(6) not null,
    TXN_ID    varchar(30)  not null,
    MSGID     varchar(16)  not null,
    ACTION    number,
    primary key (NEXT_DATE, TXN_ID, MSGID)
);
create table AQ$_DOC_MIGRATION_QUEUE_TAB_H
(
    MSGID            varchar(16) not null,
    SUBSCRIBER       number      not null,
    NAME             varchar(30) not null,
    ADDRESS          number      not null,
    DEQUEUE_TIME     timestamp(6),
    TRANSACTION_ID   varchar(30),
    DEQUEUE_USER     varchar(30),
    PROPAGATED_MSGID varchar(16),
    RETRY_COUNT      number,
    HINT             NUMBER,
    SPARE            varchar(16),
    primary key (MSGID, SUBSCRIBER, NAME, ADDRESS)
);
create table AQ$_DOC_MIGRATION_QUEUE_TAB_G
(
    MSGID      varchar(16) not null,
    SUBSCRIBER number      not null,
    NAME       varchar(30) not null,
    ADDRESS    number      not null,
    SIGN       CLOB,
    DBS_SIGN   CLOB,
    primary key (MSGID, SUBSCRIBER, NAME, ADDRESS)
);
create table Z_WORK_QUALITY_0088
(
    UPW_APPOINTMENT_ID number not null,
    OFFENDER_ID        number not null,
    CONTACT_ID         number not null
);
create table Z_STAFF_0248
(
    OLD_STAFF_ID     number not null,
    NEW_STAFF_ID     number,
    OLD_OFFICER_CODE char(7),
    NEW_OFFICER_CODE char(7),
    constraint XPKZ_STAFF_0248
        primary key (OLD_STAFF_ID)
);
create table DJR_AUDITED_INTERACTION
(
    DATE_TIME               date   not null,
    OUTCOME                 char   not null,
    INTERACTION_PARAMETERS  varchar(4000),
    USER_ID                 number not null,
    BUSINESS_INTERACTION_ID number not null,
    SPG_USERNAME            varchar(80)
);
create table Z_EWL_DATA_249_EXT
(
    NDELIUS_DOMAIN                varchar(60),
    OFFICE_LOCATION_DESCRIPTION_1 varchar(60),
    PROVIDER_CODE_1               varchar(3),
    LOCATION_CODE_1               varchar(7),
    OFFICE_LOCATION_CODE_1        varchar(11),
    OFFICE_LOCATION_CODE_2        varchar(11),
    PROVIDER_CODE_2               varchar(3),
    LOCATION_CODE_2               varchar(7),
    OFFICE_LOCATION_DESCRIPTION_2 varchar(60)
);
create table Z_REBUILD_0241
(
    OFFENDER_ID number
);
create table BUSINESS_INT_XML_SUMMARY
(
    XML_MESSAGE_ID        number        not null,
    XSD_NUMBER            number        not null default 1,
    XML_MESSAGE_NAME      varchar(100)  not null,
    SOURCE_TABLES         varchar(4000) not null,
    WHERE_CLAUSE          varchar(4000) not null,
    WHERE_CLAUSE1         varchar(4000),
    HIERARCHY_LEVEL       number        not null,
    LEVEL_ORDER_BY        number        not null,
    UNIQUE_KEY            varchar(200)  not null,
    FK_KEY                varchar(200),
    PARENT_XML_MESSAGE_ID number,
    NOTES                 varchar(4000),
    constraint XPKBUSINESS_INT_XML_SUMMARY
        primary key (XML_MESSAGE_ID, XSD_NUMBER)
);
create table ZI_OFFENDER_0058
(
    OFFENDER_ID  number  not null,
    CRN          char(7) not null,
    NOMS_NUMBER  char(7),
    SOFT_DELETED number  not null
);
create table IAPS_CONTACT
(
    CONTACT_ID          number not null,
    IAPS_FLAG           number not null,
    TRAINING_SESSION_ID number,
    constraint XPKIAPS_CONTACT
        primary key (CONTACT_ID)
);
create table Z_LOG_0283
(
    LOG_ID           number,
    LOG_DATE         date,
    SCRIPT_NAME      varchar(30),
    SCRIPT_LABEL     varchar(10),
    CRN              varchar(7),
    OLD_USER_ID      number,
    OLD_DN           varchar(500),
    NEW_USER_ID      number,
    NEW_DN           varchar(500),
    NEW_EXCLUSION_ID number,
    MESSAGE_TYPE     char,
    LOG_MESSAGE      varchar(1024)
);
create table Z_TEMPLATES_0254_EXT
(
    TEMPLATE_NAME varchar(200),
    TARGET        varchar(4)
);
create table Z_AR_PENDING_TRANSFER_0278
(
    TRAN_TYPE             varchar(7),
    TID                   number,
    ID                    number,
    TRANSFER_STATUS_ID    number,
    REJECTION_REASON_ID   number,
    WITHDRAWAL_REASON_ID  number,
    TRANSFER_STATUS_DATE  date,
    LAST_UPDATED_USER_ID  number,
    LAST_UPDATED_DATETIME date,
    CRN                   varchar(7),
    O_PA                  varchar(100),
    O_TEAM                varchar(100),
    O_STAFF               varchar(100),
    R_PA                  varchar(100),
    R_TEAM                varchar(100),
    R_STAFF               varchar(100)
);
create table Z_N51_DATA_247_EXT
(
    NDELIUS_DOMAIN                varchar(60),
    OFFICE_LOCATION_DESCRIPTION_1 varchar(60),
    PROVIDER_CODE_1               varchar(3),
    LOCATION_CODE_1               varchar(7),
    OFFICE_LOCATION_CODE_1        varchar(11),
    OFFICE_LOCATION_CODE_2        varchar(11),
    PROVIDER_CODE_2               varchar(3),
    LOCATION_CODE_2               varchar(7),
    OFFICE_LOCATION_DESCRIPTION_2 varchar(60)
);
create table Z_CLEAR_ENF_ACTIONS_0156
(
    CONTACT_ID                   number not null,
    CONTACT_TYPE_ID              number not null,
    OFFENDER_ID                  number not null,
    LATEST_ENFORCEMENT_ACTION_ID number
);
create table ZI_CONTACT_TYPE_0076
(
    NAME         varchar(100),
    CODE         varchar(10),
    DESCRIPTION  varchar(100),
    SGC_FLAG     varchar(1),
    SPG_EXCLUDED varchar(1)
);
create table ZI_REF_DATA_0053
(
    CODE_SET_NAME    varchar(100),
    CODE_DESCRIPTION varchar(500),
    CODE_VALUE       varchar(100),
    SELECTABLE       char
);
create table Z_EWL_DATA_249
(
    NDELIUS_DOMAIN                varchar(60),
    OFFICE_LOCATION_DESCRIPTION_1 varchar(60),
    PROVIDER_CODE_1               varchar(3),
    LOCATION_CODE_1               varchar(7),
    OFFICE_LOCATION_CODE_1        varchar(11),
    OFFICE_LOCATION_CODE_2        varchar(11),
    PROVIDER_CODE_2               varchar(3),
    LOCATION_CODE_2               varchar(7),
    OFFICE_LOCATION_DESCRIPTION_2 varchar(60)
);
create table Z_N51_247_AFTER
(
    BACKUP_DATE             date,
    PROVIDER_CODE_FROM      varchar(3),
    LOCATION_CODE_FROM      varchar(7),
    OFFICE_LOCATION_ID_FROM number,
    PROVIDER_CODE_TO        varchar(3),
    LOCATION_CODE_TO        varchar(7),
    OFFICE_LOCATION_ID_TO   number,
    ROW_VERSION             number
);
create table Z_COURT_APPEARANCE_243
(
    INTERNAL_OFFENDER_ID    number      not null,
    MAX_COURT_APPEARANCE_ID number,
    APPEARANCE_DATE         date        not null,
    APPEARANCE_TYPE_ID      number      not null,
    APPEARANCE_TYPE         varchar(500),
    OUTCOME_ID              number,
    OUTCOME_TYPE            varchar(500),
    EVENT_ID                number      not null,
    EVENT_NUMBER            varchar(10) not null,
    OFFENDER_ID             number      not null,
    CRN                     char(7)     not null,
    CURRENT_REMAND_STATUS   varchar(200),
    REMAND_STATUS_ID        number,
    CODE_VALUE              varchar(100),
    CODE_DESCRIPTION        varchar(500)
);
create table Z_EWL_DATA_264_EXT
(
    CODE        varchar(7),
    DESCRIPTION varchar(70)
);
create table DMS_STATUS
(
    DMS_STATUS_ID          number(22)   not null,
    DMS_STATUS_DESCRIPTION varchar(200) not null,
    constraint DMS_STATUS_PK
        primary key (DMS_STATUS_ID)
);
comment on column DMS_STATUS.DMS_STATUS_ID is 'Primary Key';
comment on column DMS_STATUS.DMS_STATUS_DESCRIPTION is 'Status description';
create table Z_NSI_0241
(
    MANAGER                 char(17),
    MANAGER_ID              number       not null,
    ALLOCATION_REASON_ID    number(22),
    CODE                    char(3)      not null,
    TEAM_ID                 number       not null,
    TEAM_CODE               char(6)      not null,
    TEAM_DESCRIPTION        varchar(50)  not null,
    TEAM_END_DATE           date,
    STAFF_ID                number       not null,
    OFFICER_CODE            char(7),
    FORENAME                varchar(35)  not null,
    FORENAME2               varchar(35),
    SURNAME                 varchar(35)  not null,
    STAFF_END_DATE          date,
    CRN                     char(7)      not null,
    OFFENDER_ID             number       not null,
    EVENT_NUMBER            varchar(10)  not null,
    EVENT_ID                number       not null,
    NSI_ID                  number       not null,
    NSI_TYPE_CODE           varchar(20)  not null,
    NSI_TYPE_DESCRIPTION    varchar(200) not null,
    RATE_CARD_FLAG          char         not null,
    NSI_OUTCOME_CODE        varchar(100),
    NSI_OUTCOME_DESCRIPTION varchar(500),
    OFFENDER_LEVEL          number       not null,
    EVENT_LEVEL             number       not null,
    OFFENDER_SD             number       not null,
    NSI_MANAGER_SD          number       not null,
    EVENT_SD                number       not null,
    NSI_SD                  number       not null
);
create table Z_STAFF_0278
(
    OLD_STAFF_ID     number not null,
    NEW_STAFF_ID     number,
    NEW_PROVIDER_ID  number not null,
    OLD_OFFICER_CODE char(7),
    NEW_OFFICER_CODE char(7),
    constraint XAK1_STAFF_0278
        unique (OLD_STAFF_ID, NEW_PROVIDER_ID)
);
create table ZI_REF_DATA_EXT_0053
(
    CODE_SET_NAME    varchar(100),
    CODE_DESCRIPTION varchar(500),
    CODE_VALUE       varchar(100),
    SELECTABLE       char
);
create table Z_SPG_ERR_CONTACT_NOTES_0194
(
    SPG_ERROR_ID        number not null,
    SPG_NOTIFICATION_ID number not null,
    SPG_ERROR_DETAIL_ID number not null,
    DATA_ITEM           varchar(255),
    SPG_OFFENDER_ID     number,
    SPG_EVENT_ID        number
);
create table Z_FIX_NOTIONAL_END_DATES_0193
(
    DISPOSAL_ID           number not null,
    DISPOSAL_DATE         date   not null,
    LENGTH                number,
    EVENT_ID              number not null,
    OFFENDER_ID           number not null,
    NOTIONAL_END_DATE     date,
    LAST_UPDATED_DATETIME date   not null,
    LAST_UPDATED_USER_ID  number not null
);
create table Z_TRANSFER_BATCH_DETAIL_0260
(
    OFFENDER_ID      number      not null,
    TRANSFER_TYPE    varchar(30) not null,
    TRANSFER_ID      number      not null,
    CREATED_DATETIME date        not null,
    TERMINATION_DATE date,
    constraint XAK1Z_TRANSFER_BATCH_DET_0260
        unique (TRANSFER_TYPE, TRANSFER_ID)
);
create table BUSINESS_INT_XML_MAP
(
    BUSINESS_INT_XML_MAP_ID  number       not null,
    BUSINESS_INTERACTION_ID  number       not null,
    ROOT_XML_MESSAGE_ID      number       not null,
    XML_MESSAGE_NAME         varchar(100) not null,
    DATA_UPDATE_MODE         char,
    INCLUDE_XML_MESSAGE_LIST varchar(1000),
    EXCLUDE_XML_MESSAGE_LIST varchar(1000),
    XSD_NUMBER               number       not null default 1,
    constraint XPKBUSINESS_INT_XML_MAP
        primary key (BUSINESS_INT_XML_MAP_ID),
    constraint XAK1BUSINESS_INT_XML_MAP
        unique (BUSINESS_INTERACTION_ID, ROOT_XML_MESSAGE_ID, XSD_NUMBER)
);
create table IAPS_LIC_CONDITION
(
    LIC_CONDITION_ID    number not null,
    IAPS_FLAG           number not null,
    TRAINING_SESSION_ID number,
    constraint XPKIAPS_LIC_CONDITION
        primary key (LIC_CONDITION_ID)
);
create table AP_REFERRAL_DELTA
(
    AP_REFERRAL_DELTA_ID          number not null,
    APPROVED_PREMISES_REFERRAL_ID number,
    CREATED_DATETIME              date,
    PROCESSED_DATETIME            date,
    constraint XPKAPPROVED_PREMISES_REFERRAL_
        primary key (AP_REFERRAL_DELTA_ID)
);
create table Z_DISABILITY_282
(
    CRN             char(7),
    START_DATE      date,
    FINISH_DATE     date,
    PROCESSED       number(1) not null default 0,
    PROCESSED_DATE  timestamp(6),
    PROCESSED_NOTES varchar(255)
);
create table Z_AR_SCRIPT_0102
(
    CRN                 char(7) not null,
    OFFENDER_ID         number  not null,
    CURRENT_TIER        varchar(100),
    RECALC_TIER         varchar(100),
    NUM_UNTERMIN_EVENTS number
);
create table Z_NSI_0248
(
    MANAGER                 char(17),
    MANAGER_ID              number       not null,
    ALLOCATION_REASON_ID    number(22),
    CODE                    char(3)      not null,
    TEAM_ID                 number       not null,
    TEAM_CODE               char(6)      not null,
    TEAM_DESCRIPTION        varchar(50)  not null,
    TEAM_END_DATE           date,
    STAFF_ID                number       not null,
    OFFICER_CODE            char(7),
    FORENAME                varchar(35)  not null,
    FORENAME2               varchar(35),
    SURNAME                 varchar(35)  not null,
    STAFF_END_DATE          date,
    CRN                     char(7)      not null,
    OFFENDER_ID             number       not null,
    EVENT_NUMBER            varchar(10)  not null,
    EVENT_ID                number       not null,
    NSI_ID                  number       not null,
    NSI_TYPE_CODE           varchar(20)  not null,
    NSI_TYPE_DESCRIPTION    varchar(200) not null,
    RATE_CARD_FLAG          char         not null,
    NSI_OUTCOME_CODE        varchar(100),
    NSI_OUTCOME_DESCRIPTION varchar(500),
    OFFENDER_LEVEL          number       not null,
    EVENT_LEVEL             number       not null,
    OFFENDER_SD             number       not null,
    NSI_MANAGER_SD          number       not null,
    EVENT_SD                number       not null,
    NSI_SD                  number       not null
);
create table Z_CON_0241
(
    CONTACT_ID         number      not null,
    CONTACT_DATE       date        not null,
    OFFICE_LOCATION_ID number,
    OFFENDER_ID        number      not null,
    CRN                char(7)     not null,
    TEAM_ID            number      not null,
    TEAM_CODE          char(6)     not null,
    STAFF_ID           number      not null,
    OFFICER_CODE       char(7),
    CODE               char(3)     not null,
    CONTACT_TYPE_CODE  varchar(10) not null,
    SPG_INTEREST       number
);
create table Z_EWL_DATA_253_EXT
(
    CRN              varchar(7),
    NATIONAL_ID      number(20),
    REVIEW_DATE      date,
    TEAM_CODE        varchar(6),
    TEAM_DESCRIPTION varchar(50),
    STAFF_CODE       varchar(7),
    STAFF_SURNAME    varchar(70),
    STAFF_FIRSTNAME  varchar(70)
);
create table OFFENDER_DELTA
(
    OFFENDER_ID           number      not null,
    DATE_CHANGED          date        not null,
    ACTION                varchar(10) not null,
    OFFENDER_DELTA_ID     number(38)  not null,
    SOURCE_TABLE          varchar(30),
    SOURCE_RECORD_ID      number(38),
    STATUS                varchar(10)          default 'CREATED',
    CREATED_DATETIME      date        not null default SYSDATE,
    LAST_UPDATED_DATETIME date        not null default SYSDATE,
    constraint OFFENDER_DELTA_ACTI_1109726585
        check (ACTION in (
                          'UPSERT', 'DELETE'
            )),
    constraint XPK_OFFENDER_DELTA
        primary key (OFFENDER_DELTA_ID)
);
create table CHANGE_CAPTURE_HISTORY
(
    CHANGE_CAPTURE_ID       number       not null,
    CHANGE_CAPTURE_BATCH_ID number       not null,
    SOURCE_TABLE            varchar(32)  not null,
    SOURCE_TABLE_KEY        varchar(200) not null,
    SOURCE_TABLE_ROWID      NUMBER       not null,
    ACTION                  char         not null,
    PROCESSED_FLAG          char         not null default 'N',
    ROW_VERSION             number                default 0
);
create table Z_COURT_0241
(
    MANAGER                        char(17),
    MANAGER_ID                     number       not null,
    COURT_REP_ALLOCATION_REASON_ID number,
    CODE                           char(3)      not null,
    TEAM_ID                        number       not null,
    TEAM_CODE                      char(6)      not null,
    TEAM_DESCRIPTION               varchar(50)  not null,
    TEAM_END_DATE                  date,
    STAFF_ID                       number       not null,
    OFFICER_CODE                   char(7),
    FORENAME                       varchar(35)  not null,
    FORENAME2                      varchar(35),
    SURNAME                        varchar(35)  not null,
    STAFF_END_DATE                 date,
    CRN                            char(7)      not null,
    OFFENDER_ID                    number       not null,
    EVENT_NUMBER                   varchar(10)  not null,
    EVENT_ID                       number       not null,
    COURT_REPORT_ID                number       not null,
    APPEARANCE_DATE                date         not null,
    APPEARANCE_TYPE_CODE           varchar(100) not null,
    APPEARANCE_TYPE_DESCRIPTION    varchar(500) not null,
    OUTCOME_CODE                   varchar(100),
    OUTCOME_DESCRIPTION            varchar(500),
    ACTIVE_FLAG                    number       not null,
    OFFENDER_SD                    number       not null,
    REPORT_MANAGER_SD              number       not null,
    EVENT_SD                       number       not null,
    COURT_REPORT_SD                number       not null,
    COURT_APPEARANCE_SD            number       not null
);
create table Z_OFFENDER_MANAGER_884223
(
    BU_DATE                date,
    OFFENDER_MANAGER_ID    number not null,
    ALLOCATION_DATE        date   not null,
    END_DATE               date,
    TEAM_ID                number,
    ALLOCATION_STAFF_ID    number,
    PARTITION_AREA_ID      number not null,
    OFFENDER_ID            number not null,
    SOFT_DELETED           number not null,
    ROW_VERSION            number not null,
    ALLOCATION_REASON_ID   number not null,
    PROVIDER_EMPLOYEE_ID   number,
    OFFENDER_TRANSFER_ID   number,
    PROVIDER_TEAM_ID       number,
    TRAINING_SESSION_ID    number,
    TRUST_PROVIDER_FLAG    number not null,
    STAFF_EMPLOYEE_ID      number not null,
    PROBATION_AREA_ID      number not null,
    TRUST_PROVIDER_TEAM_ID number not null,
    ACTIVE_FLAG            number not null,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null
);
create table DMS_BATCH
(
    DMS_BATCH_ID              number(22)   not null,
    PROBATION_AREA_ID         number(22),
    BATCH_NAME                varchar(200) not null,
    FOLDER_CREATE_START       timestamp(6),
    FOLDER_CREATE_FINISH      timestamp(6),
    FOLDER_CREATE_STATUS_ID   number(22)   not null,
    DOCUMENT_CREATE_START     timestamp(6),
    DOCUMENT_CREATE_FINISH    timestamp(6),
    DOCUMENT_CREATE_STATUS_ID number(22)   not null,
    CREATED_DATETIME          date         not null,
    CREATED_USER              varchar(30)  not null,
    LAST_UPDATED_DATETIME     date         not null,
    LAST_UPDATED_USER         varchar(30)  not null,
    ROW_VERSION               number       not null,
    constraint DMS_BATCH_PK
        primary key (DMS_BATCH_ID),
    constraint DMS_BATCH_FOLDER_CREATE_FK
        foreign key (FOLDER_CREATE_STATUS_ID)
            references DMS_STATUS,
    constraint DMS_BATCH_DOCUMENT_CREATE_FK
        foreign key (DOCUMENT_CREATE_STATUS_ID)
            references DMS_STATUS
);
comment on table DMS_BATCH is 'DMS_BATCH
========
This table stores the batch identifiers and the start, end and status of the folder and document creation';
comment on column DMS_BATCH.DMS_BATCH_ID is 'Primary Key';
comment on column DMS_BATCH.PROBATION_AREA_ID is 'Identifier for the provider';
comment on column DMS_BATCH.BATCH_NAME is 'Friendly name for the batch';
comment on column DMS_BATCH.FOLDER_CREATE_START is 'Start of the folder creation for the batch';
comment on column DMS_BATCH.FOLDER_CREATE_FINISH is 'Finish of the folder creation for the batch';
comment on column DMS_BATCH.FOLDER_CREATE_STATUS_ID is 'Status of the folder creation process';
comment on column DMS_BATCH.DOCUMENT_CREATE_START is 'Start of the document creation for the batch';
comment on column DMS_BATCH.DOCUMENT_CREATE_FINISH is 'Finish of the document creation process for the batch';
comment on column DMS_BATCH.DOCUMENT_CREATE_STATUS_ID is 'Status of the document creation process';
comment on column DMS_BATCH.CREATED_DATETIME is 'Creation date for the row';
comment on column DMS_BATCH.CREATED_USER is 'Creation user for the row';
comment on column DMS_BATCH.LAST_UPDATED_DATETIME is 'Last update date for the row';
comment on column DMS_BATCH.LAST_UPDATED_USER is 'Last update user for the row';
comment on column DMS_BATCH.ROW_VERSION is 'Row version increment';
create table PROCESSING_CRN
(
    PROCESSING_CRN_ID number(38) not null,
    CRN               char(7)    not null,
    DATE_COMMENCED    date       not null,
    constraint XPKPROCESSING_CRN
        primary key (PROCESSING_CRN_ID),
    constraint XAKPROCESSING_CRN
        unique (CRN)
);
create table Z_STAFF_AREA_0241
(
    STAFF_ID        number not null,
    OLD_PROVIDER_ID number,
    NEW_PROVIDER_ID number,
    constraint XAK1Z_STAFF_AREA_0241
        primary key (STAFF_ID)
);
create table Z_LOG_0248
(
    LOG_ID       number,
    LOG_DATE     date,
    SCRIPT_NAME  varchar(30),
    SCRIPT_LABEL varchar(10),
    MANAGER_TYPE varchar(30),
    MANAGER_ID   number,
    OFFENDER_ID  number,
    MESSAGE_TYPE char,
    LOG_MESSAGE  varchar(1024)
);
create table Z_0241_REBUILD
(
    OFFENDER_ID number not null
);
create table Z_PSS_0241
(
    MANAGER                    char(17),
    MANAGER_ID                 number(22)   not null,
    ALLOCATION_REASON_ID       number(22),
    CODE                       char(3)      not null,
    TEAM_ID                    number       not null,
    TEAM_CODE                  char(6)      not null,
    TEAM_DESCRIPTION           varchar(50)  not null,
    TEAM_END_DATE              date,
    STAFF_ID                   number       not null,
    OFFICER_CODE               char(7),
    FORENAME                   varchar(35)  not null,
    FORENAME2                  varchar(35),
    SURNAME                    varchar(35)  not null,
    STAFF_END_DATE             date,
    CRN                        char(7)      not null,
    OFFENDER_ID                number       not null,
    EVENT_NUMBER               varchar(10)  not null,
    EVENT_ID                   number       not null,
    PSS_RQMNT_ID               number(22)   not null,
    DISPOSAL_DATE              date         not null,
    DISPOSAL_TYPE_CODE         varchar(30)  not null,
    DISPOSAL_DESCRIPTION       varchar(128) not null,
    PSS_RQMNT_TYPE_CODE        varchar(20)  not null,
    PSS_RQMNT_TYPE_DESCRIPTION varchar(200) not null,
    OFFENDER_SD                number       not null,
    PSS_RQMNT_MANAGER_SD       number(22)   not null,
    EVENT_SD                   number       not null,
    DISPOSAL_SD                number       not null,
    PSS_RQMNT_SD               number(22)   not null,
    CUSTODY_SD                 number       not null
);
create table Z_AP_MULTIPLE_0083
(
    APPROVED_PREMISES_ID number not null,
    AP_COUNT             number
);
create table PDT_THREAD
(
    COMPONENT_ID            number not null,
    THREAD_ID               number not null,
    STATUS                  number not null,
    START_ID_VAL            number,
    END_ID_VAL              number,
    NUM_OF_ROWS             number default 0,
    START_DATE              date   not null,
    FINISH_DATE             date,
    PROGRAM_ACTION          varchar(4000),
    ERROR_MESSAGE           varchar(4000),
    INFO_MESSAGE            varchar(4000),
    THREAD_LABEL            varchar(100),
    SID                     number,
    SERIAL                  number,
    LAST_HEARTBEAT_DT       date,
    LAST_HEARTBEAT_CHECK_DT date,
    INSTANCE_NAME           varchar(16),
    CURRENT_ID_VAL          number,
    THREAD_FIXIT_JOB        varchar(100),
    check (STATUS in (
                      1, 2, 3
        ))
);
create table Z_AR_AI_REG_BEFORE
(
    DATE_TIME               date   not null,
    OUTCOME                 char   not null,
    INTERACTION_PARAMETERS  varchar(4000),
    USER_ID                 number not null,
    BUSINESS_INTERACTION_ID number not null,
    SPG_USERNAME            varchar(80)
);
create table IAPS_EVENT
(
    EVENT_ID            number not null,
    IAPS_FLAG           number not null,
    TRAINING_SESSION_ID number,
    constraint XPKIAPS_EVENT
        primary key (EVENT_ID)
);
create table Z_TRANSFER_0278
(
    OLD_MASTER_TRANSFER_ID number,
    OLD_TRANSFER_ID        number,
    TRANSFER_TYPE          varchar(30),
    DIRECTION              varchar(1),
    NEW_MASTER_TRANSFER_ID number,
    NEW_TRANSFER_ID        number,
    ROW_VERSION            number not null,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    constraint XCHK1Z_TRANSFER_0278
        check (TRANSFER_TYPE in (
                                 'OFFENDER_TRANSFER', 'ORDER_TRANSFER', 'NSI_TRANSFER', 'RQMNT_TRANSFER',
                                 'LIC_CONDITION_TRANSFER',
                                 'PSS_RQMNT_TRANSFER', 'COURT_REPORT_TRANSFER', 'INSTITUTIONAL_REPORT_TRANSFER'
            )),
    constraint XCHK2Z_TRANSFER_0278
        check (DIRECTION in (
                             'O', 'I'
            )),
    constraint XAK1Z_TRANSFER_0278
        unique (OLD_MASTER_TRANSFER_ID, TRANSFER_TYPE, OLD_TRANSFER_ID),
    constraint XAK3Z_TRANSFER_0278
        unique (OLD_TRANSFER_ID, TRANSFER_TYPE)
);
create table BUSINESS_INTERACTION
(
    BUSINESS_INTERACTION_ID     number       not null,
    BUSINESS_INTERACTION_CODE   varchar(20)  not null,
    DESCRIPTION                 varchar(500) not null,
    ENABLED_DATE                date,
    AUDIT_INTERACTION_PARAMETER date,
    ROW_VERSION                 number       not null default 0,
    constraint XPKBUSINESS_INTERACTION
        primary key (BUSINESS_INTERACTION_ID)
);
create table HOST_AT_RELEASE_20200224
(
    HOST_AT_RELEASE_ID    number(38) not null,
    RELEASE_ID            number(38) not null,
    PROBATION_AREA_ID     number(38) not null,
    CREATED_BY_USER_ID    number(22) not null,
    CREATED_DATETIME      date       not null,
    LAST_UPDATED_USER_ID  number(22) not null,
    LAST_UPDATED_DATETIME date       not null
);
create table Z_INST_0248
(
    MANAGER                       char(17),
    MANAGER_ID                    number       not null,
    INST_REP_ALLOCATION_REASON_ID number,
    CODE                          char(3)      not null,
    TEAM_ID                       number       not null,
    TEAM_CODE                     char(6)      not null,
    TEAM_DESCRIPTION              varchar(50)  not null,
    TEAM_END_DATE                 date,
    STAFF_ID                      number       not null,
    OFFICER_CODE                  char(7),
    FORENAME                      varchar(35)  not null,
    FORENAME2                     varchar(35),
    SURNAME                       varchar(35)  not null,
    STAFF_END_DATE                date,
    CRN                           char(7)      not null,
    OFFENDER_ID                   number       not null,
    EVENT_NUMBER                  varchar(10)  not null,
    EVENT_ID                      number       not null,
    INSTITUTIONAL_REPORT_ID       number       not null,
    DISPOSAL_DATE                 date         not null,
    DISPOSAL_TYPE_CODE            varchar(30)  not null,
    DISPOSAL_DESCRIPTION          varchar(128) not null,
    IR_REPORT_CODE                varchar(100) not null,
    IR_REPORT_DESCRIPTION         varchar(500) not null,
    OFFENDER_SD                   number       not null,
    REPORT_MANAGER_SD             number       not null,
    EVENT_SD                      number       not null,
    DISPOSAL_SD                   number       not null,
    INSTITUTIONAL_REPORT_SD       number       not null,
    CUSTODY_SD                    number       not null
);
create table ZI_DUPES_0058
(
    NOMS_NUMBER     char(7),
    NUMBER_OF_DUPES number
);
create table Z_AR_USER_ROLES
(
    USER_NAME varchar(100),
    USER_ROLE varchar(10)
);
create table MISSING_ALLOCATED_OFFENDERS
(
    OFFENDER_ID       number(38),
    PROVIDER_ID       number(38),
    EXPORTED          number(1),
    EXPORT_DATE       timestamp(6),
    RBAC_LEVEL        varchar(2),
    CRC_EXPORT_STATUS varchar(10)
);
create table Z_LOG_0241
(
    LOG_ID       number,
    LOG_DATE     date,
    SCRIPT_NAME  varchar(30),
    SCRIPT_LABEL varchar(10),
    MANAGER_TYPE varchar(30),
    MANAGER_ID   number,
    OFFENDER_ID  number,
    MESSAGE_TYPE char,
    LOG_MESSAGE  varchar(1024)
);
create table PDT_DEBUG
(
    DEBUG_SEQ       number,
    DEBUG_DATE_TIME date,
    DEBUG_MESSAGE   varchar(4000)
);
create table PRF_COLLECTOR
(
    PRF_COLLECTOR_ID          number(38) not null,
    PRF_COLLECTOR_RUN_ID      number(38) not null,
    PREV_PRF_COLLECTOR_RUN_ID number(38) not null,
    ROW_NUM                   number     not null,
    STATS_TYPE                varchar(4) not null,
    CREATED_DATETIME          date       not null,
    SID                       number,
    SERIAL                    number,
    EXECUTIONS                number,
    USERS_EXECUTING           number,
    DISK_READS                number,
    BUFFER_GETS               number,
    CPU_TIME                  number,
    USER_IO_WAIT_TIME         number,
    ROWS_PROCESSED            number,
    FETCHES                   number,
    INVALIDATIONS             number,
    KEPT_VERSIONS             number,
    LOADED_VERSIONS           number,
    VERSION_COUNT             number,
    MACHINE                   varchar(64),
    OSUSER                    varchar(30),
    MODULE                    varchar(64),
    PROGRAM                   varchar(48),
    USERNAME                  varchar(30),
    CLIENT_IDENTIFIER         varchar(64),
    SQL_ID                    varchar(13),
    ADDRESS                   varchar(8),
    HASH_VALUE                number,
    OLD_HASH_VALUE            number,
    PLAN_HASH_VALUE           number,
    PLSQL_EXEC_TIME           number,
    PARSE_CALLS               number,
    RUNTIME_MEM               number,
    SQL_PROFILE               varchar(64),
    SQL_TEXT                  varchar(4000),
    constraint XPKPRF_COLLECTOR
        primary key (PRF_COLLECTOR_ID),
    check (STATS_TYPE in (
                          'GETS', 'CPU', 'I/O', 'DISK'
        )),
    constraint XAK1PRF_COLLECTOR
        unique (PRF_COLLECTOR_RUN_ID, ROW_NUM)
);
create table OFFENDER_HIERARCHY
(
    TABLE_NAME             varchar(30) not null,
    CONSTRAINT_NAME        varchar(30),
    R_CONSTRAINT_NAME      varchar(30),
    CONSTRAINT_TYPE        varchar(1),
    PARENT_TABLE           varchar(30),
    FK_FLD                 varchar(4000),
    PARENT_PK_FLD          varchar(4000),
    WHERE_CLAUSE           varchar(4000),
    NOT_NULL_COL_NAME      varchar(30),
    ORDER_BY               number(5),
    HIER_LEVEL             number(5),
    HIER_ORDER_BY          number(5),
    OFFENDER_ID_COL_EXISTS varchar(1),
    check (OFFENDER_ID_COL_EXISTS in (
                                      'Y', 'N'
        ))
);
create table Z_EXCLUSION_0276
(
    OFFENDER_ID        number       not null,
    CRN                char(7)      not null,
    USER_ID            number       not null,
    PRIVATE            number       not null,
    DISTINGUISHED_NAME varchar(500) not null,
    EXCLUSION_ID       number       not null,
    EXCLUSION_DATE     date         not null,
    EXCLUSION_END_DATE date,
    CODE_VALUE         varchar(100) not null,
    CODE_DESCRIPTION   varchar(500) not null
);
create table Z_RQMNT_0241
(
    MANAGER              char(13),
    MANAGER_ID           number       not null,
    ALLOCATION_REASON_ID number(22),
    CODE                 char(3)      not null,
    TEAM_ID              number       not null,
    TEAM_CODE            char(6)      not null,
    TEAM_DESCRIPTION     varchar(50)  not null,
    TEAM_END_DATE        date,
    STAFF_ID             number       not null,
    OFFICER_CODE         char(7),
    FORENAME             varchar(35)  not null,
    FORENAME2            varchar(35),
    SURNAME              varchar(35)  not null,
    STAFF_END_DATE       date,
    CRN                  char(7)      not null,
    OFFENDER_ID          number       not null,
    EVENT_NUMBER         varchar(10)  not null,
    EVENT_ID             number       not null,
    RQMNT_ID             number       not null,
    DISPOSAL_DATE        date         not null,
    DISPOSAL_TYPE_CODE   varchar(30)  not null,
    DISPOSAL_DESCRIPTION varchar(128) not null,
    RQMNT_CODE           varchar(20)  not null,
    RQMNT_DESCRIPTION    varchar(200) not null,
    OFFENDER_SD          number       not null,
    RQMNT_MANAGER_SD     number       not null,
    EVENT_SD             number       not null,
    DISPOSAL_SD          number       not null
);
create table IAPS_OFFENDER
(
    OFFENDER_ID         number not null,
    IAPS_FLAG           number not null,
    TRAINING_SESSION_ID number,
    constraint XPKIAPS_OFFENDER
        primary key (OFFENDER_ID)
);
create table Z_NOT_FOUND_0076
(
    NAME         varchar(100),
    CODE         varchar(10),
    DESCRIPTION  varchar(100),
    SGC_FLAG     varchar(1),
    SPG_EXCLUDED varchar(1)
);
create table Z_EWL_DATA_250_EXT
(
    NATIONAL_PRIMARY_KEY_ID number(20)
);
create table Z_REF_DATA_267
(
    COUNTRY varchar(255),
    COUNTY  varchar(255),
    LJA     varchar(255),
    CODE    varchar(10)
);
create table Z_TRANSFER_0260
(
    OLD_MASTER_TRANSFER_ID number,
    OLD_TRANSFER_ID        number,
    TRANSFER_TYPE          varchar(30),
    DIRECTION              varchar(1),
    NEW_MASTER_TRANSFER_ID number,
    NEW_TRANSFER_ID        number,
    ROW_VERSION            number not null,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    constraint XCHK1Z_TRANSFER_0260
        check (TRANSFER_TYPE in (
                                 'OFFENDER_TRANSFER', 'ORDER_TRANSFER', 'NSI_TRANSFER', 'RQMNT_TRANSFER',
                                 'LIC_CONDITION_TRANSFER',
                                 'PSS_RQMNT_TRANSFER', 'COURT_REPORT_TRANSFER', 'INSTITUTIONAL_REPORT_TRANSFER'
            )),
    constraint XCHK2Z_TRANSFER_0260
        check (DIRECTION in (
                             'O', 'I'
            )),
    constraint XAK1Z_TRANSFER_0260
        unique (OLD_MASTER_TRANSFER_ID, TRANSFER_TYPE, OLD_TRANSFER_ID),
    constraint XAK3Z_TRANSFER_0260
        unique (OLD_TRANSFER_ID, TRANSFER_TYPE)
);
create table Z_LOG_0088
(
    UPW_APPOINTMENT_ID number,
    OFFENDER_ID        number,
    CONTACT_ID         number,
    LOG_DATE           date,
    LOG_MESSAGE        varchar(100)
);
create table Z_NULL_CHECK_EVENTS_0191
(
    EVENT_ID         number,
    OFFENDER_ID      number,
    DISPOSAL_ID      number,
    DISPOSAL_DATE    date,
    LENGTH           number,
    EFFECTIVE_LENGTH number,
    TERMINATION_DATE date
);
create table Z_MAPPING_0276_EXT
(
    OLD_DN varchar(500),
    NEW_DN varchar(500)
);
create table Z_ONSI_0248
(
    MANAGER                 char(20),
    MANAGER_ID              number       not null,
    ALLOCATION_REASON_ID    number(22),
    CODE                    char(3)      not null,
    TEAM_ID                 number       not null,
    TEAM_CODE               char(6)      not null,
    TEAM_DESCRIPTION        varchar(50)  not null,
    TEAM_END_DATE           date,
    STAFF_ID                number       not null,
    OFFICER_CODE            char(7),
    FORENAME                varchar(35)  not null,
    FORENAME2               varchar(35),
    SURNAME                 varchar(35)  not null,
    STAFF_END_DATE          date,
    CRN                     char(7)      not null,
    OFFENDER_ID             number       not null,
    NSI_ID                  number       not null,
    NSI_TYPE_CODE           varchar(20)  not null,
    NSI_TYPE_DESCRIPTION    varchar(200) not null,
    RATE_CARD_FLAG          char         not null,
    NSI_OUTCOME_CODE        varchar(100),
    NSI_OUTCOME_DESCRIPTION varchar(500),
    OFFENDER_LEVEL          number       not null,
    EVENT_LEVEL             number       not null,
    OFFENDER_SD             number       not null,
    NSI_MANAGER_SD          number       not null,
    NSI_SD                  number       not null
);
create table Z_N51_DATA_247
(
    NDELIUS_DOMAIN                varchar(60),
    OFFICE_LOCATION_DESCRIPTION_1 varchar(60),
    PROVIDER_CODE_1               varchar(3),
    LOCATION_CODE_1               varchar(7),
    OFFICE_LOCATION_CODE_1        varchar(11),
    OFFICE_LOCATION_CODE_2        varchar(11),
    PROVIDER_CODE_2               varchar(3),
    LOCATION_CODE_2               varchar(7),
    OFFICE_LOCATION_DESCRIPTION_2 varchar(60)
);
create table ZI_CONTACT_TYPE_0076_EXT
(
    NAME         varchar(100),
    CODE         varchar(10),
    DESCRIPTION  varchar(100),
    SGC_FLAG     varchar(1),
    SPG_EXCLUDED varchar(1)
);
create table BUSINESS_INT_XML_DETAIL
(
    BUSINESS_INT_XML_DETAIL_ID number       not null,
    XML_MESSAGE_ID             number       not null,
    XML_FIELD_ID               number       not null,
    SOURCE_TABLE               varchar(30)  not null,
    SOURCE_COLUMN              varchar(100) not null,
    TARGET_SQL_EXPRESSION      varchar(4000),
    TARGET_TABLE               varchar(30),
    XML_FIELD_NAME             varchar(100) not null,
    XML_IDENTIFIER_FLAG        char         not null default 'N',
    XML_DATA_TYPE              varchar(100) not null,
    XML_MINIMUM_OCCURANCES     number       not null default 0,
    XML_MAXIMUM_OCCURANCES     number       not null default 0,
    REFERENCE_DATA_FLAG        varchar(4)   not null default 'N',
    XML_MINIMUM_LENGTH         number,
    XML_MAXIMUM_LENGTH         number,
    REFERENTIAL_FLAG           char         not null default 'N',
    NOTES                      varchar(4000),
    INCLUDE_IN_DELETE_FLAG     char         not null default 'N',
    XSD_NUMBER                 number       not null default 1,
    constraint XPKBUSINESS_INT_XML_DETAIL
        primary key (BUSINESS_INT_XML_DETAIL_ID),
    constraint YES_OR_NO_ONLY_1203732916
        check (INCLUDE_IN_DELETE_FLAG in (
                                          'Y', 'N'
            )),
    constraint XAK1BUSINESS_INT_XML_DETAIL
        unique (XML_MESSAGE_ID, XML_FIELD_ID, XSD_NUMBER)
);
create table CHANGE_CAPTURE_BATCH
(
    CHANGE_CAPTURE_BATCH_ID number not null,
    PROCESS_START_DATE      date   not null,
    PROCESS_END_DATE        date,
    RECORD_COUNT            number,
    ARCHIVED_FLAG           char   not null default 'N',
    ERROR_FLAG              char   not null default 'N'
);
create table Z_OFFENDERS_0102
(
    OFFENDER_ID           number not null,
    TEAM_ID               number,
    STAFF_ID              number,
    PROBATION_AREA_ID     number not null,
    OFFENDER_CURRENT_TIER number,
    IOM_NOMINAL           char,
    SAFEGUARDING_ISSUE    char,
    VULNERABILITY_ISSUE   char
);
create table CHANGE_CAPTURE_LOG
(
    CHANGE_CAPTURE_LOG_ID number        not null,
    LOG_LEVEL             varchar(10)   not null,
    LOG_DATE_TIME         date          not null,
    LOG_MESSAGE           varchar(4000) not null
);
create table Z_REJECTED_TRANSFER_DIARY_0057
(
    REJECTED_TRANSFER_DIARY_ID    number(38) not null,
    TRANSFER_REQUEST_DATE         date       not null,
    TRANSFER_STATUS_DATE          date,
    TARGET_PROVIDER_ID            number(38) not null,
    TARGET_TEAM_ID                number(38) not null,
    TARGET_STAFF_ID               number(38) not null,
    ORIGIN_PROVIDER_ID            number(38) not null,
    ORIGIN_TEAM_ID                number(38) not null,
    ORIGIN_STAFF_ID               number(38) not null,
    REJECTION_REASON_ID           number(38) not null,
    OFFENDER_ID                   number(38) not null,
    MASTER_TRANSFER_ID            number(38),
    OFFENDER_TRANSFER_ID          number(38),
    NSI_TRANSFER_ID               number(38),
    NSI_ID                        number(38),
    ORDER_TRANSFER_ID             number(38),
    EVENT_ID                      number(38),
    RQMNT_TRANSFER_ID             number(38),
    RQMNT_ID                      number(38),
    LIC_CONDITION_TRANSFER_ID     number(38),
    LIC_CONDITION_ID              number(38),
    PSS_RQMNT_TRANSFER_ID         number(38),
    PSS_RQMNT_ID                  number(38),
    INSTITUTIONAL_REP_TRANSFER_ID number(38),
    INSTITUTIONAL_REPORT_ID       number(38),
    COURT_REPORT_TRANSFER_ID      number(38),
    COURT_REPORT_ID               number(38),
    NOTE_FLAG                     char
);
create table Z_TEMPATES_0254
(
    TEMPLATE_NAME varchar(200),
    TARGET        varchar(4)
);
create table Z_LOG_0284
(
    LOG_ID           number,
    LOG_DATE         date,
    SCRIPT_NAME      varchar(30),
    SCRIPT_LABEL     varchar(10),
    CRN              varchar(7),
    OLD_USER_ID      number,
    OLD_DN           varchar(500),
    NEW_USER_ID      number,
    NEW_DN           varchar(500),
    NEW_EXCLUSION_ID number,
    MESSAGE_TYPE     char,
    LOG_MESSAGE      varchar(1024)
);
create table CHANGE_CAPTURE_KEY
(
    KEY      number not null,
    ID_ROW   number not null,
    CHAR_ROW varchar(100),
    constraint XPKCHANGE_CAPTURE_KEY
        primary key (KEY)
);
create table Z_STAFF_0241
(
    OLD_STAFF_ID     number not null,
    NEW_STAFF_ID     number,
    NEW_PROVIDER_ID  number not null,
    OLD_OFFICER_CODE char(7),
    NEW_OFFICER_CODE char(7),
    constraint XAK1_STAFF_0241
        unique (OLD_STAFF_ID, NEW_PROVIDER_ID)
);
create table Z_SEN_COURT_APPEARANCE_243
(
    INTERNAL_OFFENDER_ID    number      not null,
    MAX_COURT_APPEARANCE_ID number,
    APPEARANCE_DATE         date        not null,
    APPEARANCE_TYPE_ID      number      not null,
    APPEARANCE_TYPE         varchar(500),
    OUTCOME_ID              number,
    OUTCOME_TYPE            varchar(500),
    EVENT_ID                number      not null,
    EVENT_NUMBER            varchar(10) not null,
    OFFENDER_ID             number      not null,
    CRN                     char(7)     not null,
    CURRENT_REMAND_STATUS   varchar(200),
    REMAND_STATUS_ID        number,
    CODE_VALUE              varchar(100),
    CODE_DESCRIPTION        varchar(500)
);
create table ENFORCEMENT_BCKUP
(
    ENFORCEMENT_ID        number not null,
    UPW_APPOINTMENT_ID    number,
    CONTACT_ID            number not null,
    ACTION_TAKEN_DATE     date,
    ACTION_TAKEN_TIME     date,
    RESPONSE_DATE         date,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null,
    CREATED_DATETIME      date   not null,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_DATETIME date   not null,
    ENFORCEMENT_ACTION_ID number,
    LAST_UPDATED_USER_ID  number not null,
    TRAINING_SESSION_ID   number
);
create table Z_TRANSFER_0248
(
    OLD_MASTER_TRANSFER_ID number,
    OLD_TRANSFER_ID        number,
    TRANSFER_TYPE          varchar(30),
    NEW_MASTER_TRANSFER_ID number,
    NEW_TRANSFER_ID        number,
    ROW_VERSION            number not null,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    constraint XCHK1Z_TRANSFER_0248
        check (TRANSFER_TYPE in (
                                 'OFFENDER_TRANSFER', 'ORDER_TRANSFER', 'NSI_TRANSFER', 'RQMNT_TRANSFER',
                                 'LIC_CONDITION_TRANSFER',
                                 'PSS_RQMNT_TRANSFER', 'COURT_REPORT_TRANSFER', 'INSTITUTIONAL_REPORT_TRANSFER'
            )),
    constraint XAK1Z_TRANSFER_0248
        unique (OLD_MASTER_TRANSFER_ID, TRANSFER_TYPE, OLD_TRANSFER_ID),
    constraint XAK3Z_TRANSFER_0248
        unique (OLD_TRANSFER_ID, TRANSFER_TYPE)
);
create table SPG_ERR_CONTACT_NOTES
(
    SPG_ERROR_ID        number not null,
    SPG_NOTIFICATION_ID number not null,
    SPG_ERROR_DETAIL_ID number not null,
    DATA_ITEM           varchar(255),
    SPG_OFFENDER_ID     number,
    SPG_EVENT_ID        number
);
create table Z_VEST_0088
(
    UPW_APPOINTMENT_ID number not null,
    OFFENDER_ID        number not null,
    CONTACT_ID         number not null
);
create table Z_RESTRICTION_0284
(
    OFFENDER_ID                number       not null,
    CRN                        char(7)      not null,
    USER_ID                    number       not null,
    PRIVATE                    number       not null,
    DISTINGUISHED_NAME         varchar(500) not null,
    RESTRICTION_ID             number       not null,
    RESTRICTION_DATE           date         not null,
    RESTRICTION_TIME           date         not null,
    RESTRICTION_START_STAFF_ID number       not null,
    RESTRICTION_END_DATE       date,
    RESTRICTION_END_TIME       date,
    RESTRICTION_REASON_ID      number       not null,
    RESTRICTION_END_STAFF_ID   number,
    RESTRICTION_START_TEAM_ID  number       not null,
    RESTRICTION_END_TEAM_ID    number,
    CODE_VALUE                 varchar(100) not null,
    CODE_DESCRIPTION           varchar(500) not null
);
create table Z_LOG_0102
(
    LOG_DATE        date,
    LOG_MESSAGE     varchar(100),
    OFFENDER_ID     number,
    CURRENT_TIER_ID number,
    NEW_TIER_ID     number
);
create table Z_LOG_REBUILD_0241
(
    LOG_DATE date
);
create table PROBATION_AREA_1
(
    PROBATION_AREA_ID       number      not null,
    CODE                    char(3)     not null,
    DESCRIPTION             varchar(60) not null,
    SELECTABLE              char        not null,
    ROW_VERSION             number      not null,
    FORM_20_CODE            varchar(20),
    MIGRATED_DATE           date,
    HO_AREA_CODE            varchar(20),
    CREATED_BY_USER_ID      number      not null,
    CREATED_DATETIME        date        not null,
    LAST_UPDATED_USER_ID    number      not null,
    LAST_UPDATED_DATETIME   date        not null,
    TRAINING_SESSION_ID     number,
    TRUST_CODE              char(3),
    TRUST_DIVISION_ID       number,
    TRUST_CPA_ID            number,
    PRIVATE                 number      not null,
    DIVISION_ID             number,
    ORGANISATION_ID         number      not null,
    CONTACT_NAME            varchar(200),
    ADDRESS_ID              number      not null,
    START_DATE              date        not null,
    END_DATE                date,
    SPG_ACTIVE_ID           number      not null,
    INSTITUTION_ID          number,
    ESTABLISHMENT           char,
    BROADCAST_REF_DATA      number,
    BROADCAST_OFFENDER_DATA number
);
create table Z_NOMS_NUMBER_0274
(
    OFFENDER_ID number  not null,
    CRN         char(7) not null,
    NOMS_NUMBER char(7)
);
create table Z_N50_247_AFTER
(
    BACKUP_DATE             date,
    PROVIDER_CODE_FROM      varchar(3),
    LOCATION_CODE_FROM      varchar(7),
    OFFICE_LOCATION_ID_FROM number,
    PROVIDER_CODE_TO        varchar(3),
    LOCATION_CODE_TO        varchar(7),
    OFFICE_LOCATION_ID_TO   number,
    ROW_VERSION             number
);
create table Z_N50_DATA_247
(
    NDELIUS_DOMAIN                varchar(60),
    OFFICE_LOCATION_DESCRIPTION_1 varchar(60),
    PROVIDER_CODE_1               varchar(3),
    LOCATION_CODE_1               varchar(7),
    OFFICE_LOCATION_CODE_1        varchar(11),
    OFFICE_LOCATION_CODE_2        varchar(11),
    PROVIDER_CODE_2               varchar(3),
    LOCATION_CODE_2               varchar(7),
    OFFICE_LOCATION_DESCRIPTION_2 varchar(60)
);
create table Z_INTENSIVE_0088
(
    UPW_APPOINTMENT_ID number not null,
    OFFENDER_ID        number not null,
    CONTACT_ID         number not null
);
create table Z_DISABILITY_282_EXT
(
    CRN         char(7),
    START_DATE  date,
    FINISH_DATE date
);
create table GTT_TAB_CHANGE_CAPTURE
(
    BATCH_ID              number      not null,
    SOURCE_TABLE          varchar(32) not null,
    PROCESSED_FLAG        varchar(1)  not null,
    QTY                   number      not null,
    MIN_CHANGE_CAPTURE_ID number      not null,
    MAX_CHANGE_CAPTURE_ID number      not null
);
create table Z_KEY_DATE_0065
(
    CUSTODY_ID            number not null,
    KEY_DATE_TYPE_ID      number not null,
    KEY_DATE              date   not null,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null,
    TRAINING_SESSION_ID   number,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    KEY_DATE_ID           number not null
);
create table Z_AR_AI_AFTER
(
    AI_DATE                 varchar(17),
    OUTCOME                 char   not null,
    USER_ID                 number not null,
    BUSINESS_INTERACTION_ID number not null,
    AI_COUNT                number
);
create table SPG_CONTROL
(
    SPG_CONTROL_ID number      not null,
    CONTROL_CODE   varchar(10) not null,
    CONTROL_NAME   varchar(200),
    CONTROL_TYPE   char        not null,
    VALUE_STRING   varchar(4000),
    VALUE_NUMBER   number,
    VALUE_DATE     date,
    constraint XPKSPG_CONTROL
        primary key (SPG_CONTROL_ID),
    constraint XAK1SPG_CONTROL
        unique (CONTROL_CODE),
    constraint CONTROL_TYPE_2015836973
        check (CONTROL_TYPE in (
                                'C', 'N', 'D', 'R'
            ))
);
create table Z_PENALTY_0088
(
    UPW_APPOINTMENT_ID number not null,
    OFFENDER_ID        number not null,
    CONTACT_ID         number not null
);
create table Z_OFFENDERS_901911_TIER
(
    Z_OFFENDER_ID     number not null,
    Z_TIER_MESSAGE    char(53),
    Z_TIER_ID         number,
    TEAM_ID           number,
    STAFF_ID          number not null,
    Z_NEXT_CONTACT_ID number
);
create table TIER_ALLOCATION_QUESTION
(
    TIER_ALLOCATION_QUESTION_ID number not null,
    TIER_ALLOCATION_ID          number not null,
    QUESTION_ID                 number not null,
    QUESTION_ANSWER             char,
    ROW_VERSION                 number not null default 0,
    constraint XPKTIER_ALLOCATION_QUESTION
        primary key (TIER_ALLOCATION_QUESTION_ID),
    check (QUESTION_ANSWER in (
                               'Y', 'N'
        ))
);
create table Z_AR_0241
(
    OFFICER_CODE          char(7),
    S_PA                  char(3) not null,
    S_END_DATE            date,
    CODE                  char(6) not null,
    T_PA                  char(3) not null,
    T_END_DATE            date,
    LAST_UPDATED_DATETIME date    not null,
    LAST_UPDATED_USER_ID  number  not null,
    ROW_VERSION           number  not null
);
create table Z_EXCLUSION_0283
(
    OFFENDER_ID              number       not null,
    CRN                      char(7)      not null,
    USER_ID                  number       not null,
    PRIVATE                  number       not null,
    DISTINGUISHED_NAME       varchar(500) not null,
    EXCLUSION_ID             number       not null,
    EXCLUSION_DATE           date         not null,
    EXCLUSION_END_DATE       date,
    EXCLUSION_END_TIME       date,
    EXCLUSION_START_STAFF_ID number       not null,
    EXCLUSION_REASON_ID      number       not null,
    EXCLUSION_END_STAFF_ID   number,
    EXCLUSION_START_TEAM_ID  number       not null,
    EXCLUSION_END_TEAM_ID    number,
    CODE_VALUE               varchar(100) not null,
    CODE_DESCRIPTION         varchar(500) not null
);
create table Z_TRANSFER_0241
(
    OLD_MASTER_TRANSFER_ID number,
    OLD_TRANSFER_ID        number,
    TRANSFER_TYPE          varchar(30),
    NEW_MASTER_TRANSFER_ID number,
    NEW_TRANSFER_ID        number,
    ROW_VERSION            number not null,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    DIRECTION              varchar(1) default 'O',
    REJECTED_FLAG          varchar(1) default 'N',
    REJECTED_REASON        varchar(512),
    constraint XCHK1Z_TRANSFER_0241
        check (TRANSFER_TYPE in (
                                 'OFFENDER_TRANSFER', 'ORDER_TRANSFER', 'NSI_TRANSFER', 'RQMNT_TRANSFER',
                                 'LIC_CONDITION_TRANSFER',
                                 'PSS_RQMNT_TRANSFER', 'COURT_REPORT_TRANSFER', 'INSTITUTIONAL_REPORT_TRANSFER'
            )),
    constraint XCHK3Z_TRANSFER_0241
        check (REJECTED_FLAG in (
                                 'N', 'Y'
            )),
    constraint XAK1Z_TRANSFER_0241
        unique (OLD_MASTER_TRANSFER_ID, TRANSFER_TYPE, OLD_TRANSFER_ID),
    constraint XAK3Z_TRANSFER_0241
        unique (OLD_TRANSFER_ID, TRANSFER_TYPE)
);
create table Z_ONSI_0241
(
    MANAGER                 char(20),
    MANAGER_ID              number       not null,
    ALLOCATION_REASON_ID    number(22),
    CODE                    char(3)      not null,
    TEAM_ID                 number       not null,
    TEAM_CODE               char(6)      not null,
    TEAM_DESCRIPTION        varchar(50)  not null,
    TEAM_END_DATE           date,
    STAFF_ID                number       not null,
    OFFICER_CODE            char(7),
    FORENAME                varchar(35)  not null,
    FORENAME2               varchar(35),
    SURNAME                 varchar(35)  not null,
    STAFF_END_DATE          date,
    CRN                     char(7)      not null,
    OFFENDER_ID             number       not null,
    NSI_ID                  number       not null,
    NSI_TYPE_CODE           varchar(20)  not null,
    NSI_TYPE_DESCRIPTION    varchar(200) not null,
    RATE_CARD_FLAG          char         not null,
    NSI_OUTCOME_CODE        varchar(100),
    NSI_OUTCOME_DESCRIPTION varchar(500),
    OFFENDER_LEVEL          number       not null,
    EVENT_LEVEL             number       not null,
    OFFENDER_SD             number       not null,
    NSI_MANAGER_SD          number       not null,
    NSI_SD                  number       not null
);
create table Z_DEFAULTS_0241
(
    SOURCE_PROVIDER_ID    number,
    SOURCE_PROVIDER_CODE  char(3) not null,
    DEFAULT_PROVIDER_ID   number,
    DEFAULT_PROVIDER_CODE char(3),
    constraint XPKZ_DEFAULTS_0241
        primary key (SOURCE_PROVIDER_CODE)
);
create table Z_LIC_COND_0241
(
    MANAGER                   char(21),
    MANAGER_ID                number       not null,
    ALLOCATION_REASON_ID      number(22),
    CODE                      char(3)      not null,
    TEAM_ID                   number       not null,
    TEAM_CODE                 char(6)      not null,
    TEAM_DESCRIPTION          varchar(50)  not null,
    TEAM_END_DATE             date,
    STAFF_ID                  number       not null,
    OFFICER_CODE              char(7),
    FORENAME                  varchar(35)  not null,
    FORENAME2                 varchar(35),
    SURNAME                   varchar(35)  not null,
    STAFF_END_DATE            date,
    CRN                       char(7)      not null,
    OFFENDER_ID               number       not null,
    EVENT_NUMBER              varchar(10)  not null,
    EVENT_ID                  number       not null,
    LIC_CONDITION_ID          number       not null,
    DISPOSAL_DATE             date         not null,
    DISPOSAL_TYPE_CODE        varchar(30)  not null,
    DISPOSAL_DESCRIPTION      varchar(128) not null,
    LIC_CONDITION_CODE        varchar(100) not null,
    LIC_CONDITION_DESCRIPTION varchar(200),
    OFFENDER_SD               number       not null,
    LIC_CONDITION_MANAGER_SD  number       not null,
    EVENT_SD                  number       not null,
    DISPOSAL_SD               number       not null,
    LIC_CONDITION_SD          number       not null
);
create table Z_CONTACT_ALERT_0263
(
    CONTACT_ALERT_ID        number      not null,
    OFFENDER_ID             number,
    OFFENDER_MANAGER_ID     number,
    TRUST_PROVIDER_TEAM_ID  number,
    STAFF_EMPLOYEE_ID       number,
    CODE                    char(3)     not null,
    DESCRIPTION             varchar(60) not null,
    NEW_TEAM_ID             number,
    NEW_STAFF_ID            number,
    NEW_OFFENDER_MANAGER_ID number
);
create table TRAINING_SESSION
(
    TRAINING_SESSION_ID number      not null,
    NAME                varchar(50) not null,
    SESSION_PASSWORD    varchar(50) not null,
    constraint XPKTRAINING_SESSION
        primary key (TRAINING_SESSION_ID),
    constraint XAK1TRAINING_SESSION
        unique (NAME, TRAINING_SESSION_ID)
);
create table CONTACT_TYPE_ICON
(
    CONTACT_TYPE_ICON_ID number        not null,
    ROW_VERSION          number default 0,
    ICON_NAME            varchar(100)  not null,
    ICON_PATH            varchar(4000) not null,
    TRAINING_SESSION_ID  number,
    constraint XPKCONTACT_TYPE_ICON
        primary key (CONTACT_TYPE_ICON_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1CONTACT_TYPE_ICON
        unique (ICON_NAME, TRAINING_SESSION_ID, CONTACT_TYPE_ICON_ID)
);
create table R_TRANSFER_REASON
(
    TRANSFER_REASON_ID    number       not null,
    CODE                  varchar(100) not null,
    DESCRIPTION           varchar(500) not null,
    SELECTABLE            char         not null,
    TYPE                  varchar(20)  not null,
    ROW_VERSION           number       not null default 0,
    CREATED_BY_USER_ID    number       not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID  number       not null,
    LAST_UPDATED_DATETIME date         not null,
    TRAINING_SESSION_ID   number,
    constraint XPKR_TRANSFER_REASON
        primary key (TRANSFER_REASON_ID),
    constraint YES_OR_NO26
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1R_TRANSFER_REASON
        unique (CODE, TRAINING_SESSION_ID, TRANSFER_REASON_ID)
);
create table R_MOVE_ON_CATEGORY
(
    MOVE_ON_CATEGORY_ID      number      not null,
    CODE                     varchar(20) not null,
    DESCRIPTION              varchar(50) not null,
    TRAINING_SESSION_ID      number,
    SELECTABLE               char        not null,
    DESTINATION_DETAILS_FLAG char        not null,
    CREATED_BY_USER_ID       number      not null,
    LAST_UPDATED_USER_ID     number      not null,
    ROW_VERSION              number      not null default 0,
    CREATED_DATETIME         date        not null,
    LAST_UPDATED_DATETIME    date        not null,
    constraint XPKR_MOVE_ON_CATEGORY
        primary key (MOVE_ON_CATEGORY_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint YES_OR_NO21
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_ONLY38
        check (DESTINATION_DETAILS_FLAG in (
                                            'Y', 'N'
            )),
    constraint XAK1R_MOVE_ON_CATEGORY
        unique (CODE, TRAINING_SESSION_ID, MOVE_ON_CATEGORY_ID)
);
create table R_CONTACT_OUTCOME_TYPE
(
    CONTACT_OUTCOME_TYPE_ID      number      not null,
    CODE                         varchar(10) not null,
    DESCRIPTION                  varchar(50) not null,
    OUTCOME_ATTENDANCE           char,
    SELECTABLE                   char        not null,
    OUTCOME_COMPLIANT_ACCEPTABLE char,
    ENFORCEABLE                  char,
    CREATED_DATETIME             date        not null,
    ACTION_REQUIRED              char        not null,
    CREATED_BY_USER_ID           number      not null,
    LAST_UPDATED_USER_ID         number      not null,
    LAST_UPDATED_DATETIME        date        not null,
    ROW_VERSION                  number      not null default 0,
    TRAINING_SESSION_ID          number,
    constraint XPKR_CONTACT_OUTCOME_TYPE
        primary key (CONTACT_OUTCOME_TYPE_ID),
    constraint YES_OR_NO_427
        check (OUTCOME_COMPLIANT_ACCEPTABLE in (
                                                'Y', 'N'
            )),
    constraint YES_OR_NO_428
        check (ENFORCEABLE in (
                               'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table R_COURT_REPORT_TYPE
(
    COURT_REPORT_TYPE_ID  number      not null,
    CODE                  varchar(20) not null,
    DESCRIPTION           varchar(50) not null,
    SELECTABLE            char        not null,
    DELIVERED             char,
    ROW_VERSION           number      not null default 0,
    REQUESTED             char,
    FORM_30_CODE          varchar(20),
    PSR                   char,
    CREATED_BY_USER_ID    number      not null,
    CREATED_DATETIME      date        not null,
    LAST_UPDATED_USER_ID  number      not null,
    LAST_UPDATED_DATETIME date        not null,
    TRAINING_SESSION_ID   number,
    PRIVATE_TRANSFER      char        not null,
    constraint XPKR_COURT_REPORT_TYPE
        primary key (COURT_REPORT_TYPE_ID),
    constraint YES_OR_NO1
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_ONLY17
        check (DELIVERED in (
                             'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY18
        check (REQUESTED in (
                             'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY19
        check (PSR in (
                       'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint YES_OR_NO_ONLY_1294020556
        check (PRIVATE_TRANSFER in (
                                    'Y', 'N'
            )),
    constraint XAK1R_COURT_REPORT_TYPE
        unique (CODE, TRAINING_SESSION_ID, COURT_REPORT_TYPE_ID),
    constraint XAK2R_COURT_REPORT_TYPE
        unique (FORM_30_CODE, TRAINING_SESSION_ID, COURT_REPORT_TYPE_ID)
);
create table R_EXPLANATION
(
    EXPLANATION_ID        number       not null,
    CODE                  varchar(10)  not null,
    DESCRIPTION           varchar(100) not null,
    SELECTABLE            char         not null,
    ACCEPTABLE            char         not null,
    ROW_VERSION           number       not null default 0,
    CREATED_BY_USER_ID    number       not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID  number       not null,
    LAST_UPDATED_DATETIME date         not null,
    TRAINING_SESSION_ID   number,
    constraint XPKR_EXPLANATION
        primary key (EXPLANATION_ID),
    constraint YES_OR_NO20
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_ONLY37
        check (ACCEPTABLE in (
                              'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1R_EXPLANATION
        unique (CODE, TRAINING_SESSION_ID, EXPLANATION_ID)
);
create table R_DRUG_TYPE
(
    DRUG_TYPE_ID          number       not null,
    CODE                  varchar(10)  not null,
    DESCRIPTION           varchar(50)  not null,
    SELECTABLE            char         not null,
    CAN_BE_INJECTED       char         not null,
    QUANTITY_LABEL        varchar(100) not null,
    TRAINING_SESSION_ID   number,
    ROW_VERSION           number       not null default 0,
    CREATED_BY_USER_ID    number       not null,
    LAST_UPDATED_USER_ID  number       not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_DATETIME date         not null,
    constraint XPKR_DRUG_TYPE
        primary key (DRUG_TYPE_ID),
    constraint YES_OR_NO4
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_OR_UNKNOWN6
        check (CAN_BE_INJECTED in (
                                   'N', 'Y', 'U'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1R_DRUG_TYPE
        unique (CODE, TRAINING_SESSION_ID, DRUG_TYPE_ID)
);
create table ND_PARAMETER
(
    ND_PARAMETER_ID     number       not null,
    ND_PARAMETER        varchar(500) not null,
    ND_VALUE            number       not null,
    TRAINING_SESSION_ID number,
    ND_VALUE_STRING     varchar(1000),
    constraint XPKND_PARAMETER
        primary key (ND_PARAMETER_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1ND_PARAMETER
        unique (ND_PARAMETER, ND_PARAMETER_ID)
);
create table BOROUGH
(
    BOROUGH_ID            number       not null,
    CODE                  varchar(20)  not null,
    DESCRIPTION           varchar(100) not null,
    SELECTABLE            char         not null,
    ROW_VERSION           number       not null default 0,
    CREATED_DATETIME      date         not null,
    CREATED_BY_USER_ID    number       not null,
    LAST_UPDATED_DATETIME date         not null,
    LAST_UPDATED_USER_ID  number       not null,
    TRAINING_SESSION_ID   number,
    PROBATION_AREA_ID     number       not null,
    constraint XPKBOROUGH
        primary key (BOROUGH_ID),
    constraint YES_OR_NO7
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1BOROUGH
        unique (CODE, TRAINING_SESSION_ID, BOROUGH_ID)
);
create table UPW_DAY
(
    UPW_DAY_ID          number      not null,
    WEEK_DAY            varchar(20) not null,
    ROW_VERSION         number      not null default 0,
    TRAINING_SESSION_ID number,
    constraint XPKUPW_DAY
        primary key (UPW_DAY_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table R_ASSESSMENT_OUTCOME
(
    ASSESSMENT_OUTCOME_ID   number      not null,
    CODE                    varchar(10) not null,
    DESCRIPTION             varchar(50) not null,
    SELECTABLE              char        not null,
    ASSESSMENT_OPEN_TO_EDIT char        not null,
    CREATED_BY_USER_ID      number      not null,
    TRAINING_SESSION_ID     number,
    LAST_UPDATED_USER_ID    number      not null,
    ROW_VERSION             number      not null default 0,
    CREATED_DATETIME        date        not null,
    LAST_UPDATED_DATETIME   date        not null,
    SPG_OVERRIDE            number,
    constraint XPKR_ASSESSMENT_OUTCOME
        primary key (ASSESSMENT_OUTCOME_ID),
    constraint YES_OR_NO17
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_ONLY34
        check (ASSESSMENT_OPEN_TO_EDIT in (
                                           'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE_1531610057
        check (SPG_OVERRIDE in (
                                0, 1
            )),
    constraint XAK1R_ASSESSMENT_OUTCOME
        unique (CODE, TRAINING_SESSION_ID, ASSESSMENT_OUTCOME_ID)
);
create table R_REFERENCE_DATA_MASTER
(
    REFERENCE_DATA_MASTER_ID number       not null,
    CODE_SET_NAME            varchar(100) not null,
    DESCRIPTION              varchar(500) not null,
    LIST_SEQUENCE            char         not null,
    ROW_VERSION              number       not null default 0,
    TRAINING_SESSION_ID      number,
    constraint XPKR_REFERENCE_DATA_MASTER
        primary key (REFERENCE_DATA_MASTER_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1R_REFERENCE_DATA_MASTER
        unique (CODE_SET_NAME, TRAINING_SESSION_ID, REFERENCE_DATA_MASTER_ID)
);
create table R_STANDARD_REFERENCE_LIST
(
    STANDARD_REFERENCE_LIST_ID number       not null,
    CODE_VALUE                 varchar(100) not null,
    CODE_DESCRIPTION           varchar(500) not null,
    SELECTABLE                 char         not null,
    CREATED_BY_USER_ID         number       not null,
    CREATED_DATETIME           date         not null,
    LAST_UPDATED_USER_ID       number       not null,
    LAST_UPDATED_DATETIME      date         not null,
    REFERENCE_DATA_MASTER_ID   number       not null,
    ROW_VERSION                number       not null default 0,
    TRAINING_SESSION_ID        number,
    SPG_INTEREST               number,
    SPG_OVERRIDE               number,
    constraint XPKR_STANDARD_REFERENCE_LIST
        primary key (STANDARD_REFERENCE_LIST_ID),
    constraint YES_OR_NO27
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (REFERENCE_DATA_MASTER_ID)
        references R_REFERENCE_DATA_MASTER,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE_1883892480
        check (SPG_INTEREST in (
                                0, 1
            )),
    constraint TRUE_OR_FALSE_1684532474
        check (SPG_OVERRIDE in (
                                0, 1
            )),
    constraint XAK1R_STANDARD_REFERENCE_LIST
        unique (CODE_VALUE, REFERENCE_DATA_MASTER_ID, STANDARD_REFERENCE_LIST_ID)
);
create table R_TIER_ALLOC_QUESTION_TIER
(
    TIER_ALLOC_QUESTION_TIER_ID number not null,
    TIER_ALLOCATION_ID          number not null,
    QUESTION_ID                 number not null,
    CREATED_BY_USER_ID          number not null,
    CREATED_DATETIME            date   not null,
    LAST_UPDATED_USER_ID        number not null,
    LAST_UPDATED_DATETIME       date   not null,
    ROW_VERSION                 number not null default 0,
    constraint XPKR_TIER_ALLOC_QUESTION_TIER
        primary key (TIER_ALLOC_QUESTION_TIER_ID),
    constraint R_1211
        foreign key (TIER_ALLOCATION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1212
        foreign key (QUESTION_ID)
            references R_STANDARD_REFERENCE_LIST
);
create table PROPOSAL_TYPE_COURTREPORT_TYPE
(
    PROPOSAL_TYPE_ID      number not null,
    COURT_REPORT_TYPE_ID  number not null,
    ROW_VERSION           number not null default 0,
    CREATED_DATETIME      date   not null,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_DATETIME date   not null,
    LAST_UPDATED_USER_ID  number not null,
    TRAINING_SESSION_ID   number,
    foreign key (PROPOSAL_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (COURT_REPORT_TYPE_ID)
        references R_COURT_REPORT_TYPE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKPROPOSAL_TYPE_COURTREPORT_T
        primary key (PROPOSAL_TYPE_ID, COURT_REPORT_TYPE_ID)
);
create table R_COURT_TRANSFER_REASON
(
    COURT_REPORT_TYPE_ID number not null,
    TRANSFER_REASON_ID   number not null,
    ROW_VERSION          number not null default 0,
    constraint R_1035
        foreign key (COURT_REPORT_TYPE_ID)
            references R_COURT_REPORT_TYPE,
    constraint R_1036
        foreign key (TRANSFER_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_COURT_TRANSFER_REASON
        primary key (COURT_REPORT_TYPE_ID, TRANSFER_REASON_ID)
);
create table R_DISPOSAL_TYPE
(
    DISPOSAL_TYPE_ID              number       not null,
    DISPOSAL_TYPE_CODE            varchar(30)  not null,
    DESCRIPTION                   varchar(128) not null,
    SELECTABLE                    char         not null,
    AUTO_TERMINATE                char         not null,
    MINIMUM_LENGTH                number,
    MAXIMUM_LENGTH                number,
    CUSTODIAL_ORDER               char         not null,
    ROW_VERSION                   number       not null default 0,
    ORDER_ABBREVIATED_DESCRIPTION varchar(200),
    PROPOSAL                      char,
    OUTCOME_ID                    number,
    CJA2003                       char,
    PRE_CJA2003                   char,
    FORM_20_CODE                  varchar(20),
    SENTENCE_TYPE                 varchar(50),
    REQUIRED_INFORMATION          varchar(4000),
    MINIMUM_AGE                   number,
    MAXIMUM_AGE                   number,
    CREATED_DATETIME              date         not null,
    LAST_UPDATED_DATETIME         date         not null,
    TRAINING_SESSION_ID           number,
    UNITS_ID                      number,
    TURNOUT_FLAG                  char,
    CREATED_BY_USER_ID            number       not null,
    COMPLIANCE_FLAG               char,
    LAST_UPDATED_USER_ID          number       not null,
    ENFORCEABLE_FLAG              char,
    ACTION_FLAG                   char,
    FTC_LIMIT                     number,
    OUTCOME_WARNING               number       not null default 0,
    OUTCOME_MESSAGE               varchar(500),
    COHORT                        char,
    PSS_RQMNT                     char,
    constraint XPKR_DISPOSAL_TYPE
        primary key (DISPOSAL_TYPE_ID),
    constraint YES_OR_NO2
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_OR_UNKNOWN4
        check (CUSTODIAL_ORDER in (
                                   'N', 'Y', 'U'
            )),
    constraint YES_OR_NO_ONLY20
        check (PROPOSAL in (
                            'Y', 'N'
            )),
    foreign key (OUTCOME_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY21
        check (CJA2003 in (
                           'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY22
        check (PRE_CJA2003 in (
                               'Y', 'N'
            )),
    constraint GREATER_THAN_01
        check (MINIMUM_AGE > 0),
    constraint GREATER_THAN_02
        check (MAXIMUM_AGE > 0),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (UNITS_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint COHORT_818730454
        check (COHORT in (
                          'S', 'R', 'T'
            )),
    constraint YES_OR_NO_ONLY_404477636
        check (PSS_RQMNT in (
                             'Y', 'N'
            )),
    constraint XAK1R_DISPOSAL_TYPE
        unique (DISPOSAL_TYPE_CODE, TRAINING_SESSION_ID, DISPOSAL_TYPE_ID)
);
create table R_RQMNT_TYPE_MAIN_CATEGORY
(
    RQMNT_TYPE_MAIN_CATEGORY_ID number       not null,
    CODE                        varchar(20)  not null,
    DESCRIPTION                 varchar(200) not null,
    SELECTABLE                  char         not null,
    TRAINING_SESSION_ID         number,
    UNITS_ID                    number,
    AUTO_START                  char         not null,
    ALLOW_DUPLICATES            char,
    MINIMUM_LENGTH              number,
    MAXIMUM_LENGTH              number,
    FORM_20_CODE                varchar(50),
    CREATED_BY_USER_ID          number       not null,
    LAST_UPDATED_USER_ID        number       not null,
    ROW_VERSION                 number       not null default 0,
    CREATED_DATETIME            date         not null,
    LAST_UPDATED_DATETIME       date         not null,
    TERM_COUNT                  char,
    SUB_TYPE_CHANGE             char                  default 'N',
    RESTRICTIVE                 char,
    constraint XPKR_RQMNT_TYPE_MAIN_CATEGORY
        primary key (RQMNT_TYPE_MAIN_CATEGORY_ID),
    constraint YES_OR_NO25
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (UNITS_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY39
        check (AUTO_START in (
                              'Y', 'N'
            )),
    constraint YES_OR_NO_432
        check (ALLOW_DUPLICATES in (
                                    'Y', 'N'
            )),
    constraint TERM_COUNT_D_S_980137180
        check (TERM_COUNT in (
                              'D', 'S'
            )),
    constraint YES_OR_NO_ONLY_191134824
        check (SUB_TYPE_CHANGE in (
                                   'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1222623488
        check (RESTRICTIVE in (
                               'Y', 'N'
            )),
    constraint XAK1R_RQMNT_TYPE_MAIN_CATEGORY
        unique (CODE, TRAINING_SESSION_ID, RQMNT_TYPE_MAIN_CATEGORY_ID)
);
create table R_RQMNT_TYPE_TERMINATION
(
    RQMNT_TERMINATION_REASON_ID number not null,
    RQMNT_TYPE_MAIN_CATEGORY_ID number not null,
    ROW_VERSION                 number not null default 0,
    TRAINING_SESSION_ID         number,
    foreign key (RQMNT_TERMINATION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_RQMNT_TYPE_TERMINATION
        primary key (RQMNT_TERMINATION_REASON_ID, RQMNT_TYPE_MAIN_CATEGORY_ID)
);
create table DISPOSAL_TYPE_RQMNT_TYPE
(
    DISPOSAL_TYPE_ID            number not null,
    RQMNT_TYPE_MAIN_CATEGORY_ID number not null,
    ROW_VERSION                 number not null default 0,
    CREATED_BY_USER_ID          number not null,
    CREATED_DATETIME            date   not null,
    LAST_UPDATED_USER_ID        number not null,
    LAST_UPDATED_DATETIME       date   not null,
    TRAINING_SESSION_ID         number,
    foreign key (DISPOSAL_TYPE_ID)
        references R_DISPOSAL_TYPE,
    foreign key (RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKDISPOSAL_TYPE_RQMNT_TYPE
        primary key (DISPOSAL_TYPE_ID, RQMNT_TYPE_MAIN_CATEGORY_ID)
);
create table R_RQMNT_REJECTION_REASON
(
    RQMNT_TYPE_MAIN_CATEGORY_ID number(22) not null,
    REJECTION_REASON_ID         number(22) not null,
    ROW_VERSION                 number(22) not null default 0,
    constraint R_993
        foreign key (RQMNT_TYPE_MAIN_CATEGORY_ID)
            references R_RQMNT_TYPE_MAIN_CATEGORY,
    constraint R_994
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_RQMNT_REJECTION_REASON
        primary key (RQMNT_TYPE_MAIN_CATEGORY_ID, REJECTION_REASON_ID)
);
create table R_REFERRAL_SOURCE
(
    REFERRAL_SOURCE_ID  number      not null,
    CODE                varchar(10) not null,
    ROW_VERSION         number      not null default 0,
    TRAINING_SESSION_ID number,
    DESCRIPTION         varchar(50) not null,
    SELECTABLE          char        not null,
    SOURCE_TYPE_ID      number      not null,
    constraint XPKR_REFERRAL_SOURCE
        primary key (REFERRAL_SOURCE_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint YES_OR_NO14
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (SOURCE_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint XAK1R_REFERRAL_SOURCE
        unique (CODE, TRAINING_SESSION_ID, REFERRAL_SOURCE_ID)
);
create table R_CIRCUMSTANCE_SUB_TYPE
(
    CIRCUMSTANCE_SUB_TYPE_ID number       not null,
    CODE_VALUE               varchar(100) not null,
    CODE_DESCRIPTION         varchar(500) not null,
    SELECTABLE               char         not null,
    ACTIVE_DUPLICATES        char         not null,
    ROW_VERSION              number       not null default 0,
    CREATED_BY_USER_ID       number       not null,
    CREATED_DATETIME         date         not null,
    LAST_UPDATED_USER_ID     number       not null,
    LAST_UPDATED_DATETIME    date         not null,
    TRAINING_SESSION_ID      number,
    QUALIFICATION_1_ID       number(38),
    QUALIFICATION_2_ID       number(38),
    QUALIFICATION_3_ID       number(38),
    constraint XPKR_CIRCUMSTANCE_SUB_TYPE
        primary key (CIRCUMSTANCE_SUB_TYPE_ID),
    constraint YES_OR_NO_ONLY36
        check (ACTIVE_DUPLICATES in (
                                     'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint R_1175
        foreign key (QUALIFICATION_1_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1176
        foreign key (QUALIFICATION_2_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1177
        foreign key (QUALIFICATION_3_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XAK1R_CIRCUMSTANCE_SUB_TYPE
        unique (CODE_VALUE, TRAINING_SESSION_ID, CIRCUMSTANCE_SUB_TYPE_ID)
);
create table R_RQMNT_TYPE
(
    RQMNT_TYPE_ID               number not null,
    ROW_VERSION                 number not null default 0,
    RQMNT_TYPE_SUB_CATEGORY_ID  number not null,
    TRAINING_SESSION_ID         number,
    RQMNT_TYPE_MAIN_CATEGORY_ID number not null,
    constraint XPKR_RQMNT_TYPE
        primary key (RQMNT_TYPE_ID),
    foreign key (RQMNT_TYPE_SUB_CATEGORY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    constraint XAK1R_RQMNT_TYPE
        unique (TRAINING_SESSION_ID, RQMNT_TYPE_MAIN_CATEGORY_ID, RQMNT_TYPE_SUB_CATEGORY_ID, RQMNT_TYPE_ID)
);
create table R_PSS_RQMNT_TYPE_MAIN_CATEGORY
(
    PSS_RQMNT_TYPE_MAIN_CAT_ID number(22)   not null,
    CODE                       varchar(20)  not null,
    DESCRIPTION                varchar(200) not null,
    SELECTABLE                 char         not null,
    UNITS_ID                   number(22),
    AUTO_START                 char         not null,
    ALLOW_DUPLICATES           char,
    INACTIVE_DUPLICATES        char,
    MINIMUM_LENGTH             number(22),
    MAXIMUM_LENGTH             number(22),
    EXPECTED_SECTOR            varchar(10),
    ROW_VERSION                number(22)   not null default 0,
    CREATED_BY_USER_ID         number(22)   not null,
    CREATED_DATETIME           date         not null,
    LAST_UPDATED_USER_ID       number(22)   not null,
    LAST_UPDATED_DATETIME      date         not null,
    TERM_COUNT                 char,
    constraint XPKR_PSS_RQMNT_TYPE_MAIN_CATEG
        primary key (PSS_RQMNT_TYPE_MAIN_CAT_ID),
    constraint SELECTABLE_2088104937
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint R_937
        foreign key (UNITS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY_136087698
        check (AUTO_START in (
                              'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1125613121
        check (ALLOW_DUPLICATES in (
                                    'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1877274624
        check (INACTIVE_DUPLICATES in (
                                       'Y', 'N'
            )),
    constraint TERM_COUNT_D_S_367500932
        check (TERM_COUNT in (
                              'D', 'S'
            ))
);
create table R_PSS_RQMNT_TYPE_TERMINATION
(
    PSS_RQMNT_TERM_REASON_ID   number(22) not null,
    PSS_RQMNT_TYPE_MAIN_CAT_ID number(22) not null,
    ROW_VERSION                number(22) not null default 0,
    constraint R_966
        foreign key (PSS_RQMNT_TERM_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_967
        foreign key (PSS_RQMNT_TYPE_MAIN_CAT_ID)
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    constraint XPKR_PSS_RQMNT_TYPE_TERMINATIO
        primary key (PSS_RQMNT_TERM_REASON_ID, PSS_RQMNT_TYPE_MAIN_CAT_ID)
);
create table R_PSS_RQMNT_REJECTION_REASON
(
    PSS_RQMNT_TYPE_MAIN_CAT_ID number(22) not null,
    REJECTION_REASON_ID        number(22) not null,
    ROW_VERSION                number(22) not null default 0,
    constraint R_997
        foreign key (PSS_RQMNT_TYPE_MAIN_CAT_ID)
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    constraint R_998
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_PSS_RQMNT_REJECTION_REASO
        primary key (PSS_RQMNT_TYPE_MAIN_CAT_ID, REJECTION_REASON_ID)
);
create table R_PSS_RQMNT_TRANSFER_REASON
(
    PSS_RQMNT_TYPE_MAIN_CAT_ID number(22) not null,
    TRANSFER_REASON_ID         number(22) not null,
    ROW_VERSION                number(22) not null default 0,
    constraint R_989
        foreign key (PSS_RQMNT_TYPE_MAIN_CAT_ID)
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    constraint R_1010
        foreign key (TRANSFER_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_PSS_RQMNT_TRANSFER_REASON
        primary key (PSS_RQMNT_TYPE_MAIN_CAT_ID, TRANSFER_REASON_ID)
);
create table R_AD_RQMNT_TYPE_MAIN_CATEGORY
(
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID number       not null,
    CODE                           varchar(20)  not null,
    DESCRIPTION                    varchar(200) not null,
    SELECTABLE                     char         not null,
    UNITS_ID                       number,
    ALLOW_DUPLICATES               char,
    CREATED_BY_USER_ID             number       not null,
    TRAINING_SESSION_ID            number,
    LAST_UPDATED_USER_ID           number       not null,
    ROW_VERSION                    number       not null default 0,
    CREATED_DATETIME               date         not null,
    LAST_UPDATED_DATETIME          date         not null,
    TERM_COUNT                     char,
    constraint XPKR_AD_RQMNT_TYPE_MAIN_CATEGO
        primary key (AD_RQMNT_TYPE_MAIN_CATEGORY_ID),
    constraint YES_OR_NO16
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (UNITS_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_423
        check (ALLOW_DUPLICATES in (
                                    'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TERM_COUNT_D_S_617954679
        check (TERM_COUNT in (
                              'D', 'S'
            )),
    constraint XAK1R_AD_RQMNT_TYPE_MAIN_CATEG
        unique (CODE, TRAINING_SESSION_ID, AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
);
create table R_AD_RQMNT_TYPE
(
    AD_RQMNT_TYPE_ID               number not null,
    ROW_VERSION                    number not null default 0,
    TRAINING_SESSION_ID            number,
    AD_RQMNT_TYPE_SUB_CATEGORY_ID  number not null,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID number not null,
    constraint XPKR_AD_RQMNT_TYPE
        primary key (AD_RQMNT_TYPE_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (AD_RQMNT_TYPE_SUB_CATEGORY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    constraint XAK1R_AD_RQMNT_TYPE
        unique (TRAINING_SESSION_ID, AD_RQMNT_TYPE_MAIN_CATEGORY_ID, AD_RQMNT_TYPE_SUB_CATEGORY_ID, AD_RQMNT_TYPE_ID)
);
create table DISPOSAL_TYPE_AD_RQMNT_TYPE
(
    DISPOSAL_TYPE_ID               number not null,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID number not null,
    ROW_VERSION                    number not null default 0,
    CREATED_BY_USER_ID             number not null,
    CREATED_DATETIME               date   not null,
    LAST_UPDATED_USER_ID           number not null,
    LAST_UPDATED_DATETIME          date   not null,
    TRAINING_SESSION_ID            number,
    foreign key (DISPOSAL_TYPE_ID)
        references R_DISPOSAL_TYPE,
    foreign key (AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKDISPOSAL_TYPE_AD_RQMNT_TYPE
        primary key (DISPOSAL_TYPE_ID, AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
);
create table R_COURT_REJECTION_REASON
(
    COURT_REPORT_TYPE_ID number not null,
    REJECTION_REASON_ID  number not null,
    ROW_VERSION          number not null default 0,
    constraint R_1037
        foreign key (COURT_REPORT_TYPE_ID)
            references R_COURT_REPORT_TYPE,
    constraint R_1038
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_COURT_REJECTION_REASON
        primary key (COURT_REPORT_TYPE_ID, REJECTION_REASON_ID)
);
create table R_RQMNT_TRANSFER_REASON
(
    RQMNT_TYPE_MAIN_CATEGORY_ID number(22) not null,
    TRANSFER_REASON_ID          number(22) not null,
    ROW_VERSION                 number(22) not null default 0,
    constraint R_985
        foreign key (RQMNT_TYPE_MAIN_CATEGORY_ID)
            references R_RQMNT_TYPE_MAIN_CATEGORY,
    constraint R_1007
        foreign key (TRANSFER_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_RQMNT_TRANSFER_REASON
        primary key (RQMNT_TYPE_MAIN_CATEGORY_ID, TRANSFER_REASON_ID)
);
create table R_OFFENCE
(
    OFFENCE_ID                 number       not null,
    CODE                       char(5)      not null,
    DESCRIPTION                varchar(300) not null,
    ABBREVIATION               varchar(50),
    MAIN_CATEGORY_CODE         char(3)      not null,
    SELECTABLE                 char         not null,
    MAIN_CATEGORY_DESCRIPTION  varchar(200) not null,
    ROW_VERSION                number       not null default 0,
    MAIN_CATEGORY_ABBREVIATION varchar(50)  not null,
    OGRS_OFFENCE_CATEGORY_ID   number       not null,
    SUB_CATEGORY_CODE          char(2)      not null,
    SUB_CATEGORY_DESCRIPTION   varchar(200) not null,
    FORM_20_CODE               varchar(50),
    SUB_CATEGORY_ABBREVIATION  varchar(50),
    TRAINING_SESSION_ID        number,
    CJIT_CODE                  varchar(6),
    CREATED_BY_USER_ID         number(22)   not null,
    CREATED_DATETIME           date         not null,
    LAST_UPDATED_USER_ID       number(22)   not null,
    LAST_UPDATED_DATETIME      date         not null,
    constraint XPKR_OFFENCE
        primary key (OFFENCE_ID),
    constraint YES_OR_NO12
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (OGRS_OFFENCE_CATEGORY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1R_OFFENCE
        unique (CODE, TRAINING_SESSION_ID, OFFENCE_ID)
);
create table PARTITION_AREA
(
    PARTITION_AREA_ID   number      not null,
    AREA                varchar(30) not null,
    ROW_VERSION         number      not null default 0,
    TRAINING_SESSION_ID number,
    constraint XPKPARTITION_AREA
        primary key (PARTITION_AREA_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table R_RECALL_REASON
(
    RECALL_REASON_ID          number      not null,
    CODE                      varchar(10) not null,
    DESCRIPTION               varchar(50) not null,
    SELECTABLE                char        not null,
    TERMINATION_REASON_OPTION char,
    ROW_VERSION               number      not null default 0,
    CREATED_BY_USER_ID        number      not null,
    TRAINING_SESSION_ID       number,
    LAST_UPDATED_USER_ID      number      not null,
    CREATED_DATETIME          date        not null,
    LAST_UPDATED_DATETIME     date        not null,
    TERMINATION_REASON_ID     number,
    constraint XPKR_RECALL_REASON
        primary key (RECALL_REASON_ID),
    constraint YES_OR_NO23
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_431
        check (TERMINATION_REASON_OPTION in (
                                             'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (TERMINATION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint XAK1R_RECALL_REASON
        unique (CODE, TRAINING_SESSION_ID, RECALL_REASON_ID)
);
create table R_LIC_COND_TYPE_MAIN_CAT
(
    LIC_COND_TYPE_MAIN_CAT_ID number       not null,
    CODE                      varchar(100) not null,
    DESCRIPTION               varchar(200),
    SELECTABLE                char         not null,
    UNITS_ID                  number,
    ALLOW_DUPLICATES          char,
    FORM_20_CODE              varchar(50),
    CREATED_BY_USER_ID        number       not null,
    ROW_VERSION               number       not null default 0,
    LAST_UPDATED_USER_ID      number       not null,
    TRAINING_SESSION_ID       number,
    CREATED_DATETIME          date         not null,
    LAST_UPDATED_DATETIME     date         not null,
    TERM_COUNT                char,
    constraint XPKR_LIC_COND_TYPE_MAIN_CAT
        primary key (LIC_COND_TYPE_MAIN_CAT_ID),
    constraint YES_OR_NO22
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (UNITS_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_430
        check (ALLOW_DUPLICATES in (
                                    'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TERM_COUNT_D_S_325336639
        check (TERM_COUNT in (
                              'D', 'S'
            )),
    constraint XAK1R_LIC_COND_TYPE_MAIN_CAT
        unique (CODE, TRAINING_SESSION_ID, LIC_COND_TYPE_MAIN_CAT_ID)
);
create table R_LIC_COND_REJECTION_REASON
(
    LIC_COND_TYPE_MAIN_CAT_ID number(22) not null,
    REJECTION_REASON_ID       number(22) not null,
    ROW_VERSION               char(18)   not null default 0,
    constraint R_995
        foreign key (LIC_COND_TYPE_MAIN_CAT_ID)
            references R_LIC_COND_TYPE_MAIN_CAT,
    constraint R_996
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_LIC_COND_REJECTION_REASON
        primary key (LIC_COND_TYPE_MAIN_CAT_ID, REJECTION_REASON_ID)
);
create table R_LIC_COND_TRANSFER_REASON
(
    LIC_COND_TYPE_MAIN_CAT_ID number(22) not null,
    TRANSFER_REASON_ID        number(22) not null,
    ROW_VERSION               number(22) not null default 0,
    constraint R_987
        foreign key (LIC_COND_TYPE_MAIN_CAT_ID)
            references R_LIC_COND_TYPE_MAIN_CAT,
    constraint R_1008
        foreign key (TRANSFER_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_LIC_COND_TRANSFER_REASON
        primary key (LIC_COND_TYPE_MAIN_CAT_ID, TRANSFER_REASON_ID)
);
create table R_CJALICENCE_COND_TERMINATION
(
    LIC_TERMINATION_REASON_ID number not null,
    LIC_COND_TYPE_MAIN_CAT_ID number not null,
    ROW_VERSION               number not null default 0,
    TRAINING_SESSION_ID       number,
    foreign key (LIC_TERMINATION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (LIC_COND_TYPE_MAIN_CAT_ID)
        references R_LIC_COND_TYPE_MAIN_CAT,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_CJALICENCE_COND_TERMINATI
        primary key (LIC_TERMINATION_REASON_ID, LIC_COND_TYPE_MAIN_CAT_ID)
);
create table DISPOSAL_TYPE_LIC_COND_TYPE
(
    DISPOSAL_TYPE_ID          number not null,
    LIC_COND_TYPE_MAIN_CAT_ID number not null,
    ROW_VERSION               number not null,
    CREATED_BY_USER_ID        number not null,
    CREATED_DATETIME          date   not null,
    LAST_UPDATED_USER_ID      number not null,
    LAST_UPDATED_DATETIME     date   not null,
    TRAINING_SESSION_ID       number,
    foreign key (DISPOSAL_TYPE_ID)
        references R_DISPOSAL_TYPE,
    foreign key (LIC_COND_TYPE_MAIN_CAT_ID)
        references R_LIC_COND_TYPE_MAIN_CAT,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKDISPOSAL_TYPE_LIC_COND_TYPE
        primary key (DISPOSAL_TYPE_ID, LIC_COND_TYPE_MAIN_CAT_ID)
);
create table OFFICER
(
    TRUST_PROVIDER_FLAG number      not null,
    STAFF_EMPLOYEE_ID   number      not null,
    SURNAME             varchar(35) not null,
    FORENAME            varchar(35) not null,
    FORENAME2           varchar(35),
    ROW_VERSION         number      not null default 0,
    TRAINING_SESSION_ID number,
    STAFF_GRADE_ID      number,
    START_DATE          date        not null,
    END_DATE            date        not null,
    constraint TRUE_OR_FALSE69
        check (TRUST_PROVIDER_FLAG in (
                                       0, 1
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (STAFF_GRADE_ID)
        references R_STANDARD_REFERENCE_LIST
);
alter table OFFICER
    add constraint XPKOFFICER
        primary key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID);
create table SPG_SEARCH_REQUEST
(
    SPG_SEARCH_REQUEST_ID number not null,
    CRC_SEARCH_ID         number not null,
    SURNAME               varchar(35),
    FIRST_NAME            varchar(35),
    SECOND_NAME           varchar(35),
    DATE_OF_BIRTH_DATE    date,
    GENDER_ID             number,
    CRN                   char(7),
    PNC_NUMBER            char(13),
    CRO_NUMBER            varchar(12),
    NOMS_NUMBER           char(7),
    NI_NUMBER             char(9),
    LAST_UPDATED_USER_ID  number not null,
    SPG_SEARCH_NIL        char,
    SPG_SEARCH_COUNT      number,
    SPG_SEARCH_EXCESS     char,
    SPG_SEARCH_LAO        char,
    constraint XPKSPG_SEARCH_REQUEST
        primary key (SPG_SEARCH_REQUEST_ID),
    constraint R_1114
        foreign key (GENDER_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY_1919921875
        check (SPG_SEARCH_NIL in (
                                  'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_808538369
        check (SPG_SEARCH_EXCESS in (
                                     'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1785900753
        check (SPG_SEARCH_LAO in (
                                  'Y', 'N'
            ))
);
create table Z_AR_AI_BEFORE
(
    AI_DATE                 varchar(17),
    OUTCOME                 char   not null,
    USER_ID                 number not null,
    BUSINESS_INTERACTION_ID number not null,
    AI_COUNT                number
);
create table Z_COURT_0248
(
    MANAGER                        char(17),
    MANAGER_ID                     number       not null,
    COURT_REP_ALLOCATION_REASON_ID number,
    CODE                           char(3)      not null,
    TEAM_ID                        number       not null,
    TEAM_CODE                      char(6)      not null,
    TEAM_DESCRIPTION               varchar(50)  not null,
    TEAM_END_DATE                  date,
    STAFF_ID                       number       not null,
    OFFICER_CODE                   char(7),
    FORENAME                       varchar(35)  not null,
    FORENAME2                      varchar(35),
    SURNAME                        varchar(35)  not null,
    STAFF_END_DATE                 date,
    CRN                            char(7)      not null,
    OFFENDER_ID                    number       not null,
    EVENT_NUMBER                   varchar(10)  not null,
    EVENT_ID                       number       not null,
    COURT_REPORT_ID                number       not null,
    APPEARANCE_DATE                date         not null,
    APPEARANCE_TYPE_CODE           varchar(100) not null,
    APPEARANCE_TYPE_DESCRIPTION    varchar(500) not null,
    OUTCOME_CODE                   varchar(100),
    OUTCOME_DESCRIPTION            varchar(500),
    ACTIVE_FLAG                    number       not null,
    OFFENDER_SD                    number       not null,
    REPORT_MANAGER_SD              number       not null,
    EVENT_SD                       number       not null,
    COURT_REPORT_SD                number       not null,
    COURT_APPEARANCE_SD            number       not null
);
create table IAPS_RQMNT
(
    RQMNT_ID            number not null,
    IAPS_FLAG           number not null,
    TRAINING_SESSION_ID number,
    constraint XPKIAPS_RQMNT
        primary key (RQMNT_ID)
);
create table Z_REF_DATA_267_EXT
(
    COUNTRY varchar(255),
    COUNTY  varchar(255),
    LJA     varchar(255),
    CODE    varchar(10)
);
create table Z_CONTACT_0104
(
    CONTACT_ID   number not null,
    CONTACT_DATE date   not null
);
create table PDT_SEMAPHORE
(
    COMPONENT_CODE varchar(10) not null,
    SIGNAL         varchar(10),
    constraint PDT_SEMAPHORE_PK
        primary key (COMPONENT_CODE)
);
create table ADDRESS
(
    ADDRESS_ID            number not null,
    BUILDING_NAME         varchar(35),
    ADDRESS_NUMBER        varchar(35),
    STREET_NAME           varchar(35),
    DISTRICT              varchar(35),
    TOWN_CITY             varchar(35),
    POSTCODE              varchar(8),
    COUNTY                varchar(35),
    SOFT_DELETED          number not null,
    TELEPHONE_NUMBER      varchar(35),
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    constraint XPKADDRESS
        primary key (ADDRESS_ID),
    constraint TRUE_OR_FALSE39
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table ORGANISATION
(
    ORGANISATION_ID       number       not null,
    CODE                  varchar(20)  not null,
    DESCRIPTION           varchar(200) not null,
    CONTACT_NAME          varchar(200),
    ADDRESS_ID            number       not null,
    PRIVATE               number       not null,
    START_DATE            date         not null,
    END_DATE              date,
    ACTIVE_FLAG           number       not null,
    ROW_VERSION           number       not null default 0,
    CREATED_BY_USER_ID    number       not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID  number       not null,
    LAST_UPDATED_DATETIME date         not null,
    TRAINING_SESSION_ID   number,
    constraint XPKORGANISATION
        primary key (ORGANISATION_ID),
    constraint R_886
        foreign key (ADDRESS_ID)
            references ADDRESS,
    constraint TRUE_OR_FALSE_1719627878
        check (PRIVATE in (
                           0, 1
            )),
    constraint R_887
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint ACTIVE_FLAG_END_DAT_1597930852
        check ((
                (
                        ACTIVE_FLAG = 0
                        and END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and END_DATE is null
                    )
            ))
);
create table R_INSTITUTION
(
    INSTITUTION_ID             number       not null,
    ESTABLISHMENT              char         not null,
    CODE                       char(6)      not null,
    DESCRIPTION                varchar(100) not null,
    SELECTABLE                 char         not null,
    INSTITUTION_NAME           varchar(100),
    FAX_NUMBER                 varchar(35),
    ADDRESS_ID                 number,
    ROW_VERSION                number       not null default 0,
    CREATED_DATETIME           date         not null,
    CREATED_BY_USER_ID         number       not null,
    LAST_UPDATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID       number       not null,
    TRAINING_SESSION_ID        number,
    ESTABLISHMENT_TYPE_ID      number,
    IMMIGRATION_REMOVAL_CENTRE char,
    NOMIS_CDE_CODE             varchar(50),
    PRIVATE                    number,
    constraint YES_OR_NO_ONLY30
        check (ESTABLISHMENT in (
                                 'Y', 'N'
            )),
    constraint YES_OR_NO10
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (ADDRESS_ID)
        references ADDRESS,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (ESTABLISHMENT_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY_567802777
        check (IMMIGRATION_REMOVAL_CENTRE in (
                                              'Y', 'N'
            )),
    constraint TRUE_OR_FALSE_2088138974
        check (PRIVATE in (
                           0, 1
            )),
    constraint XPKR_INSTITUTION
        primary key (INSTITUTION_ID, ESTABLISHMENT),
    constraint XAK1R_INSTITUTION
        unique (CODE, TRAINING_SESSION_ID, INSTITUTION_ID, ESTABLISHMENT)
);
create table EXTERNAL_PROVIDER
(
    EXTERNAL_PROVIDER_ID  number      not null,
    CODE                  varchar(20) not null,
    DESCRIPTION           varchar(50) not null,
    CONTACT_NAME          varchar(200),
    FAX_NUMBER            varchar(35),
    ROW_VERSION           number      not null default 0,
    ADDRESS_ID            number,
    START_DATE            date        not null,
    END_DATE              date,
    CREATED_BY_USER_ID    number      not null,
    CREATED_DATETIME      date        not null,
    LAST_UPDATED_USER_ID  number      not null,
    LAST_UPDATED_DATETIME date        not null,
    TRAINING_SESSION_ID   number,
    constraint XPKEXTERNAL_PROVIDER
        primary key (EXTERNAL_PROVIDER_ID),
    foreign key (ADDRESS_ID)
        references ADDRESS,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1EXTERNAL_PROVIDER
        unique (CODE, TRAINING_SESSION_ID, EXTERNAL_PROVIDER_ID),
    constraint PROVIDER_LOCATION_DATE_VALID5
        check ((
                START_DATE <= END_DATE
                or END_DATE is null
            ))
);
create table R_POST_CJA_LIC_CONDITION_TYPE
(
    POST_CJA_LIC_CONDITION_TYPE_ID number not null,
    ROW_VERSION                    number not null default 0,
    LIC_COND_TYPE_SUB_CAT_ID       number not null,
    TRAINING_SESSION_ID            number,
    LIC_COND_TYPE_MAIN_CAT_ID      number not null,
    constraint XPKR_POST_CJA_LIC_CONDITION_TY
        primary key (POST_CJA_LIC_CONDITION_TYPE_ID),
    foreign key (LIC_COND_TYPE_SUB_CAT_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (LIC_COND_TYPE_MAIN_CAT_ID)
        references R_LIC_COND_TYPE_MAIN_CAT,
    constraint XAK1R_POST_CJA_LIC_CONDITION_T
        unique (TRAINING_SESSION_ID, LIC_COND_TYPE_MAIN_CAT_ID, LIC_COND_TYPE_SUB_CAT_ID,
                POST_CJA_LIC_CONDITION_TYPE_ID)
);
create table Z_BEHAVIOUR_0088
(
    UPW_APPOINTMENT_ID number not null,
    OFFENDER_ID        number not null,
    CONTACT_ID         number not null
);
create table Z_OFFENDER_MANAGER_0081_BACKUP
(
    OFFENDER_MANAGER_ID    number not null,
    ALLOCATION_DATE        date   not null,
    END_DATE               date,
    TEAM_ID                number,
    ALLOCATION_STAFF_ID    number,
    PARTITION_AREA_ID      number not null,
    OFFENDER_ID            number not null,
    SOFT_DELETED           number not null,
    ROW_VERSION            number not null,
    ALLOCATION_REASON_ID   number not null,
    PROVIDER_EMPLOYEE_ID   number,
    OFFENDER_TRANSFER_ID   number,
    PROVIDER_TEAM_ID       number,
    TRAINING_SESSION_ID    number,
    TRUST_PROVIDER_FLAG    number not null,
    STAFF_EMPLOYEE_ID      number not null,
    PROBATION_AREA_ID      number not null,
    TRUST_PROVIDER_TEAM_ID number not null,
    ACTIVE_FLAG            number not null,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null
);
create table Z_OM_0248
(
    MANAGER              char(16),
    MANAGER_ID           number      not null,
    ALLOCATION_REASON_ID number      not null,
    CODE                 char(3)     not null,
    TEAM_ID              number      not null,
    TEAM_CODE            char(6)     not null,
    TEAM_DESCRIPTION     varchar(50) not null,
    TEAM_END_DATE        date,
    STAFF_ID             number      not null,
    OFFICER_CODE         char(7),
    FORENAME             varchar(35) not null,
    FORENAME2            varchar(35),
    SURNAME              varchar(35) not null,
    STAFF_END_DATE       date,
    CRN                  char(7)     not null,
    OFFENDER_ID          number      not null,
    OFFENDER_SD          number      not null,
    OFFENDER_MANAGER_SD  number      not null
);
create table Z_OS_0241
(
    MANAGER              char(13),
    MANAGER_ID           number      not null,
    ALLOCATION_REASON_ID number      not null,
    CODE                 char(3)     not null,
    TEAM_ID              number      not null,
    TEAM_CODE            char(6)     not null,
    TEAM_DESCRIPTION     varchar(50) not null,
    TEAM_END_DATE        date,
    STAFF_ID             number      not null,
    OFFICER_CODE         char(7),
    FORENAME             varchar(35) not null,
    FORENAME2            varchar(35),
    SURNAME              varchar(35) not null,
    STAFF_END_DATE       date,
    CRN                  char(7)     not null,
    OFFENDER_ID          number      not null,
    EVENT_ID             number      not null,
    EVENT_NUMBER         varchar(10) not null,
    DISPOSAL_DATE        date,
    DISPOSAL_TYPE_CODE   varchar(30),
    DISPOSAL_DESCRIPTION varchar(128),
    OFFENDER_SD          number      not null,
    ORDER_MANAGER_SD     number      not null,
    EVENT_SD             number      not null,
    DISPOSAL_SD          number
);
create table Z_MAPPING_0276
(
    OLD_DN      varchar(500),
    NEW_DN      varchar(500),
    OLD_USER_ID number,
    NEW_USER_ID number
);
create table SPG_MESSAGE_LOG
(
    SPG_MESSAGE_LOG_ID number        not null,
    MESSAGE_TIMESTAMP  timestamp(6)  not null,
    MESSAGE_TYPE_ID    number        not null,
    COMPONENT_CODE     varchar(30)   not null,
    PACKAGE_NAME       varchar(30)   not null,
    PROCEDURE_NAME     varchar(30)   not null,
    LABEL              varchar(10)   not null,
    MESSAGE_TEXT       varchar(4000) not null,
    SPG_ERROR_LOG_ID   number,
    INSTANCE_ID        number        not null default 0,
    constraint XPKSPG_MESSAGE_LOG
        primary key (SPG_MESSAGE_LOG_ID)
);
create table R_PSS_RQMNT_TYPE_SUB_CATEGORY
(
    PSS_RQMNT_TYPE_SUB_CAT_ID number(22)   not null,
    CODE                      varchar(20)  not null,
    DESCRIPTION               varchar(200) not null,
    SELECTABLE                char         not null,
    EXPECTED_SECTOR           varchar(10),
    ALLOW_DUPLICATES          char,
    INACTIVE_DUPLICATES       char,
    ROW_VERSION               number(22)   not null default 0,
    CREATED_BY_USER_ID        number(22)   not null,
    CREATED_DATETIME          date         not null,
    LAST_UPDATED_USER_ID      number(22)   not null,
    LAST_UPDATED_DATETIME     date         not null,
    constraint XPKR_PSS_RQMNT_TYPE_SUB_CATEGO
        primary key (PSS_RQMNT_TYPE_SUB_CAT_ID),
    constraint SELECTABLE_1265392886
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_ONLY_1406907081
        check (ALLOW_DUPLICATES in (
                                    'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1716387023
        check (INACTIVE_DUPLICATES in (
                                       'Y', 'N'
            ))
);
create table R_PSS_RQMNT_TYPE
(
    PSS_RQMNT_TYPE_ID          number(22) not null,
    PSS_RQMNT_TYPE_SUB_CAT_ID  number(22) not null,
    PSS_RQMNT_TYPE_MAIN_CAT_ID number(22) not null,
    ROW_VERSION                number(22) not null default 0,
    constraint XPKR_PSS_RQMNT_TYPE
        primary key (PSS_RQMNT_TYPE_ID),
    constraint R_963
        foreign key (PSS_RQMNT_TYPE_SUB_CAT_ID)
            references R_PSS_RQMNT_TYPE_SUB_CATEGORY,
    constraint R_964
        foreign key (PSS_RQMNT_TYPE_MAIN_CAT_ID)
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY
);
create table R_LINKED_LIST
(
    STANDARD_REFERENCE_DATA1 number not null,
    STANDARD_REFERENCE_DATA2 number not null,
    ROW_VERSION              number not null default 0,
    TRAINING_SESSION_ID      number,
    foreign key (STANDARD_REFERENCE_DATA1)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (STANDARD_REFERENCE_DATA2)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_LINKED_LIST
        primary key (STANDARD_REFERENCE_DATA1, STANDARD_REFERENCE_DATA2)
);
create table Z_OM_0241
(
    MANAGER              char(16),
    MANAGER_ID           number      not null,
    ALLOCATION_REASON_ID number      not null,
    CODE                 char(3)     not null,
    TEAM_ID              number      not null,
    TEAM_CODE            char(6)     not null,
    TEAM_DESCRIPTION     varchar(50) not null,
    TEAM_END_DATE        date,
    STAFF_ID             number      not null,
    OFFICER_CODE         char(7),
    FORENAME             varchar(35) not null,
    FORENAME2            varchar(35),
    SURNAME              varchar(35) not null,
    STAFF_END_DATE       date,
    CRN                  char(7)     not null,
    OFFENDER_ID          number      not null,
    OFFENDER_SD          number      not null,
    OFFENDER_MANAGER_SD  number      not null
);
create table Z_ACTIVE_OFFENDERS_0277
(
    CRN char(7)
);
create table Z_INST_0241
(
    MANAGER                       char(17),
    MANAGER_ID                    number       not null,
    INST_REP_ALLOCATION_REASON_ID number,
    CODE                          char(3)      not null,
    TEAM_ID                       number       not null,
    TEAM_CODE                     char(6)      not null,
    TEAM_DESCRIPTION              varchar(50)  not null,
    TEAM_END_DATE                 date,
    STAFF_ID                      number       not null,
    OFFICER_CODE                  char(7),
    FORENAME                      varchar(35)  not null,
    FORENAME2                     varchar(35),
    SURNAME                       varchar(35)  not null,
    STAFF_END_DATE                date,
    CRN                           char(7)      not null,
    OFFENDER_ID                   number       not null,
    EVENT_NUMBER                  varchar(10)  not null,
    EVENT_ID                      number       not null,
    INSTITUTIONAL_REPORT_ID       number       not null,
    DISPOSAL_DATE                 date         not null,
    DISPOSAL_TYPE_CODE            varchar(30)  not null,
    DISPOSAL_DESCRIPTION          varchar(128) not null,
    IR_REPORT_CODE                varchar(100) not null,
    IR_REPORT_DESCRIPTION         varchar(500) not null,
    OFFENDER_SD                   number       not null,
    REPORT_MANAGER_SD             number       not null,
    EVENT_SD                      number       not null,
    DISPOSAL_SD                   number       not null,
    INSTITUTIONAL_REPORT_SD       number       not null,
    CUSTODY_SD                    number       not null
);
create table TRAINING_SESSION_PASSWORD
(
    TRAINING_SESSION_PASSWORD_ID number      not null,
    WEEK_IDENTIFIER              varchar(50) not null,
    START_DATE                   date,
    END_DATE                     date,
    WEEK_SESSION_PASSWORD        varchar(50) not null,
    TRAINING_SESSION_ID          number      not null,
    constraint XPKTRAINING_SESSION_PASSWORD
        primary key (TRAINING_SESSION_PASSWORD_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table Z_CLUSTER_TEAM_0248
(
    TEAM_ID number  not null,
    CODE    char(6) not null
);
create table R_DISPOSAL_TYPE_TERMINATION
(
    DISPOSAL_TYPE_ID               number not null,
    DISPOSAL_TERMINATION_REASON_ID number not null,
    ROW_VERSION                    number not null default 0,
    TRAINING_SESSION_ID            number,
    foreign key (DISPOSAL_TYPE_ID)
        references R_DISPOSAL_TYPE,
    foreign key (DISPOSAL_TERMINATION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_DISPOSAL_TYPE_TERMINATION
        primary key (DISPOSAL_TYPE_ID, DISPOSAL_TERMINATION_REASON_ID)
);
create table R_CIRCUMSTANCE_TYPE
(
    CIRCUMSTANCE_TYPE_ID  number       not null,
    CODE_VALUE            varchar(100) not null,
    CODE_DESCRIPTION      varchar(500) not null,
    SELECTABLE            char         not null,
    ACTIVE_DUPLICATES     char         not null,
    ROW_VERSION           number       not null default 0,
    CREATED_BY_USER_ID    number       not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID  number       not null,
    LAST_UPDATED_DATETIME date         not null,
    TRAINING_SESSION_ID   number,
    ENQUIRY               number(22),
    SPG_INTEREST          number,
    constraint XPKR_CIRCUMSTANCE_TYPE
        primary key (CIRCUMSTANCE_TYPE_ID),
    constraint YES_OR_NO8
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_ONLY28
        check (ACTIVE_DUPLICATES in (
                                     'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE_1423364334
        check (ENQUIRY in (
                           0, 1
            )),
    constraint TRUE_OR_FALSE_1534029671
        check (SPG_INTEREST in (
                                0, 1
            )),
    constraint XAK1R_CIRCUMSTANCE_TYPE
        unique (CODE_VALUE, TRAINING_SESSION_ID, CIRCUMSTANCE_TYPE_ID)
);
create table R_CIRCUMSTANCE_TYPE_SUBTYPE
(
    CIRCUMSTANCE_TYPE_ID     number not null,
    CIRCUMSTANCE_SUB_TYPE_ID number not null,
    ROW_VERSION              number not null default 0,
    TRAINING_SESSION_ID      number,
    foreign key (CIRCUMSTANCE_TYPE_ID)
        references R_CIRCUMSTANCE_TYPE,
    foreign key (CIRCUMSTANCE_SUB_TYPE_ID)
        references R_CIRCUMSTANCE_SUB_TYPE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_CIRCUMSTANCE_TYPE_SUBTYPE
        primary key (CIRCUMSTANCE_TYPE_ID, CIRCUMSTANCE_SUB_TYPE_ID)
);
create table DISPOSAL_TYPE_AD_SENT_TYPE
(
    DISPOSAL_TYPE_ID            number not null,
    ADDITIONAL_SENTENCE_TYPE_ID number not null,
    ROW_VERSION                 number not null default 0,
    CREATED_BY_USER_ID          number not null,
    CREATED_DATETIME            date   not null,
    LAST_UPDATED_USER_ID        number not null,
    LAST_UPDATED_DATETIME       date   not null,
    TRAINING_SESSION_ID         number,
    foreign key (DISPOSAL_TYPE_ID)
        references R_DISPOSAL_TYPE,
    foreign key (ADDITIONAL_SENTENCE_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKDISPOSAL_TYPE_AD_SENT_TYPE
        primary key (DISPOSAL_TYPE_ID, ADDITIONAL_SENTENCE_TYPE_ID)
);
create table SPG_XSD
(
    SPG_XSD_ID            number       not null,
    XSD_NUMBER            number,
    XSD_NAME              varchar(200) not null,
    XSD_VERSION           varchar(30)  not null,
    XSD_DATE              date         not null,
    ACTIVE_FLAG           number       not null,
    CREATED_BY_USER_ID    number       not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID  number       not null,
    LAST_UPDATED_DATETIME date         not null,
    ROW_ID                number       not null default 0,
    constraint XPKSPG_XSD
        primary key (SPG_XSD_ID),
    constraint TRUE_OR_FALSE_644453978
        check (ACTIVE_FLAG in (
                               0, 1
            ))
);
create table Z_OFFICE_LOCATION_O241_EXT
(
    OLD_PROBATION_CODE       varchar(3),
    OLD_OFFICE_LOCATION_CODE varchar(7),
    NEW_PROBATION_CODE       varchar(3),
    NEW_OFFICE_LOCATION_CODE varchar(7)
);
create table Z_RQMNT_0248
(
    MANAGER              char(13),
    MANAGER_ID           number       not null,
    ALLOCATION_REASON_ID number(22),
    CODE                 char(3)      not null,
    TEAM_ID              number       not null,
    TEAM_CODE            char(6)      not null,
    TEAM_DESCRIPTION     varchar(50)  not null,
    TEAM_END_DATE        date,
    STAFF_ID             number       not null,
    OFFICER_CODE         char(7),
    FORENAME             varchar(35)  not null,
    FORENAME2            varchar(35),
    SURNAME              varchar(35)  not null,
    STAFF_END_DATE       date,
    CRN                  char(7)      not null,
    OFFENDER_ID          number       not null,
    EVENT_NUMBER         varchar(10)  not null,
    EVENT_ID             number       not null,
    RQMNT_ID             number       not null,
    DISPOSAL_DATE        date         not null,
    DISPOSAL_TYPE_CODE   varchar(30)  not null,
    DISPOSAL_DESCRIPTION varchar(128) not null,
    RQMNT_CODE           varchar(20)  not null,
    RQMNT_DESCRIPTION    varchar(200) not null,
    OFFENDER_SD          number       not null,
    RQMNT_MANAGER_SD     number       not null,
    EVENT_SD             number       not null,
    DISPOSAL_SD          number       not null
);
create table Z_CONTACT_0215
(
    OFFENDER_ID  number not null,
    CONTACT_ID   number not null,
    EVENT_ID     number,
    RQMNT_ID     number,
    SOFT_DELETED number not null,
    SPG_INTEREST number,
    NEW_EVENT_ID number
);
create table Z_EWL_249_AFTER
(
    BACKUP_DATE             date,
    PROVIDER_CODE_FROM      varchar(3),
    LOCATION_CODE_FROM      varchar(7),
    OFFICE_LOCATION_ID_FROM number,
    PROVIDER_CODE_TO        varchar(3),
    LOCATION_CODE_TO        varchar(7),
    OFFICE_LOCATION_ID_TO   number,
    ROW_VERSION             number
);
create table R_REGISTER_DUPLICATE_GROUP
(
    REGISTER_GROUP_ID     number(22)   not null,
    CODE                  varchar(20)  not null,
    DESCRIPTION           varchar(200) not null,
    SELECTABLE            char         not null,
    ROW_VERSION           number(22)   not null default 0,
    CREATED_BY_USER_ID    number(22)   not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID  number(22)   not null,
    LAST_UPDATED_DATETIME date         not null,
    constraint XPKR_REGISTER_DUPLICATE_GROUP
        primary key (REGISTER_GROUP_ID)
);
create table Z_CON_0241_BU
(
    CONTACT_ID         number      not null,
    CONTACT_DATE       date        not null,
    OFFICE_LOCATION_ID number,
    OFFENDER_ID        number      not null,
    CRN                char(7)     not null,
    TEAM_ID            number      not null,
    TEAM_CODE          char(6)     not null,
    STAFF_ID           number      not null,
    OFFICER_CODE       char(7),
    CODE               char(3)     not null,
    CONTACT_TYPE_CODE  varchar(10) not null
);
create table R_NSI_TYPE
(
    NSI_TYPE_ID                    number       not null,
    CODE                           varchar(20)  not null,
    DESCRIPTION                    varchar(200) not null,
    OFFENDER_LEVEL                 number       not null,
    EVENT_LEVEL                    number       not null,
    ALLOW_ACTIVE_DUPLICATES        number       not null,
    ALLOW_INACTIVE_DUPLICATES      number       not null,
    MINIMUM_LENGTH                 number,
    MAXIMUM_LENGTH                 number,
    UNITS_ID                       number,
    ENFORCEMENT_TYPE               number       not null default 0,
    SELECTABLE                     char         not null,
    CREATED_BY_USER_ID             number       not null,
    CREATED_DATETIME               date         not null,
    LAST_UPDATED_USER_ID           number       not null,
    LAST_UPDATED_DATETIME          date         not null,
    ROW_VERSION                    number       not null default 0,
    TRAINING_SESSION_ID            number,
    TERM_COUNT                     char,
    RATE_CARD_FLAG                 char         not null default 'N',
    CRC_WORK_REQUESTS_DIARY_FLAG   char         not null default 'N',
    NSI_PURPOSE_ID                 number       not null default null,
    NSI_TRANSFER_TYPE_ID           number,
    ADDITIONAL_IDENTIFIER_TYPE1_ID number,
    ADDITIONAL_IDENTIFIER_TYPE2_ID number,
    constraint XPKR_NSI_TYPE
        primary key (NSI_TYPE_ID),
    constraint TRUE_OR_FALSE_723990533
        check (OFFENDER_LEVEL in (
                                  0, 1
            )),
    constraint TRUE_OR_FALSE_1973141974
        check (EVENT_LEVEL in (
                               0, 1
            )),
    constraint TRUE_OR_FALSE_1919464364
        check (ALLOW_ACTIVE_DUPLICATES in (
                                           0, 1
            )),
    constraint TRUE_OR_FALSE_1196312911
        check (ALLOW_INACTIVE_DUPLICATES in (
                                             0, 1
            )),
    constraint R_804
        foreign key (UNITS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint SELECTABLE_320035946
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint R_805
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint TERM_COUNT_D_S_1519325482
        check (TERM_COUNT in (
                              'D', 'S'
            )),
    constraint YES_OR_NO_ONLY_606860233
        check (RATE_CARD_FLAG in (
                                  'Y', 'N'
            )),
    constraint R_1232
        foreign key (NSI_PURPOSE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1235
        foreign key (NSI_TRANSFER_TYPE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1250
        foreign key (ADDITIONAL_IDENTIFIER_TYPE1_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1251
        foreign key (ADDITIONAL_IDENTIFIER_TYPE2_ID)
            references R_STANDARD_REFERENCE_LIST
);
create table R_NSI_REJECTION_REASON
(
    NSI_TYPE_ID         number(22) not null,
    REJECTION_REASON_ID number(22) not null,
    ROW_VERSION         number(22) not null default 0,
    constraint R_999
        foreign key (NSI_TYPE_ID)
            references R_NSI_TYPE,
    constraint R_1000
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_NSI_REJECTION_REASON
        primary key (NSI_TYPE_ID, REJECTION_REASON_ID)
);
create table R_RQMNT_NSI_TYPE
(
    RQMNT_TYPE_MAIN_CATEGORY_ID number not null,
    NSI_TYPE_ID                 number not null,
    ROW_VERSION                 number not null default 0,
    constraint R_1040
        foreign key (RQMNT_TYPE_MAIN_CATEGORY_ID)
            references R_RQMNT_TYPE_MAIN_CATEGORY,
    constraint R_1041
        foreign key (NSI_TYPE_ID)
            references R_NSI_TYPE,
    constraint XPKR_RQMNT_NSI_TYPE
        primary key (RQMNT_TYPE_MAIN_CATEGORY_ID, NSI_TYPE_ID)
);
create table R_NSI_TYPE_OUTCOME
(
    NSI_TYPE_ID         number not null,
    NSI_OUTCOME_ID      number not null,
    ROW_VERSION         number not null default 0,
    TRAINING_SESSION_ID number,
    constraint R_811
        foreign key (NSI_TYPE_ID)
            references R_NSI_TYPE,
    constraint R_812
        foreign key (NSI_OUTCOME_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_813
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint XPKR_NSI_TYPE_OUTCOME
        primary key (NSI_TYPE_ID, NSI_OUTCOME_ID)
);
create table R_NSI_TRANSFER_REASON
(
    NSI_TYPE_ID        number(22) not null,
    TRANSFER_REASON_ID number(22) not null,
    ROW_VERSION        number(22) not null default 0,
    constraint R_991
        foreign key (NSI_TYPE_ID)
            references R_NSI_TYPE,
    constraint R_1009
        foreign key (TRANSFER_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_NSI_TRANSFER_REASON
        primary key (NSI_TYPE_ID, TRANSFER_REASON_ID)
);
create table R_NSI_TYPE_SUB_TYPE
(
    NSI_TYPE_ID         number not null,
    NSI_SUB_TYPE_ID     number not null,
    ROW_VERSION         number not null default 0,
    TRAINING_SESSION_ID number,
    constraint R_808
        foreign key (NSI_TYPE_ID)
            references R_NSI_TYPE,
    constraint R_809
        foreign key (NSI_SUB_TYPE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_810
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint XPKR_NSI_TYPE_SUB_TYPE
        primary key (NSI_TYPE_ID, NSI_SUB_TYPE_ID)
);
create table R_NOMIS_TYPE_NSI_TYPE
(
    NOMIS_TYPE_NSI_TYPE_ID number      not null,
    NOMIS_CONTACT_TYPE     varchar(32) not null,
    NSI_TYPE_ID            number      not null,
    NSI_LEVEL              varchar(20) not null,
    constraint XPKR_NOMIS_TYPE_NSI_TYPE
        primary key (NOMIS_TYPE_NSI_TYPE_ID),
    constraint R_1214
        foreign key (NSI_TYPE_ID)
            references R_NSI_TYPE
);
create table DISABILITY_PROVISION_TYPE
(
    DISABILITY_TYPE_ID  number not null,
    PROVISION_TYPE_ID   number not null,
    ROW_VERSION         number not null default 0,
    TRAINING_SESSION_ID number,
    foreign key (DISABILITY_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PROVISION_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKDISABILITY_PROVISION_TYPE
        primary key (DISABILITY_TYPE_ID, PROVISION_TYPE_ID)
);
create table Z_RESTRICTION_0276
(
    OFFENDER_ID          number       not null,
    CRN                  char(7)      not null,
    USER_ID              number       not null,
    PRIVATE              number       not null,
    DISTINGUISHED_NAME   varchar(500) not null,
    RESTRICTION_ID       number       not null,
    RESTRICTION_DATE     date         not null,
    RESTRICTION_END_DATE date,
    CODE_VALUE           varchar(100) not null,
    CODE_DESCRIPTION     varchar(500) not null
);
create table DISTRICT
(
    DISTRICT_ID           number       not null,
    CODE                  varchar(20)  not null,
    DESCRIPTION           varchar(100) not null,
    SELECTABLE            char         not null,
    BOROUGH_ID            number       not null,
    ROW_VERSION           number       not null default 0,
    CREATED_BY_USER_ID    number       not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID  number       not null,
    LAST_UPDATED_DATETIME date         not null,
    TRAINING_SESSION_ID   number,
    constraint XPKDISTRICT
        primary key (DISTRICT_ID),
    constraint YES_OR_NO3
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (BOROUGH_ID)
        references BOROUGH,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1DISTRICT
        unique (CODE, TRAINING_SESSION_ID, DISTRICT_ID)
);
create table TEAM
(
    TEAM_ID                  number      not null,
    CODE                     char(6)     not null,
    DESCRIPTION              varchar(50) not null,
    DISTRICT_ID              number      not null,
    LOCAL_DELIVERY_UNIT_ID   number      not null,
    TELEPHONE                varchar(35),
    UNPAID_WORK_TEAM         char        not null,
    ROW_VERSION              number      not null default 0,
    FAX_NUMBER               varchar(35),
    CONTACT_NAME             varchar(200),
    START_DATE               date        not null,
    END_DATE                 date,
    CREATED_DATETIME         date        not null,
    CREATED_BY_USER_ID       number      not null,
    LAST_UPDATED_DATETIME    date        not null,
    LAST_UPDATED_USER_ID     number      not null,
    TRAINING_SESSION_ID      number,
    PROBATION_AREA_ID        number      not null,
    PRIVATE                  number      not null,
    SC_PROVIDER_ID           number,
    DESIGNATED_TRANSFER_TEAM number               default 0,
    EMAIL_ADDRESS            varchar(255),
    constraint XPKTEAM
        primary key (TEAM_ID),
    foreign key (DISTRICT_ID)
        references DISTRICT,
    constraint YES_OR_NO_OR_UNKNOWN8
        check (UNPAID_WORK_TEAM in (
                                    'N', 'Y', 'U'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE_924858398
        check (PRIVATE in (
                           0, 1
            )),
    constraint TRUE_OR_FALSE_871680176
        check (DESIGNATED_TRANSFER_TEAM in (
                                            0, 1
            )),
    constraint XAK2TEAM
        unique (CODE, TRAINING_SESSION_ID, TEAM_ID),
    constraint PROVIDER_LOCATION_DATE_VALID8
        check ((
                START_DATE <= END_DATE
                or END_DATE is null
            ))
);
create table R_TEAM_LONG_POSTCODE
(
    LONG_POSTCODE_ID number not null,
    TEAM_ID          number not null,
    ROW_VERSION      number not null default 0,
    constraint R_1242
        foreign key (LONG_POSTCODE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1243
        foreign key (TEAM_ID)
            references TEAM,
    constraint XPKR_TEAM_LONG_POSTCODE
        primary key (LONG_POSTCODE_ID, TEAM_ID)
);
create table R_TEAM_SHORT_POSTCODE
(
    SHORT_POSTCODE_ID number not null,
    TEAM_ID           number not null,
    ROW_VERSION       number not null default 0,
    constraint R_1240
        foreign key (SHORT_POSTCODE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1241
        foreign key (TEAM_ID)
            references TEAM,
    constraint XPKR_TEAM_SHORT_POSTCODE
        primary key (SHORT_POSTCODE_ID, TEAM_ID)
);
create table PROBATION_AREA
(
    PROBATION_AREA_ID            number      not null,
    CODE                         char(3)     not null,
    DESCRIPTION                  varchar(60) not null,
    SELECTABLE                   char        not null,
    ROW_VERSION                  number      not null default 0,
    FORM_20_CODE                 varchar(20),
    MIGRATED_DATE                date,
    HO_AREA_CODE                 varchar(20),
    CREATED_BY_USER_ID           number      not null,
    CREATED_DATETIME             date        not null,
    LAST_UPDATED_USER_ID         number      not null,
    LAST_UPDATED_DATETIME        date        not null,
    TRAINING_SESSION_ID          number,
    TRUST_CODE                   char(3),
    TRUST_DIVISION_ID            number,
    TRUST_CPA_ID                 number,
    PRIVATE                      number      not null,
    DIVISION_ID                  number,
    ORGANISATION_ID              number      not null,
    CONTACT_NAME                 varchar(200),
    ADDRESS_ID                   number      not null,
    START_DATE                   date        not null,
    END_DATE                     date,
    SPG_ACTIVE_ID                number      not null,
    INSTITUTION_ID               number,
    ESTABLISHMENT                char,
    BROADCAST_REF_DATA           number,
    BROADCAST_OFFENDER_DATA      number,
    DEFAULT_TRANSFER_TEAM_ID     number,
    ALLOCATE_DOCUMENT_LIST       number      not null default 0,
    QUEUE_SPG_TRANSFER_REQUEST   number      not null default 1,
    TRANSITION_TRANSFER_MESSAGES number      not null default 1,
    DEFAULT_COURT_TEAM_ID        number,
    DEFAULT_POSTCODE_TEAM_ID     number,
    SELECTABLE_WHEN_RETAINED     char,
    SELECTABLE_WHEN_ALLOCATED    char,
    constraint XPKPROBATION_AREA
        primary key (PROBATION_AREA_ID),
    constraint YES_OR_NO13
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE_1316924380
        check (PRIVATE in (
                           0, 1
            )),
    constraint R_898
        foreign key (ORGANISATION_ID)
            references ORGANISATION,
    constraint R_899
        foreign key (ADDRESS_ID)
            references ADDRESS,
    constraint R_1050
        foreign key (SPG_ACTIVE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1221
        foreign key (DEFAULT_TRANSFER_TEAM_ID)
            references TEAM,
    constraint TRUE_OR_FALSE_1716605211
        check (ALLOCATE_DOCUMENT_LIST in (
                                          0, 1
            )),
    constraint TRUE_OR_FALSE_3459496
        check (QUEUE_SPG_TRANSFER_REQUEST in (
                                              0, 1
            )),
    constraint TRUE_OR_FALSE_1001946058
        check (TRANSITION_TRANSFER_MESSAGES in (
                                                0, 1
            )),
    constraint R_1236
        foreign key (DEFAULT_COURT_TEAM_ID)
            references TEAM,
    constraint R_1237
        foreign key (DEFAULT_POSTCODE_TEAM_ID)
            references TEAM,
    constraint TRUE_OR_FALSE_2129527519
        check (SELECTABLE_WHEN_RETAINED in (
                                            1, 0
            )),
    constraint TRUE_OR_FALSE_468859436
        check (SELECTABLE_WHEN_ALLOCATED in (
                                             1, 0
            )),
    constraint XAK1PROBATION_AREA
        unique (CODE, TRAINING_SESSION_ID, PROBATION_AREA_ID),
    constraint XAK2PROBATION_AREA
        unique (HO_AREA_CODE, TRAINING_SESSION_ID, PROBATION_AREA_ID),
    constraint XAK3PROBATION_AREA
        unique (FORM_20_CODE, TRAINING_SESSION_ID, PROBATION_AREA_ID),
    constraint R_1194
        foreign key (INSTITUTION_ID, ESTABLISHMENT)
            references R_INSTITUTION,
    constraint PRIVATE_DIVISION_ID_1805490531
        check ((
                (
                        PRIVATE = 0
                        and DIVISION_ID is null
                    )
                or (
                        PRIVATE = 1
                        and DIVISION_ID is not null
                    )
            ))
);
create table Z_TEAM_0241
(
    OLD_TEAM_ID     number not null,
    NEW_TEAM_ID     number,
    OLD_TEAM_CODE   char(6),
    NEW_TEAM_CODE   char(6),
    NEW_PROVIDER_ID number,
    constraint XAK1Z_TEAM_0241
        primary key (OLD_TEAM_ID),
    constraint XFK1Z_TEAM_0241
        foreign key (OLD_TEAM_ID)
            references TEAM,
    constraint XFK2Z_TEAM_0241
        foreign key (NEW_TEAM_ID)
            references TEAM,
    constraint XAK2Z_TEAM_0241
        unique (OLD_TEAM_CODE),
    constraint XFK3Z_TEAM_0241
        foreign key (NEW_PROVIDER_ID)
            references PROBATION_AREA
);
create table PROVIDER_TEAM
(
    PROVIDER_TEAM_ID      number      not null,
    CODE                  char(6)     not null,
    NAME                  varchar(50) not null,
    EXTERNAL_PROVIDER_ID  number      not null,
    START_DATE            date,
    END_DATE              date,
    UNPAID_WORK           char,
    ROW_VERSION           number      not null default 0,
    CREATED_DATETIME      date        not null,
    CREATED_BY_USER_ID    number      not null,
    LAST_UPDATED_DATETIME date        not null,
    LAST_UPDATED_USER_ID  number      not null,
    TRAINING_SESSION_ID   number,
    PROBATION_AREA_ID     number      not null,
    constraint XPKPROVIDER_TEAM
        primary key (PROVIDER_TEAM_ID),
    foreign key (EXTERNAL_PROVIDER_ID)
        references EXTERNAL_PROVIDER,
    constraint YES_OR_NO_ONLY10
        check (UNPAID_WORK in (
                               'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint XAK1PROVIDER_TEAM
        unique (CODE, TRAINING_SESSION_ID, PROVIDER_TEAM_ID),
    constraint PROVIDER_LOCATION_DATE_VALID3
        check ((
                START_DATE <= END_DATE
                or END_DATE is null
            ))
);
create table SPG_INBOUND_INDEX
(
    SPG_INBOUND_INDEX_ID number       not null,
    CONTROL_REFERENCE    number       not null,
    SOURCE_PROVIDER_ID   number       not null,
    RECEIVED_TIMESTAMP   timestamp(6) not null,
    constraint XPKSPG_INBOUND_INDEX
        primary key (SPG_INBOUND_INDEX_ID),
    constraint R_1049
        foreign key (SOURCE_PROVIDER_ID)
            references PROBATION_AREA,
    constraint XAK1SPG_INBOUND_INDEX
        unique (SOURCE_PROVIDER_ID, CONTROL_REFERENCE)
);
create table PRECON_HISTORY
(
    PRECON_HISTORY_ID              number not null,
    PRECON_TRANSACTION_ID          number not null,
    SOURCE_OFFENDER_CRN            char(7),
    TARGET_OFFENDER_CRN            char(7),
    MERGE_DATE                     date,
    ALFRESCO_DOCUMENT_ID           varchar(36),
    IN_TRASHCAN                    number,
    MOVE_TO_SOURCE_BEFORE_UNDEL    number,
    MOVE_FROM_TRASH_TO_TARGET      number,
    MOVE_FROM_TARGET_TO_SOURCE     number,
    TRASH_DOC_CREATED_BY_USER_ID   number,
    TRASH_DOC_CREATED_DATETIME     date,
    TRASH_DOC_NAME                 varchar(200),
    TRASH_DOC_EDIT_DATE            date,
    TRASH_DOC_OFFENDER_ID          number,
    TRASH_DOC_CREATED_PROVIDER_ID  number,
    TRASH_DOC_LAST_UPDATED_USER_ID number,
    TRASH_DOC_LAST_UPD_PROVIDER_ID number,
    TRASH_DOC_PRECON_DATE          date,
    ROW_VERSION                    number not null default 0,
    constraint XPKPRECON_HISTORY
        primary key (PRECON_HISTORY_ID),
    constraint TRUE_OR_FALSE_1163906008
        check (IN_TRASHCAN in (
                               0, 1
            )),
    constraint TRUE_OR_FALSE_302875035
        check (MOVE_TO_SOURCE_BEFORE_UNDEL in (
                                               0, 1
            )),
    constraint TRUE_OR_FALSE_169940484
        check (MOVE_FROM_TRASH_TO_TARGET in (
                                             0, 1
            )),
    constraint TRUE_OR_FALSE_204404833
        check (MOVE_FROM_TARGET_TO_SOURCE in (
                                              0, 1
            )),
    constraint R_1209
        foreign key (TRASH_DOC_CREATED_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_1210
        foreign key (TRASH_DOC_LAST_UPD_PROVIDER_ID)
            references PROBATION_AREA
);
create table COURT
(
    COURT_ID              number  not null,
    CODE                  char(6) not null,
    SELECTABLE            char    not null,
    COURT_NAME            varchar(80),
    TELEPHONE_NUMBER      varchar(35),
    FAX                   varchar(35),
    BUILDING_NAME         varchar(35),
    STREET                varchar(35),
    LOCALITY              varchar(35),
    TOWN                  varchar(35),
    COUNTY                varchar(35),
    POSTCODE              varchar(8),
    COUNTRY               varchar(16),
    ROW_VERSION           number  not null default 0,
    COURT_TYPE_ID         number  not null,
    CREATED_DATETIME      date    not null,
    CREATED_BY_USER_ID    number  not null,
    LAST_UPDATED_DATETIME date    not null,
    LAST_UPDATED_USER_ID  number  not null,
    TRAINING_SESSION_ID   number,
    PROBATION_AREA_ID     number  not null,
    SECURE_EMAIL_ADDRESS  varchar(255),
    NATIONAL_COURT_CODE   number,
    COURT_OU_CODE         varchar(10),
    BOROUGH_ID            number,
    DISTRICT_ID           number,
    LOCAL_JUSTICE_AREA_ID number,
    constraint XPKCOURT
        primary key (COURT_ID),
    constraint YES_OR_NO
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (COURT_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint R_1295
        foreign key (BOROUGH_ID)
            references BOROUGH,
    constraint R_1296
        foreign key (DISTRICT_ID)
            references DISTRICT,
    constraint R_1297
        foreign key (LOCAL_JUSTICE_AREA_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XAK1COURT
        unique (CODE, TRAINING_SESSION_ID, COURT_ID)
);
create table Z_COURT_PROVIDER_0241
(
    COURT_ID        number,
    OLD_PROVIDER_ID number,
    NEW_PROVIDER_ID number,
    constraint XAK1Z_COURT_PROVIDER_0241
        unique (COURT_ID),
    constraint XFK1Z_COURT_PROVIDER_0241
        foreign key (COURT_ID)
            references COURT,
    constraint XFK2Z_COURT_PROVIDER_0241
        foreign key (OLD_PROVIDER_ID)
            references PROBATION_AREA,
    constraint XFK3Z_COURT_PROVIDER_0241
        foreign key (NEW_PROVIDER_ID)
            references PROBATION_AREA
);
alter table BOROUGH
    add foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA;
create table DPA_REPORT
(
    DPA_REPORT_ID       number not null,
    REPORT_DATE         date,
    TEAM_ID             number,
    PROVIDER_TEAM_ID    number,
    ROW_VERSION         number not null default 0,
    PARTITION_AREA_ID   number not null,
    DISTRICT_ID         number,
    BOROUGH_ID          number,
    PROBATION_AREA_ID   number,
    TRAINING_SESSION_ID number,
    constraint XPKDPA_REPORT
        primary key (DPA_REPORT_ID),
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (DISTRICT_ID)
        references DISTRICT,
    foreign key (BOROUGH_ID)
        references BOROUGH,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table GDPR_DESTRUCTION_LOG
(
    GDPR_DESTRUCTION_LOG_ID  number      not null,
    FORENAME                 varchar(35) not null,
    SURNAME                  varchar(35) not null,
    CRN                      char(7)     not null,
    OFFENDER_MANAGER_AREA_ID number      not null,
    SCHEDULED_DELETE_DATE    date        not null,
    ACTUAL_DELETE_DATE       date        not null,
    constraint XPKGDPR_DESTRUCTION_LOG
        primary key (GDPR_DESTRUCTION_LOG_ID),
    constraint R_1285
        foreign key (OFFENDER_MANAGER_AREA_ID)
            references PROBATION_AREA
);
create table Z_TEAM_0248
(
    OLD_TEAM_ID     number not null,
    NEW_TEAM_ID     number,
    OLD_TEAM_CODE   char(6),
    NEW_TEAM_CODE   char(6),
    NEW_PROVIDER_ID number,
    constraint XAK1Z_TEAM_0248
        primary key (OLD_TEAM_ID),
    constraint XFK1Z_TEAM_0248
        foreign key (OLD_TEAM_ID)
            references TEAM,
    constraint XFK2Z_TEAM_0248
        foreign key (NEW_TEAM_ID)
            references TEAM,
    constraint XAK2Z_TEAM_0248
        unique (OLD_TEAM_CODE),
    constraint XFK3Z_TEAM_0248
        foreign key (NEW_PROVIDER_ID)
            references PROBATION_AREA
);
create table TRAINING_PROVIDER_USER
(
    TRAINING_PROVIDER_USER_ID number(22)  not null,
    PROBATION_AREA_ID         number(22)  not null,
    INSTRUCTOR_COUNT          number(22)  not null,
    LEARNER_COUNT             number(22)  not null,
    SUPERUSER_COUNT           number(22)  not null,
    USER_PASSWORD             varchar(10) not null,
    constraint XPKTRAINING_PROVIDER_USER
        primary key (TRAINING_PROVIDER_USER_ID),
    constraint R_1011
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA
);
create table FORM_20_30
(
    FORM_20_30_ID       number      not null,
    ROW_VERSION         number      not null default 0,
    PROBATION_AREA_ID   number      not null,
    FORM_TYPE           varchar(20) not null,
    START_DATE          date        not null,
    END_DATE            date        not null,
    SUBMITTED           char        not null,
    TRAINING_SESSION_ID number,
    constraint XPKFORM_20_30
        primary key (FORM_20_30_ID),
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint FORM_TYPE
        check (FORM_TYPE in (
                             'FORM 20', 'FORM 30'
            )),
    constraint YES_OR_NO_ONLY29
        check (SUBMITTED in (
                             'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1FORM_20_30
        unique (PROBATION_AREA_ID, FORM_TYPE, START_DATE, END_DATE, SUBMITTED, FORM_20_30_ID)
);
alter table TEAM
    add foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA;
create table Z_TEAM_0278
(
    OLD_TEAM_ID     number not null,
    NEW_TEAM_ID     number,
    OLD_TEAM_CODE   char(6),
    NEW_TEAM_CODE   char(6),
    NEW_PROVIDER_ID number,
    constraint XAK1Z_TEAM_0278
        primary key (OLD_TEAM_ID),
    constraint XFK1Z_TEAM_0278
        foreign key (OLD_TEAM_ID)
            references TEAM,
    constraint XFK2Z_TEAM_0278
        foreign key (NEW_TEAM_ID)
            references TEAM,
    constraint XAK2Z_TEAM_0278
        unique (OLD_TEAM_CODE),
    constraint XFK3Z_TEAM_0278
        foreign key (NEW_PROVIDER_ID)
            references PROBATION_AREA
);
create table PROVIDER_EMPLOYEE
(
    PROVIDER_EMPLOYEE_ID  number      not null,
    CODE                  char(7)     not null,
    SURNAME               varchar(35) not null,
    START_DATE            date        not null,
    FORENAME              varchar(35) not null,
    END_DATE              date,
    FORENAME2             varchar(35),
    ROW_VERSION           number      not null default 0,
    EXTERNAL_PROVIDER_ID  number      not null,
    CREATED_BY_USER_ID    number      not null,
    CREATED_DATETIME      date        not null,
    LAST_UPDATED_USER_ID  number      not null,
    LAST_UPDATED_DATETIME date        not null,
    TRAINING_SESSION_ID   number,
    PROBATION_AREA_ID     number,
    constraint XPKPROVIDER_EMPLOYEE
        primary key (PROVIDER_EMPLOYEE_ID),
    foreign key (EXTERNAL_PROVIDER_ID)
        references EXTERNAL_PROVIDER,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint XAK1PROVIDER_EMPLOYEE
        unique (CODE, TRAINING_SESSION_ID, PROVIDER_EMPLOYEE_ID),
    constraint PROVIDER_LOCATION_DATE_VALID1
        check ((
                START_DATE <= END_DATE
                or END_DATE is null
            ))
);
create table IAPS_MESSAGE_LOG
(
    IAPS_MESSAGE_LOG_ID       number not null,
    IAPS_GENERATED_MESSAGE_ID number not null,
    RECEIVED_DATETIME         date   not null,
    SENT_DATETIME             date,
    RECORD_ID                 number,
    CRN                       char(7),
    PROBATION_AREA_ID         number,
    IAPS_BUSINES_OPERATION_ID number not null,
    TRAINING_SESSION_ID       number,
    constraint XPKIAPS_MESSAGE_LOG
        primary key (IAPS_MESSAGE_LOG_ID),
    constraint IAPS_MESSAGE_LOG_CONTRAINT_AK1
        unique (IAPS_GENERATED_MESSAGE_ID),
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    foreign key (IAPS_BUSINES_OPERATION_ID)
        references R_STANDARD_REFERENCE_LIST
);
create table R_COURT_TEAM
(
    COURT_ID    number not null,
    TEAM_ID     number not null,
    ROW_VERSION number not null default 0,
    constraint R_1238
        foreign key (COURT_ID)
            references COURT,
    constraint R_1239
        foreign key (TEAM_ID)
            references TEAM,
    constraint XPKR_COURT_TEAM
        primary key (COURT_ID, TEAM_ID)
);
create table PROVIDER_TEAM_EMPLOYEE
(
    PROVIDER_TEAM_ID      number not null,
    PROVIDER_EMPLOYEE_ID  number not null,
    START_DATE            date   not null,
    END_DATE              date,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKPROVIDER_TEAM_EMPLOYEE
        primary key (PROVIDER_TEAM_ID, PROVIDER_EMPLOYEE_ID),
    constraint PROVIDER_LOCATION_DATE_VALID4
        check ((
                START_DATE <= END_DATE
                or END_DATE is null
            ))
);
create table LOCAL_DELIVERY_UNIT
(
    LOCAL_DELIVERY_UNIT_ID number      not null,
    CODE                   varchar(10) not null,
    DESCRIPTION            varchar(50) not null,
    SELECTABLE             char        not null,
    ROW_VERSION            number      not null default 0,
    CREATED_DATETIME       date        not null,
    CREATED_BY_USER_ID     number      not null,
    LAST_UPDATED_DATETIME  date        not null,
    LAST_UPDATED_USER_ID   number      not null,
    TRAINING_SESSION_ID    number,
    PROBATION_AREA_ID      number      not null,
    constraint XPKLOCAL_DELIVERY_UNIT
        primary key (LOCAL_DELIVERY_UNIT_ID),
    constraint YES_OR_NO11
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint XAK1LOCAL_DELIVERY_UNIT
        unique (CODE, TRAINING_SESSION_ID, LOCAL_DELIVERY_UNIT_ID)
);
alter table TEAM
    add foreign key (LOCAL_DELIVERY_UNIT_ID)
        references LOCAL_DELIVERY_UNIT;
create table ALL_TEAM
(
    TRUST_PROVIDER_FLAG    number not null,
    TRUST_PROVIDER_TEAM_ID number not null,
    PROBATION_AREA_ID      number,
    ROW_VERSION            number not null default 0,
    TRAINING_SESSION_ID    number,
    DESCRIPTION            varchar(500),
    TELEPHONE              varchar(35),
    DISTRICT_ID            number,
    START_DATE             date   not null,
    END_DATE               date   not null,
    constraint TRUE_OR_FALSE40
        check (TRUST_PROVIDER_FLAG in (
                                       0, 1
            )),
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (DISTRICT_ID)
        references DISTRICT
);
alter table ALL_TEAM
    add constraint XPKALL_TEAM
        primary key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID);
create table R_HOST
(
    HOST_ID               number(38) not null,
    INSTITUTION_ID        number(38) not null,
    ESTABLISHMENT         char       not null,
    PROBATION_AREA_ID     number(38) not null,
    START_DATE            date       not null,
    END_DATE              date,
    LEAD_HOST             char,
    CREATED_BY_USER_ID    number(22) not null,
    CREATED_DATETIME      date       not null,
    LAST_UPDATED_USER_ID  number(22) not null,
    LAST_UPDATED_DATETIME date       not null,
    constraint R_1179
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint R_1178
        foreign key (INSTITUTION_ID, ESTABLISHMENT)
            references R_INSTITUTION
);
create table R_CIRCUMSTANCE_TYPE_PROVIDER
(
    CIRCUMSTANCE_TYPE_ID number not null,
    PROBATION_AREA_ID    number not null,
    ROW_VERSION          number not null default 0,
    constraint R_1109
        foreign key (CIRCUMSTANCE_TYPE_ID)
            references R_CIRCUMSTANCE_TYPE,
    constraint R_1110
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint XPKR_CIRCUMSTANCE_PROVIDER
        primary key (CIRCUMSTANCE_TYPE_ID, PROBATION_AREA_ID)
);
create table R_SPG_XSD_PROBATION_AREA
(
    SPG_XSD_ID        number not null,
    PROBATION_AREA_ID number not null,
    ROW_VERSION       number not null default 0,
    constraint R_1195
        foreign key (SPG_XSD_ID)
            references SPG_XSD,
    constraint R_1196
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint XPKR_SPG_XSD_PROBATION_AREA
        primary key (SPG_XSD_ID, PROBATION_AREA_ID)
);
create table R_NSI_TYPE_PROBATION_AREA
(
    NSI_TYPE_ID       number(22) not null,
    PROBATION_AREA_ID number(22) not null,
    ROW_VERSION       number(22) not null default 0,
    constraint R_935
        foreign key (NSI_TYPE_ID)
            references R_NSI_TYPE,
    constraint R_936
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint XPKR_NSI_TYPE_PROBATION_AREA
        primary key (NSI_TYPE_ID, PROBATION_AREA_ID)
);
create table ALIAS$CFO
(
    ACTION_FLAG           char,
    ACTION_DATETIME       date,
    USERNAME              varchar(100),
    ALIAS_ID              number      not null,
    OFFENDER_ID           number      not null,
    PARTITION_AREA_ID     number      not null,
    SECOND_NAME           varchar(35),
    FIRST_NAME            varchar(35) not null,
    THIRD_NAME            varchar(35),
    SURNAME               varchar(35) not null,
    DATE_OF_BIRTH_DATE    date        not null,
    FIRST_NAME_SOUNDEX    varchar(50) not null,
    SOFT_DELETED          number      not null,
    MIDDLE_NAME_SOUNDEX   varchar(50),
    ROW_VERSION           number      not null,
    GENDER_ID             number      not null,
    SURNAME_SOUNDEX       varchar(50) not null,
    TRAINING_SESSION_ID   number,
    ORGANISATIONS         array,
    CREATED_BY_USER_ID    number      not null,
    LAST_UPDATED_USER_ID  number      not null,
    CREATED_DATETIME      date        not null,
    LAST_UPDATED_DATETIME date        not null
);
create table Z_CONTACT_0261
(
    CONTACT_ID                   number not null,
    LINKED_CONTACT_ID            number,
    CONTACT_DATE                 date   not null,
    OFFENDER_ID                  number not null,
    CONTACT_START_TIME           date,
    CONTACT_END_TIME             date,
    RQMNT_ID                     number,
    LIC_CONDITION_ID             number,
    PROVIDER_LOCATION_ID         number,
    PROVIDER_EMPLOYEE_ID         number,
    HOURS_CREDITED               number(10, 2),
    NOTES                        clob,
    VISOR_CONTACT                char,
    STAFF_ID                     number,
    TEAM_ID                      number,
    SOFT_DELETED                 number not null,
    VISOR_EXPORTED               char,
    PARTITION_AREA_ID            number not null,
    OFFICE_LOCATION_ID           number,
    ROW_VERSION                  number not null,
    ALERT_ACTIVE                 char,
    ATTENDED                     char,
    CREATED_DATETIME             date   not null,
    COMPLIED                     char,
    SENSITIVE                    char,
    LAST_UPDATED_DATETIME        date   not null,
    EVENT_ID                     number,
    CONTACT_TYPE_ID              number not null,
    PROVIDER_TEAM_ID             number,
    CONTACT_OUTCOME_TYPE_ID      number,
    CREATED_BY_USER_ID           number not null,
    EXPLANATION_ID               number,
    LAST_UPDATED_USER_ID         number not null,
    TRAINING_SESSION_ID          number,
    TRUST_PROVIDER_FLAG          number not null,
    STAFF_EMPLOYEE_ID            number not null,
    PROBATION_AREA_ID            number not null,
    TRUST_PROVIDER_TEAM_ID       number not null,
    ENFORCEMENT                  number,
    DOCUMENT_LINKED              char,
    UPLOAD_LINKED                char,
    LATEST_ENFORCEMENT_ACTION_ID number,
    NSI_ID                       number,
    TABLE_NAME                   varchar(30),
    PRIMARY_KEY_ID               number(22),
    PSS_RQMNT_ID                 number(22),
    RAR_ACTIVITY                 char,
    NOMIS_CASE_NOTE_ID           number,
    LINKED_DOCUMENT_CONTACT_ID   number
);
create table A$DMS_DOCUMENT
(
    DMS_DOCUMENT_ID           number(22)  not null,
    DMS_OFFENDER_ID           number(22)  not null,
    SOURCE_TABLE              varchar(32) not null,
    SOURCE_TABLE_KEY          number(22)  not null,
    DOCUMENT_LOCKED           varchar(1)  not null default 'N',
    DOCUMENT_CHECKED_OUT      varchar(1)  not null default 'N',
    DOCUMENT_CREATED          number      not null default 0,
    DOCUMENT_CREATE_DATETIME  date,
    DOCUMENT_CREATE_STATUS_ID number(22)  not null default 0,
    API_RESPONSE              clob,
    API_RETURN                clob,
    CREATED_DATETIME          date        not null,
    CREATED_USER              varchar(30) not null,
    LAST_UPDATED_DATETIME     date        not null,
    LAST_UPDATED_USER         varchar(30) not null,
    ROW_VERSION               number      not null default 0
);
comment on table A$DMS_DOCUMENT is 'A$DMS_DOCUMENT
                        ==========
                        This table stores the row history for documents associated to an offender and the status of the migration ';
comment on column A$DMS_DOCUMENT.DMS_DOCUMENT_ID is 'Primary Key';
comment on column A$DMS_DOCUMENT.DMS_OFFENDER_ID is 'Link to DMS_OFFENDER';
comment on column A$DMS_DOCUMENT.SOURCE_TABLE is 'Source table for document BLOB';
comment on column A$DMS_DOCUMENT.SOURCE_TABLE_KEY is 'Link to primary key of source table';
comment on column A$DMS_DOCUMENT.DOCUMENT_LOCKED is 'Flag to indicate locked status of document';
comment on column A$DMS_DOCUMENT.DOCUMENT_CHECKED_OUT is 'Flag to indicate checked out status of document';
comment on column A$DMS_DOCUMENT.DOCUMENT_CREATE_DATETIME is 'Date document created in Alfresco';
comment on column A$DMS_DOCUMENT.DOCUMENT_CREATE_STATUS_ID is 'Status od document creation';
comment on column A$DMS_DOCUMENT.API_RESPONSE is 'The respose from the call to the Alfresco API when uploading the document';
comment on column A$DMS_DOCUMENT.API_RETURN is 'The return payload from the Alfresco API when uploading the document';
comment on column A$DMS_DOCUMENT.CREATED_DATETIME is 'Creation date for row';
comment on column A$DMS_DOCUMENT.CREATED_USER is 'Creation user for row';
comment on column A$DMS_DOCUMENT.LAST_UPDATED_DATETIME is 'Last updated date for row';
comment on column A$DMS_DOCUMENT.LAST_UPDATED_USER is 'Last updated user for row';
comment on column A$DMS_DOCUMENT.ROW_VERSION is 'Incremental row verison';
create table OFFENDER_ADDRESS$CFO
(
    ACTION_FLAG           char,
    ACTION_DATETIME       date,
    USERNAME              varchar(100),
    OFFENDER_ADDRESS_ID   number not null,
    START_DATE            date   not null,
    END_DATE              date,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null default 0,
    ADDRESS_STATUS_ID     number not null,
    NO_FIXED_ABODE        char,
    OFFENDER_ID           number not null,
    NOTES                 clob,
    ADDRESS_NUMBER        varchar(35),
    STREET_NAME           varchar(35),
    DISTRICT              varchar(35),
    TOWN_CITY             varchar(35),
    CREATED_DATETIME      date   not null,
    COUNTY                varchar(35),
    LAST_UPDATED_DATETIME date   not null,
    BUILDING_NAME         varchar(35),
    POSTCODE              varchar(35),
    CREATED_BY_USER_ID    number not null,
    TELEPHONE_NUMBER      varchar(35),
    LAST_UPDATED_USER_ID  number not null,
    TRAINING_SESSION_ID   number,
    ORGANISATIONS         array
);
create table MIGRATED_DATA_HISTORY
(
    MIGRATED_DATA_HISTORY_ID number       not null,
    TABLE_NAME               varchar(30)  not null,
    TABLE_PK_VALUE           varchar(100) not null,
    SOURCE_PROVIDER_ID       number       not null,
    NOTES                    clob,
    CREATED_BY_USER_ID       number       not null,
    CREATED_DATETIME         date         not null,
    LAST_UPDATED_USER_ID     number       not null,
    LAST_UPDATED_DATETIME    date         not null,
    ROW_VERSION              number       not null default 0,
    constraint XPKMIGRATED_DATA_HISTORY
        primary key (MIGRATED_DATA_HISTORY_ID),
    constraint R_1311
        foreign key (SOURCE_PROVIDER_ID)
            references PROBATION_AREA,
    constraint XAK1MIGRATED_DATA_HISTORY
        unique (TABLE_NAME, TABLE_PK_VALUE)
);
create table Z_REG_REV_271
(
    AREA                 varchar(20),
    NATIONAL_OFFENDER_ID number,
    NATIONAL_REG_REV_ID  number,
    CRN                  char(7),
    NOTES                clob,
    PROCESSED            number(1) not null default 0,
    PROCESSED_DATE       timestamp(6),
    PROCESSED_NOTES      varchar(525)
);
create table AQ$_DOC_MIGRATION_QUEUE_TAB_L
(
    MSGID          varchar(16),
    SUBSCRIBER     number,
    NAME           varchar(30),
    ADDRESS        number,
    DEQUEUE_TIME   timestamp(6) with time zone,
    TRANSACTION_ID varchar(30),
    DEQUEUE_USER   varchar(30),
    FLAGS          varchar(1)
);
create table PROVIDER_LOCATION
(
    PROVIDER_LOCATION_ID  number      not null,
    CODE                  char(7)     not null,
    DESCRIPTION           varchar(50) not null,
    FAX_NUMBER            varchar(35),
    EXTERNAL_PROVIDER_ID  number      not null,
    ROW_VERSION           number      not null default 0,
    ADDRESS_ID            number,
    START_DATE            date        not null,
    END_DATE              date,
    NOTES                 clob,
    CONTACT_NAME          varchar(107),
    CREATED_DATETIME      date        not null,
    CREATED_BY_USER_ID    number      not null,
    LAST_UPDATED_DATETIME date        not null,
    LAST_UPDATED_USER_ID  number      not null,
    TRAINING_SESSION_ID   number,
    PROBATION_AREA_ID     number,
    constraint XPKPROVIDER_LOCATION
        primary key (PROVIDER_LOCATION_ID),
    foreign key (EXTERNAL_PROVIDER_ID)
        references EXTERNAL_PROVIDER,
    foreign key (ADDRESS_ID)
        references ADDRESS,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint XAK1PROVIDER_LOCATION
        unique (CODE, TRAINING_SESSION_ID, PROVIDER_LOCATION_ID),
    constraint PROVIDER_LOCATION_DATE_VALID2
        check ((
                START_DATE <= END_DATE
                or END_DATE is null
            ))
);
create table PROVIDER_TEAM_LOCATION
(
    PROVIDER_TEAM_ID      number not null,
    PROVIDER_LOCATION_ID  number not null,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (PROVIDER_LOCATION_ID)
        references PROVIDER_LOCATION,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKPROVIDER_TEAM_LOCATION
        primary key (PROVIDER_TEAM_ID, PROVIDER_LOCATION_ID)
);
create table Z_TRANSFER_DYN_SQL_0248
(
    TABLE_NAME varchar(30) not null,
    CMD_TYPE   varchar(30) default 'INSERT',
    DYN_SQL    clob,
    constraint XCHK1Z_TRANSFER_DYN_SQL_0248
        check (CMD_TYPE in (
                            'INSERT', 'UPDATE', 'DELETE'
            )),
    constraint XAK1Z_TRANSFER_DYN_SQL_0248
        unique (TABLE_NAME, CMD_TYPE)
);
create table Z_PERSONAL_CIRCUMSTANCE_258
(
    PERSONAL_CIRCUMSTANCE_ID number not null,
    OFFENDER_ID              number not null,
    START_DATE               date   not null,
    END_DATE                 date,
    SOFT_DELETED             number not null,
    ROW_VERSION              number not null,
    PARTITION_AREA_ID        number not null,
    CREATED_BY_USER_ID       number not null,
    LAST_UPDATED_USER_ID     number not null,
    TRAINING_SESSION_ID      number,
    CREATED_DATETIME         date   not null,
    LAST_UPDATED_DATETIME    date   not null,
    CIRCUMSTANCE_TYPE_ID     number not null,
    CIRCUMSTANCE_SUB_TYPE_ID number not null,
    NOTES                    clob,
    EVIDENCED                char,
    QUALIFICATION_1_ID       number(38),
    QUALIFICATION_2_ID       number(38),
    QUALIFICATION_3_ID       number(38),
    OFFENDER_ADDRESS_ID      number,
    PROBATION_AREA_ID        number
);
create table Z_REGISTRATION_REVIEW_250
(
    REGISTRATION_ID        number      not null,
    REVIEW_DATE            date        not null,
    REVIEW_DATE_DUE        date,
    CODE                   varchar(10) not null,
    DESCRIPTION            varchar(50) not null,
    CRN                    char(7)     not null,
    COMPLETED              char,
    REGISTRATION_DATE      date        not null,
    NEXT_REVIEW_DATE       date,
    REG_REVIEW_NOTES       clob,
    DEREGISTERED           number      not null,
    SOFT_DELETED           number      not null,
    ROW_VERSION            number      not null,
    CREATED_BY_USER_ID     number      not null,
    CREATED_DATETIME       date        not null,
    LAST_UPDATED_USER_ID   number      not null,
    LAST_UPDATED_DATETIME  date        not null,
    CONTACT_ID             number      not null,
    OFFENDER_ID            number      not null,
    REGISTRATION_REVIEW_ID number      not null
);
create table Z_AR_TEMP_250
(
    REGISTRATION_REVIEW_ID number not null,
    REGISTRATION_ID        number not null,
    REVIEW_DATE            date   not null,
    REVIEW_DATE_DUE        date,
    NOTES                  clob,
    REVIEWING_TEAM_ID      number not null,
    REVIEWING_STAFF_ID     number not null,
    COMPLETED              char,
    SOFT_DELETED           number not null,
    PARTITION_AREA_ID      number not null,
    ROW_VERSION            number not null,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    CONTACT_ID             number not null,
    TRAINING_SESSION_ID    number,
    OFFENDER_ID            number not null,
    ORGANISATIONS          array
);
create table SPG_ERROR_LOG
(
    SPG_ERROR_LOG_ID number        not null,
    ERROR_CODE       number        not null,
    ERROR_MESSAGE    varchar(4000) not null,
    BACKTRACE        clob          not null,
    CALLSTACK        clob          not null,
    DATE_CREATED     date          not null,
    CREATED_BY       varchar(30)   not null,
    PACKAGE_NAME     varchar(30)   not null,
    PROCEDURE_NAME   varchar(30)   not null,
    LABEL            varchar(10)   not null,
    INSTANCE_ID      number        not null default 0,
    constraint XPKSPG_ERROR_LOG
        primary key (SPG_ERROR_LOG_ID)
);
create table Z_UPD_REG_TYPE_0206
(
    REGISTRATION_ID       number not null,
    OFFENDER_ID           number not null,
    REGISTRATION_NOTES    clob,
    LAST_UPDATED_DATETIME date   not null
);
create table REGISTRATION$CFO
(
    ACTION_FLAG           char,
    ACTION_DATETIME       date,
    USERNAME              varchar(100),
    REGISTRATION_ID       number not null,
    REGISTER_TYPE_ID      number not null,
    OFFENDER_ID           number not null,
    REGISTRATION_DATE     date   not null,
    NEXT_REVIEW_DATE      date,
    REGISTRATION_NOTES    clob,
    REGISTERING_TEAM_ID   number not null,
    REGISTERING_STAFF_ID  number not null,
    REGISTRATION_LEVEL    number,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null,
    REGISTRATION_CATEGORY number,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    TRIGGER_OFFENCE_ID    number,
    REGISTER_LEVEL_ID     number,
    CREATED_BY_USER_ID    number not null,
    REGISTER_CATEGORY_ID  number,
    LAST_UPDATED_USER_ID  number not null,
    CONTACT_ID            number not null,
    TRAINING_SESSION_ID   number,
    DEREGISTERED          number not null,
    ORGANISATIONS         array
);
create table OASYS_ASSESSMENT$CFO
(
    ACTION_FLAG                  char,
    ACTION_DATETIME              date,
    USERNAME                     varchar(100),
    OASYS_ASSESSMENT_ID          number      not null,
    OFFENDER_ID                  number      not null,
    OASYS_ID                     varchar(50) not null,
    ASSESSMENT_DATE              date        not null,
    OASYS_TOTAL_SCORE            number,
    RISK_FLAGS                   varchar(50),
    CONCERN_FLAGS                varchar(50),
    DATE_CREATED                 date        not null,
    INITIAL_SENTENCE_PLAN_DATE   date,
    ASSESSED_BY                  varchar(35) not null,
    SENTENCE_PLAN_REVIEW_DATE    date,
    REVIEW_TERMINATED            char,
    REVIEW_NUMBER                varchar(20),
    LAYER_TYPE                   varchar(20),
    PARTITION_AREA_ID            number      not null,
    OGRS_SCORE_1                 number,
    OGRS_SCORE_2                 number,
    OGP_SCORE_1                  number,
    SOFT_DELETED                 number      not null,
    OGP_SCORE_2                  number,
    ROW_VERSION                  number      not null,
    OVP_SCORE_1                  number,
    OFFENCE_ID                   number,
    ASSESSMENT_RECEIVED_DATE     date,
    EVENT_NUMBER                 varchar(50),
    COURT_ID                     number,
    OASYS_ASSESSMENT_DESCRIPTION varchar(4000),
    OVP_SCORE_2                  number,
    OBJECTIVE_STATUS             varchar(50),
    CONTACT_ID                   number,
    LAYER_1_OBJECTIVE            varchar(4000),
    TRAINING_SESSION_ID          number,
    TIER_CODE_ID                 number,
    ORGANISATIONS                array,
    CREATED_BY_USER_ID           number      not null,
    CREATED_DATETIME             date        not null,
    LAST_UPDATED_USER_ID         number      not null,
    LAST_UPDATED_DATETIME        date        not null
);
create table Z_REG_REV_268
(
    NATIONAL_OFFENDER_ID     number,
    NATIONAL_REGISTRATION_ID number,
    TEAM_CODE                varchar(20),
    TEAM_DESCRIPTION         varchar(60),
    OFFICER_CODE             varchar(20),
    FORENAME                 varchar(40),
    SURNAME                  varchar(40),
    REVIEW_DATE              date,
    NOTES                    clob,
    REGISTRATION_REVIEW_ID   number,
    REGISTRATION_ID          number,
    REVIEWING_TEAM_ID        number,
    REVIEWING_STAFF_ID       number,
    CONTACT_ID               number,
    OFFENDER_ID              number,
    UNIQUE_ID                number,
    PROCESSED                number(1) not null default 0,
    PROCESSED_DATE           timestamp(6),
    PROCESSED_NOTES          varchar(255)
);
create table DISABILITY$CFO
(
    ACTION_FLAG           char,
    ACTION_DATETIME       date,
    USERNAME              varchar(100),
    DISABILITY_ID         number not null,
    OFFENDER_ID           number not null,
    START_DATE            date   not null,
    FINISH_DATE           date,
    NOTES                 clob,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null,
    DISABILITY_TYPE_ID    number not null,
    TRAINING_SESSION_ID   number,
    ORGANISATIONS         array,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null
);
create table CREATE$JAVA$LOB$TABLE
(
    NAME     varchar(700),
    LOB      blob,
    LOADTIME date,
    unique (NAME)
);
create table R_CONTACT_TYPE
(
    CONTACT_TYPE_ID                number        not null,
    CODE                           varchar(10)   not null,
    DESCRIPTION                    varchar(4000) not null,
    SHORT_DESCRIPTION              varchar(500),
    SELECTABLE                     char          not null,
    NATIONAL_STANDARDS_CONTACT     char,
    ATTENDANCE_CONTACT             char,
    RECORDED_HOURS_CREDITED        char,
    SENSITIVE_CONTACT              char,
    OFFENDER_LEVEL_CONTACT         char,
    ROW_VERSION                    number        not null default 0,
    CREATED_DATETIME               date          not null,
    APPEARS_IN_LIST_OF_CONTACTS    char,
    SMS_MESSAGE_TEXT               char,
    OFFENDER_EVENT_0               char,
    LEGACY_ORDERS                  char,
    LAST_UPDATED_DATETIME          date          not null,
    CJA_ORDERS                     char,
    DPA_EXCLUDE                    char,
    TRAINING_SESSION_ID            number,
    CONTACT_OUTCOME_FLAG           char          not null,
    CONTACT_LOCATION_FLAG          char          not null,
    CREATED_BY_USER_ID             number        not null,
    CONTACT_ALERT_FLAG             char          not null,
    LAST_UPDATED_USER_ID           number        not null,
    FUTURE_SCHEDULED_CONTACTS_FLAG char,
    CONTACT_TYPE_ICON_ID           number,
    EDITABLE                       char,
    DEFAULT_HEADINGS               clob,
    PSS_RQMNT                      char,
    RAR_ACTIVITY                   char,
    SPG_OVERRIDE                   number,
    NOMIS_CONTACT_TYPE             varchar(4000),
    SPG_INTEREST                   number                 default 1,
    SGC_FLAG                       number                 default 0,
    constraint XPKR_CONTACT_TYPE
        primary key (CONTACT_TYPE_ID),
    constraint YES_OR_NO9
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_409
        check (NATIONAL_STANDARDS_CONTACT in (
                                              'Y', 'N'
            )),
    constraint YES_OR_NO_410
        check (ATTENDANCE_CONTACT in (
                                      'Y', 'N'
            )),
    constraint YES_OR_NO_411
        check (RECORDED_HOURS_CREDITED in (
                                           'Y', 'N'
            )),
    constraint YES_OR_NO_412
        check (SENSITIVE_CONTACT in (
                                     'Y', 'N'
            )),
    constraint YES_OR_NO_413
        check (OFFENDER_LEVEL_CONTACT in (
                                          'Y', 'N'
            )),
    constraint YES_OR_NO_414
        check (SMS_MESSAGE_TEXT in (
                                    'Y', 'N'
            )),
    constraint YES_OR_NO_415
        check (OFFENDER_EVENT_0 in (
                                    'Y', 'N'
            )),
    constraint YES_OR_NO_416
        check (LEGACY_ORDERS in (
                                 'Y', 'N'
            )),
    constraint YES_OR_NO_417
        check (CJA_ORDERS in (
                              'Y', 'N'
            )),
    constraint YES_OR_NO_418
        check (DPA_EXCLUDE in (
                               'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint YES_OR_NO_OR_BOTH_ONLY
        check (CONTACT_OUTCOME_FLAG in (
                                        'Y', 'N', 'B'
            )),
    constraint YES_OR_NO_OR_BOTH_ONLY1
        check (CONTACT_LOCATION_FLAG in (
                                         'Y', 'N', 'B'
            )),
    foreign key (CONTACT_TYPE_ICON_ID)
        references CONTACT_TYPE_ICON,
    constraint YES_OR_NO_ONLY_130798902
        check (PSS_RQMNT in (
                             'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1112934154
        check (RAR_ACTIVITY in (
                                'Y', 'N'
            )),
    constraint TRUE_OR_FALSE_1089845492
        check (SPG_OVERRIDE in (
                                0, 1
            )),
    constraint TRUE_OR_FALSE_1289205498
        check (SPG_INTEREST in (
                                0, 1
            )),
    constraint TRUE_OR_FALSE_1656616625
        check (SGC_FLAG in (
                            0, 1
            )),
    constraint XAK1R_CONTACT_TYPE
        unique (CODE, TRAINING_SESSION_ID, CONTACT_TYPE_ID)
);
create table R_CONTACT_TYPE_NOMIS_TYPE
(
    NOMIS_CONTACT_TYPE varchar(32) not null,
    CONTACT_TYPE_ID    number      not null,
    constraint XPKR_CONTACT_TYPE_NOMIS_TYPE
        primary key (NOMIS_CONTACT_TYPE),
    constraint R_1207
        foreign key (CONTACT_TYPE_ID)
            references R_CONTACT_TYPE
);
create table R_CON_TYPE_LIC_CON_TYPEMAINCAT
(
    CONTACT_TYPE_ID           number not null,
    LIC_COND_TYPE_MAIN_CAT_ID number not null,
    ROW_VERSION               number not null default 0,
    TRAINING_SESSION_ID       number,
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    foreign key (LIC_COND_TYPE_MAIN_CAT_ID)
        references R_LIC_COND_TYPE_MAIN_CAT,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_CON_TYPE_LIC_CON_TYPEMAIN
        primary key (CONTACT_TYPE_ID, LIC_COND_TYPE_MAIN_CAT_ID)
);
create table R_CONTACT_TYPECONTACT_CATEGORY
(
    CONTACT_TYPE_ID            number not null,
    STANDARD_REFERENCE_LIST_ID number not null,
    ROW_VERSION                number not null default 0,
    TRAINING_SESSION_ID        number,
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    foreign key (STANDARD_REFERENCE_LIST_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_CONTACT_TYPECONTACT_CATEG
        primary key (CONTACT_TYPE_ID, STANDARD_REFERENCE_LIST_ID)
);
create table R_REFERRAL_TYPE
(
    REFERRAL_TYPE_ID      number      not null,
    CODE                  varchar(10) not null,
    DESCRIPTION           varchar(50) not null,
    TRAINING_SESSION_ID   number,
    ROW_VERSION           number      not null default 0,
    SELECTABLE            char        not null,
    CREATED_BY_USER_ID    number      not null,
    CONTACT_TYPE_ID       number,
    LAST_UPDATED_USER_ID  number      not null,
    CREATED_DATETIME      date        not null,
    LAST_UPDATED_DATETIME date        not null,
    SPG_OVERRIDE          number,
    constraint XPKR_REFERRAL_TYPE
        primary key (REFERRAL_TYPE_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint YES_OR_NO24
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    constraint TRUE_OR_FALSE_101070880
        check (SPG_OVERRIDE in (
                                0, 1
            )),
    constraint XAK1R_REFERRAL_TYPE
        unique (CODE, TRAINING_SESSION_ID, REFERRAL_TYPE_ID)
);
create table R_ENFORCEMENT_ACTION
(
    ENFORCEMENT_ACTION_ID      number      not null,
    CODE                       varchar(10) not null,
    DESCRIPTION                varchar(50) not null,
    SELECTABLE                 char,
    CONTACT_TYPE_ID            number      not null,
    OUTSTANDING_CONTACT_ACTION char,
    CREATED_BY_USER_ID         number      not null,
    ROW_VERSION                number      not null default 0,
    LAST_UPDATED_USER_ID       number      not null,
    CREATED_DATETIME           date        not null,
    LAST_UPDATED_DATETIME      date        not null,
    TRAINING_SESSION_ID        number,
    RESPONSE_BY_PERIOD         number,
    SPG_OVERRIDE               number,
    constraint XPKR_ENFORCEMENT_ACTION
        primary key (ENFORCEMENT_ACTION_ID),
    constraint YES_OR_NO19
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    constraint YES_OR_429
        check (OUTSTANDING_CONTACT_ACTION in (
                                              'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE_1999790266
        check (SPG_OVERRIDE in (
                                0, 1
            ))
);
create table R_ENF_ACT_CONTACT_OUT_TYPE
(
    ENFORCEMENT_ACTION_ID   number not null,
    CONTACT_OUTCOME_TYPE_ID number not null,
    ROW_VERSION             number default 0,
    TRAINING_SESSION_ID     number,
    foreign key (ENFORCEMENT_ACTION_ID)
        references R_ENFORCEMENT_ACTION,
    foreign key (CONTACT_OUTCOME_TYPE_ID)
        references R_CONTACT_OUTCOME_TYPE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_ENF_ACT_CONTACT_OUT_TYPE
        primary key (ENFORCEMENT_ACTION_ID, CONTACT_OUTCOME_TYPE_ID)
);
create table R_CON_OUT_TYPE_CONTACT_TYPE
(
    CONTACT_OUTCOME_TYPE_ID number not null,
    CONTACT_TYPE_ID         number not null,
    ROW_VERSION             number not null default 0,
    TRAINING_SESSION_ID     number,
    foreign key (CONTACT_OUTCOME_TYPE_ID)
        references R_CONTACT_OUTCOME_TYPE,
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_CON_OUT_TYPE_CONTACT_TYPE
        primary key (CONTACT_OUTCOME_TYPE_ID, CONTACT_TYPE_ID)
);
create table R_NSI_STATUS
(
    NSI_STATUS_ID         number       not null,
    CODE                  varchar(20)  not null,
    DESCRIPTION           varchar(200) not null,
    CONTACT_TYPE_ID       number       not null,
    SELECTABLE            char         not null,
    CREATED_BY_USER_ID    number       not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID  number       not null,
    LAST_UPDATED_DATETIME date         not null,
    ROW_VERSION           number       not null default 0,
    TRAINING_SESSION_ID   number,
    constraint XPKR_NSI_STATUS
        primary key (NSI_STATUS_ID),
    constraint R_806
        foreign key (CONTACT_TYPE_ID)
            references R_CONTACT_TYPE,
    constraint SELECTABLE_1299801953
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint R_807
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION
);
create table R_CONTACT_TYPE_DISPOSAL_TYPE
(
    CONTACT_TYPE_ID     number not null,
    DISPOSAL_TYPE_ID    number not null,
    ROW_VERSION         number not null default 0,
    TRAINING_SESSION_ID number,
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    foreign key (DISPOSAL_TYPE_ID)
        references R_DISPOSAL_TYPE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_CONTACT_TYPE_DISPOSAL_TYP
        primary key (CONTACT_TYPE_ID, DISPOSAL_TYPE_ID)
);
create table R_CONTACT_TYPE_OUTCOME
(
    CONTACT_TYPE_ID         number not null,
    CONTACT_OUTCOME_TYPE_ID number not null,
    ROW_VERSION             number not null default 0,
    TRAINING_SESSION_ID     number,
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    foreign key (CONTACT_OUTCOME_TYPE_ID)
        references R_CONTACT_OUTCOME_TYPE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_CONTACT_TYPE_OUTCOME
        primary key (CONTACT_TYPE_ID, CONTACT_OUTCOME_TYPE_ID)
);
create table R_NSI_TYPE_STATUS
(
    NSI_TYPE_STATUS_ID  number not null,
    NSI_TYPE_ID         number not null,
    NSI_STATUS_ID       number not null,
    SEQUENCE_NO         number not null,
    ROW_VERSION         number not null default 0,
    TRAINING_SESSION_ID number,
    constraint XPKR_NSI_TYPE_STATUS
        primary key (NSI_TYPE_STATUS_ID),
    constraint R_814
        foreign key (NSI_TYPE_ID)
            references R_NSI_TYPE,
    constraint R_815
        foreign key (NSI_STATUS_ID)
            references R_NSI_STATUS,
    constraint R_816
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION
);
create table R_GEN_REF_OUTCOME_REF_TYPE
(
    GENERIC_REFERRAL_OUTCOME_ID number not null,
    REFERRAL_TYPE_ID            number not null,
    ROW_VERSION                 number not null default 0,
    TRAINING_SESSION_ID         number,
    foreign key (GENERIC_REFERRAL_OUTCOME_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (REFERRAL_TYPE_ID)
        references R_REFERRAL_TYPE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_GEN_REF_OUTCOME_REF_TYPE
        primary key (GENERIC_REFERRAL_OUTCOME_ID, REFERRAL_TYPE_ID)
);
create table R_CON_TYPE_AD_REQ_TYPE_MAINCAT
(
    CONTACT_TYPE_ID                number not null,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID number not null,
    ROW_VERSION                    number not null default 0,
    TRAINING_SESSION_ID            number,
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    foreign key (AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_CON_TYPE_AD_REQ_TYPE_MAIN
        primary key (CONTACT_TYPE_ID, AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
);
create table R_ASSESSMENT_TYPE
(
    ASSESSMENT_TYPE_ID       number      not null,
    ROW_VERSION              number      not null default 0,
    TRAINING_SESSION_ID      number,
    CODE                     varchar(10) not null,
    DESCRIPTION              varchar(50) not null,
    SELECTABLE               char        not null,
    ASSESSMENT_OUTCOME_FLAG  char,
    DURATION_FLAG            char,
    SCORE_FLAG               char,
    OFFENDERS_AGREEMENT_FLAG char        not null,
    CREATED_BY_USER_ID       number      not null,
    CONTACT_TYPE_ID          number,
    LAST_UPDATED_USER_ID     number      not null,
    CREATED_DATETIME         date        not null,
    LAST_UPDATED_DATETIME    date        not null,
    constraint XPKR_ASSESSMENT_TYPE
        primary key (ASSESSMENT_TYPE_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint YES_OR_NO18
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint YES_OR_NO_424
        check (ASSESSMENT_OUTCOME_FLAG in (
                                           'Y', 'N'
            )),
    constraint YES_OR_NO_425
        check (DURATION_FLAG in (
                                 'Y', 'N'
            )),
    constraint YES_OR_NO_426
        check (SCORE_FLAG in (
                              'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY35
        check (OFFENDERS_AGREEMENT_FLAG in (
                                            'Y', 'N'
            )),
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    constraint XAK1R_ASSESSMENT_TYPE
        unique (CODE, TRAINING_SESSION_ID, ASSESSMENT_TYPE_ID)
);
create table R_CON_TYPE_REQ_TYPE_MAINCAT
(
    CONTACT_TYPE_ID             number not null,
    RQMNT_TYPE_MAIN_CATEGORY_ID number not null,
    ROW_VERSION                 number not null default 0,
    TRAINING_SESSION_ID         number,
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    foreign key (RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_CON_TYPE_REQ_TYPE_MAINCAT
        primary key (CONTACT_TYPE_ID, RQMNT_TYPE_MAIN_CATEGORY_ID)
);
create table R_ASSMNT_TYPE_ASSMNT_OUTCOME
(
    ASSESSMENT_TYPE_ID    number not null,
    ASSESSMENT_OUTCOME_ID number not null,
    ROW_VERSION           number not null default 0,
    TRAINING_SESSION_ID   number,
    foreign key (ASSESSMENT_TYPE_ID)
        references R_ASSESSMENT_TYPE,
    foreign key (ASSESSMENT_OUTCOME_ID)
        references R_ASSESSMENT_OUTCOME,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_ASSMNT_TYPE_ASSMNT_OUTCOM
        primary key (ASSESSMENT_TYPE_ID, ASSESSMENT_OUTCOME_ID)
);
create table R_ASSMNT_TYPE_REFERRAL_TYPE
(
    ASSESSMENT_TYPE_ID  number not null,
    REFERRAL_TYPE_ID    number not null,
    ROW_VERSION         number not null default 0,
    TRAINING_SESSION_ID number,
    foreign key (ASSESSMENT_TYPE_ID)
        references R_ASSESSMENT_TYPE,
    foreign key (REFERRAL_TYPE_ID)
        references R_REFERRAL_TYPE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_ASSMNT_TYPE_REFERRAL_TYPE
        primary key (ASSESSMENT_TYPE_ID, REFERRAL_TYPE_ID)
);
create table R_CONTACT_TYPE_NSI_TYPE
(
    CONTACT_TYPE_ID     number not null,
    NSI_TYPE_ID         number not null,
    ROW_VERSION         number not null default 0,
    TRAINING_SESSION_ID number,
    constraint R_817
        foreign key (CONTACT_TYPE_ID)
            references R_CONTACT_TYPE,
    constraint R_818
        foreign key (NSI_TYPE_ID)
            references R_NSI_TYPE,
    constraint R_819
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint XPKR_CONTACT_TYPE_NSI_TYPE
        primary key (CONTACT_TYPE_ID, NSI_TYPE_ID)
);
create table DMS_ERROR_LOG
(
    DMS_ERROR_LOG_ID   number(22)    not null,
    ERROR_CODE         number(38)    not null,
    ERROR_MESSAGE      varchar(4000) not null,
    BACKTRACE          clob          not null,
    CALLSTACK          clob          not null,
    DATE_CREATED       date          not null,
    CREATED_BY         varchar(30)   not null,
    DMS_PACKAGE_NAME   varchar(30)   not null,
    DMS_PROCEDURE_NAME varchar(30)   not null,
    LABEL              varchar(10)   not null,
    INSTANCE_ID        number(38)    not null,
    constraint DMS_ERROR_LOG_PK
        primary key (DMS_ERROR_LOG_ID)
);
comment on column DMS_ERROR_LOG.DMS_ERROR_LOG_ID is 'Primary key';
comment on column DMS_ERROR_LOG.ERROR_CODE is 'Oracle error';
comment on column DMS_ERROR_LOG.ERROR_MESSAGE is 'Oracle error message';
comment on column DMS_ERROR_LOG.BACKTRACE is 'Oracle backtrace';
comment on column DMS_ERROR_LOG.CALLSTACK is 'Oracle call stack';
comment on column DMS_ERROR_LOG.DATE_CREATED is 'Creation date for row';
comment on column DMS_ERROR_LOG.CREATED_BY is 'Creation user for row';
comment on column DMS_ERROR_LOG.DMS_PACKAGE_NAME is 'Package name generating error';
comment on column DMS_ERROR_LOG.DMS_PROCEDURE_NAME is 'Procedure name generating error';
comment on column DMS_ERROR_LOG.LABEL is 'Procedure label';
comment on column DMS_ERROR_LOG.INSTANCE_ID is 'Oracle RAC Instance';
create table ADDITIONAL_IDENTIFIER$CFO
(
    ACTION_FLAG              char,
    ACTION_DATETIME          date,
    USERNAME                 varchar(100),
    ADDITIONAL_IDENTIFIER_ID number      not null,
    IDENTIFIER               varchar(30) not null,
    OFFENDER_ID              number      not null,
    SOFT_DELETED             number      not null,
    PARTITION_AREA_ID        number,
    ROW_VERSION              number      not null,
    IDENTIFIER_NAME_ID       number      not null,
    TRAINING_SESSION_ID      number,
    ORGANISATIONS            array,
    CREATED_BY_USER_ID       number      not null,
    CREATED_DATETIME         date        not null,
    LAST_UPDATED_USER_ID     number      not null,
    LAST_UPDATED_DATETIME    date        not null
);
create table Z_AP_REFERRAL_0083_BACKUP
(
    APPROVED_PREMISES_REFERRAL_ID number not null,
    REFERRAL_DATE                 date   not null,
    EXPECTED_ARRIVAL_DATE         date,
    EXPECTED_DEPARTURE_DATE       date,
    DECISION_DATE                 date,
    REFERRAL_NOTES                clob,
    NON_ARRIVAL_DATE              date,
    ORIGINAL_AP_ADMIT_DATE        date,
    SELF_HARM_ISSUES              varchar(4000),
    NON_ARRIVAL_NOTES             clob,
    REFERRING_TEAM_ID             number,
    DECISION_BY_TEAM_ID           number,
    REFERRING_STAFF_ID            number,
    DECISION_BY_STAFF_ID          number,
    DECISION_NOTES                clob,
    SOFT_DELETED                  number not null,
    PARTITION_AREA_ID             number not null,
    ROW_VERSION                   number not null,
    REFERRAL_CATEGORY_ID          number not null,
    REFERRAL_DECISION_ID          number not null,
    PENDING_STATUS_ID             number,
    REJECT_REASON_ID              number,
    REFERRAL_OUTCOME_ID           number,
    REFERRAL_GROUP_ID             number,
    NON_ARRIVAL_REASON_ID         number,
    INSTITUTION_ID                number,
    APPROVED_PREMISES_ID          number,
    TRANSFER_REASON_ID            number,
    REFERRAL_SOURCE_ID            number not null,
    SOURCE_TYPE_ID                number not null,
    EXTERNAL_REFERRAL_REASON_ID   number,
    CREATED_DATETIME              date   not null,
    LAST_UPDATED_DATETIME         date   not null,
    EVENT_ID                      number not null,
    ESTABLISHMENT                 char,
    REFERRING_PROBATION_AREA_ID   number,
    REFERRED_TO_PROBATION_AREA_ID number,
    CREATED_BY_USER_ID            number not null,
    LAST_UPDATED_USER_ID          number not null,
    TRAINING_SESSION_ID           number,
    OFFENDER_ID                   number not null,
    ORIGINAL_APPROVED_PREMISES_ID number,
    ORGANISATIONS                 array,
    RESERVATION_START_DATE        date,
    RESERVATION_LENGTH            number(38)
);
create table MTT_DEBUG
(
    ID      number,
    COLUMN1 varchar(4000),
    COLUMN2 clob
);
create table OFFICE_LOCATION
(
    OFFICE_LOCATION_ID    number      not null,
    CODE                  char(7)     not null,
    DESCRIPTION           varchar(50) not null,
    DISTRICT_ID           number      not null,
    BUILDING_NAME         varchar(35),
    BUILDING_NUMBER       varchar(35),
    STREET_NAME           varchar(35),
    TOWN_CITY             varchar(35),
    COUNTY                varchar(35),
    POSTCODE              varchar(8),
    START_DATE            date        not null,
    END_DATE              date,
    FAX_NUMBER            varchar(35),
    TELEPHONE_NUMBER      varchar(35),
    ROW_VERSION           number      not null default 0,
    NOTES                 clob,
    CONTACT_NAME          varchar(200),
    CREATED_DATETIME      date        not null,
    CREATED_BY_USER_ID    number      not null,
    LAST_UPDATED_DATETIME date        not null,
    LAST_UPDATED_USER_ID  number      not null,
    TRAINING_SESSION_ID   number,
    PROBATION_AREA_ID     number      not null,
    DISTRICT              varchar(35),
    constraint XPKOFFICE_LOCATION
        primary key (OFFICE_LOCATION_ID),
    foreign key (DISTRICT_ID)
        references DISTRICT,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint XAK1OFFICE_LOCATION
        unique (CODE, TRAINING_SESSION_ID, OFFICE_LOCATION_ID),
    constraint PROVIDER_LOCATION_DATE_VALID6
        check ((
                START_DATE <= END_DATE
                or END_DATE is null
            ))
);
create table TEAM_OFFICE_LOCATION
(
    TEAM_ID               number not null,
    OFFICE_LOCATION_ID    number not null,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (OFFICE_LOCATION_ID)
        references OFFICE_LOCATION,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKTEAM_OFFICE_LOCATION
        primary key (TEAM_ID, OFFICE_LOCATION_ID)
);
create table R_OFFICE_LOCATION_LINK
(
    LINK_FROM_OFFICE_LOCATION_ID number(22) not null,
    LINK_TO_OFFICE_LOCATION_ID   number(22) not null,
    ROW_VERSION                  number(22) not null default 0,
    constraint R_968
        foreign key (LINK_FROM_OFFICE_LOCATION_ID)
            references OFFICE_LOCATION,
    constraint R_969
        foreign key (LINK_TO_OFFICE_LOCATION_ID)
            references OFFICE_LOCATION,
    constraint XPKR_OFFICE_LOCATION_LINK
        primary key (LINK_FROM_OFFICE_LOCATION_ID, LINK_TO_OFFICE_LOCATION_ID)
);
create table Z_SEN_OFFENDER_243_BU
(
    BU_DATE                        date,
    OFFENDER_ID                    number      not null,
    FIRST_NAME                     varchar(35) not null,
    CRN                            char(7)     not null,
    SECOND_NAME                    varchar(35),
    PNC_NUMBER                     char(13),
    THIRD_NAME                     varchar(35),
    CRO_NUMBER                     varchar(12),
    SURNAME                        varchar(35) not null,
    NOMS_NUMBER                    char(7),
    PREVIOUS_SURNAME               varchar(35),
    ALLOW_SMS                      char,
    DATE_OF_BIRTH_DATE             date        not null,
    NI_NUMBER                      char(9),
    NOTES                          clob,
    LANGUAGE_CONCERNS              varchar(4000),
    DECEASED_DATE                  date,
    INTERPRETER_REQUIRED           char,
    IMMIGRATION_NUMBER             varchar(20),
    EXCLUSION_MESSAGE              varchar(200),
    RESTRICTION_MESSAGE            varchar(200),
    TELEPHONE_NUMBER               varchar(35),
    MOBILE_NUMBER                  varchar(35),
    E_MAIL_ADDRESS                 varchar(255),
    PARTITION_AREA_ID              number      not null,
    SOFT_DELETED                   number      not null,
    ROW_VERSION                    number      not null,
    TITLE_ID                       number,
    GENDER_ID                      number      not null,
    ETHNICITY_ID                   number,
    NATIONALITY_ID                 number,
    IMMIGRATION_STATUS_ID          number,
    LANGUAGE_ID                    number,
    RELIGION_ID                    number,
    SURNAME_SOUNDEX                varchar(50) not null,
    CREATED_DATETIME               date        not null,
    MOST_RECENT_PRISONER_NUMBER    varchar(10),
    LAST_UPDATED_DATETIME          date        not null,
    LAST_UPDATED_DATETIME_DIVERSIT date,
    SECOND_NATIONALITY_ID          number,
    SEXUAL_ORIENTATION_ID          number,
    CURRENT_EXCLUSION              number      not null,
    CREATED_BY_USER_ID             number      not null,
    LAST_UPDATED_USER_ID           number      not null,
    TRAINING_SESSION_ID            number,
    FIRST_NAME_SOUNDEX             varchar(50) not null,
    MIDDLE_NAME_SOUNDEX            varchar(50),
    LAST_UPDATED_USER_ID_DIVERSITY number      not null,
    CURRENT_DISPOSAL               number      not null,
    CURRENT_HIGHEST_RISK_COLOUR    varchar(10),
    CURRENT_RESTRICTION            number      not null,
    INSTITUTION_ID                 number,
    ESTABLISHMENT                  char,
    ORGANISATIONS                  array,
    CURRENT_TIER                   number,
    PENDING_TRANSFER               number      not null,
    OFFENDER_DETAILS               clob,
    PREVIOUS_CONVICTION_DATE       date,
    PREVIOUS_CONVICTION_DOCUMENT   blob,
    PREV_CONVICTION_DOCUMENT_NAME  varchar(200),
    CURRENT_REMAND_STATUS          varchar(200),
    OM_ALLOCATION_DECISION_ID      number,
    PREV_CON_LAST_UPDATED_USER_ID  number,
    PREV_CON_LAST_UPD_AUTH_PROV_ID number,
    PREV_CON_CREATED_PROVIDER_ID   number,
    PREV_CON_CREATED_BY_USER_ID    number,
    PREV_CON_CREATED_DATETIME      date,
    PREV_CON_ALFRESCO_DOCUMENT_ID  varchar(36),
    TRANSGENDER_CONSENT_DISCLOSE   char,
    TRANSGENDER_PROCESS_ID         number,
    IOM_NOMINAL                    char,
    SAFEGUARDING_ISSUE             char,
    VULNERABILITY_ISSUE            char,
    DISABILITY                     char,
    LEARNING                       char,
    MENTAL_HEALTH                  char,
    CDC_CUSTODY_START_DATE         date,
    DYNAMIC_RSR_SCORE              number(5, 2)
);
create table R_APPROVED_PREMISES
(
    APPROVED_PREMISES_ID         number       not null,
    DESCRIPTION                  varchar(100) not null,
    SELECTABLE                   char         not null,
    APPROVED_PREMISES_MANAGER    varchar(200),
    ACCEPTABILITY_CRITERIA_NOTES clob,
    MAXIMUM_OCCUPANCY            number       not null,
    ADDRESS_ID                   number,
    SECTOR                       varchar(50),
    PARTITION_AREA_ID            number       not null,
    ROW_VERSION                  number       not null default 0,
    TRAINING_SESSION_ID          number,
    APPROVED_PREMISES_TYPE_ID    number,
    NATIONAL_HOSTEL_CODE         number       not null,
    GENDER_SUITABILITY_ID        number,
    PROBATION_AREA_ID            number       not null,
    CREATED_BY_USER_ID           number       not null,
    LAST_UPDATED_USER_ID         number       not null,
    CREATED_DATETIME             date         not null,
    LAST_UPDATED_DATETIME        date         not null,
    constraint XPKR_APPROVED_PREMISES
        primary key (APPROVED_PREMISES_ID),
    constraint YES_OR_NO6
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    constraint GREATER_THAN_05
        check (MAXIMUM_OCCUPANCY > 0),
    foreign key (ADDRESS_ID)
        references ADDRESS,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (APPROVED_PREMISES_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (NATIONAL_HOSTEL_CODE)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (GENDER_SUITABILITY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA
);
create table R_AP_AP_TYPE
(
    APPROVED_PREMISES_ID       number not null,
    STANDARD_REFERENCE_LIST_ID number not null,
    ROW_VERSION                number not null default 0,
    TRAINING_SESSION_ID        number,
    foreign key (APPROVED_PREMISES_ID)
        references R_APPROVED_PREMISES,
    foreign key (STANDARD_REFERENCE_LIST_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_AP_AP_TYPE
        primary key (APPROVED_PREMISES_ID, STANDARD_REFERENCE_LIST_ID)
);
create table R_AP_AP_PROVISION
(
    APPROVED_PREMISES_ID       number not null,
    STANDARD_REFERENCE_LIST_ID number not null,
    ROW_VERSION                number not null default 0,
    TRAINING_SESSION_ID        number,
    foreign key (APPROVED_PREMISES_ID)
        references R_APPROVED_PREMISES,
    foreign key (STANDARD_REFERENCE_LIST_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_AP_AP_PROVISION
        primary key (APPROVED_PREMISES_ID, STANDARD_REFERENCE_LIST_ID)
);
create table R_AP_REFERRAL_GROUP
(
    APPROVED_PREMISES_ID       number not null,
    STANDARD_REFERENCE_LIST_ID number not null,
    ROW_VERSION                number not null default 0,
    TRAINING_SESSION_ID        number,
    foreign key (APPROVED_PREMISES_ID)
        references R_APPROVED_PREMISES,
    foreign key (STANDARD_REFERENCE_LIST_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_AP_REFERRAL_GROUP
        primary key (APPROVED_PREMISES_ID, STANDARD_REFERENCE_LIST_ID)
);
create table DOCUMENT_TEMPLATE
(
    DOCUMENT_TEMPLATE_ID number       not null,
    TEMPLATE_NAME        varchar(200) not null,
    DESCRIPTION          varchar(4000),
    TEMPLATE             blob         not null,
    DATE_CREATED_DATE    date         not null,
    ROW_VERSION          number       not null default 0,
    TRAINING_SESSION_ID  number,
    SECTOR               varchar(7),
    constraint XPKDOCUMENT_TEMPLATE
        primary key (DOCUMENT_TEMPLATE_ID),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint DOCUMENT_TEMPLATE_S_1489212050
        check (SECTOR in (
                          'PUBLIC', 'PRIVATE', 'BOTH', 'LOCAL'
            )),
    constraint XAK1DOCUMENT_TEMPLATE
        unique (TEMPLATE_NAME, TRAINING_SESSION_ID, DOCUMENT_TEMPLATE_ID)
);
create table OBJECT_TYPE_DOCUMENT_TEMPLATE
(
    OBJECT_TYPE_DOC_TEMPLATE_ID number      not null,
    OBJECT_NAME                 varchar(32) not null,
    OBJECT_PRIMARY_KEY_ID       number      not null,
    DOCUMENT_TEMPLATE_ID        number      not null,
    ROW_VERSION                 number      not null default 0,
    TRAINING_SESSION_ID         number,
    constraint XPKOBJECT_TYPE_DOCUMENT_TEMPLA
        primary key (OBJECT_TYPE_DOC_TEMPLATE_ID),
    foreign key (DOCUMENT_TEMPLATE_ID)
        references DOCUMENT_TEMPLATE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table DOCUMENT_TEMPLATE_AREA
(
    DOCUMENT_TEMPLATE_ID number not null,
    PROBATION_AREA_ID    number not null,
    ROW_VERSION          number not null default 0,
    TRAINING_SESSION_ID  number,
    foreign key (DOCUMENT_TEMPLATE_ID)
        references DOCUMENT_TEMPLATE,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKDOCUMENT_TEMPLATE_AREA
        primary key (DOCUMENT_TEMPLATE_ID, PROBATION_AREA_ID)
);
create table PROVISION$CFO
(
    ACTION_FLAG           char,
    ACTION_DATETIME       date,
    USERNAME              varchar(100),
    PROVISION_ID          number not null,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    START_DATE            date   not null,
    FINISH_DATE           date,
    NOTES                 clob,
    ROW_VERSION           number not null,
    DISABILITY_ID         number not null,
    PROVISION_TYPE_ID     number not null,
    TRAINING_SESSION_ID   number,
    OFFENDER_ID           number not null,
    ORGANISATIONS         array,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null
);
create table R_REGISTER_TYPE
(
    REGISTER_TYPE_ID               number      not null,
    CODE                           varchar(10) not null,
    DESCRIPTION                    varchar(50) not null,
    SELECTABLE                     char        not null,
    ROW_VERSION                    number      not null default 0,
    ALERT_MESSAGE_TEXT             varchar(4000),
    RECORD_TRIGGER_OFFENCE         char,
    RECORD_CATEGORY                char,
    REGISTER_REVIEW_PERIOD         number,
    RECORD_LEVEL                   char,
    TRAINING_SESSION_ID            number,
    START_DATE                     date        not null,
    END_DATE                       date,
    REGISTER_TYPE_FLAG_ID          number      not null,
    ALERT_MESSAGE                  char        not null,
    DPA_EXCLUDE                    char,
    CREATED_BY_USER_ID             number      not null,
    COLOUR                         varchar(20),
    LAST_UPDATED_USER_ID           number      not null,
    CREATED_DATETIME               date        not null,
    LAST_UPDATED_DATETIME          date        not null,
    DEFAULT_HEADINGS               clob,
    REGISTRATION_CONTACT_TYPE_ID   number,
    DEREGISTRATION_CONTACT_TYPE_ID number,
    DELETED_CONTACT_TYPE_ID        number,
    SPG_INTEREST                   number,
    REGISTER_TYPE_SECTOR_ID        number,
    REVIEW_CONTACT_TYPE_ID         number,
    SPG_OVERRIDE                   number,
    IOM_NOMINAL_INDICATOR          number,
    SAFEGUARDING_INDICATOR         number,
    VULNERABILITY_INDICATOR        number,
    DEREGISTRATION_ADVICE          varchar(200),
    constraint XPKR_REGISTER_TYPE
        primary key (REGISTER_TYPE_ID),
    constraint YES_OR_NO15
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (REGISTER_TYPE_FLAG_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY33
        check (ALERT_MESSAGE in (
                                 'Y', 'N'
            )),
    constraint YES_OR_NO_421
        check (DPA_EXCLUDE in (
                               'Y', 'N'
            )),
    constraint R_1105
        foreign key (REGISTRATION_CONTACT_TYPE_ID)
            references R_CONTACT_TYPE,
    constraint R_1106
        foreign key (DEREGISTRATION_CONTACT_TYPE_ID)
            references R_CONTACT_TYPE,
    constraint R_1108
        foreign key (DELETED_CONTACT_TYPE_ID)
            references R_CONTACT_TYPE,
    constraint TRUE_OR_FALSE_13747429
        check (SPG_INTEREST in (
                                0, 1
            )),
    constraint R_1103
        foreign key (REGISTER_TYPE_SECTOR_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1107
        foreign key (REVIEW_CONTACT_TYPE_ID)
            references R_CONTACT_TYPE,
    constraint TRUE_OR_FALSE_185612578
        check (SPG_OVERRIDE in (
                                0, 1
            )),
    constraint XAK1R_REGISTER_TYPE
        unique (CODE, TRAINING_SESSION_ID, REGISTER_TYPE_ID)
);
create table R_REGISTER_TYPE_CATEGORY
(
    REGISTER_TYPE_ID     number not null,
    REGISTER_CATEGORY_ID number not null,
    ROW_VERSION          number not null default 0,
    constraint R_1101
        foreign key (REGISTER_TYPE_ID)
            references R_REGISTER_TYPE,
    constraint R_1102
        foreign key (REGISTER_CATEGORY_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_REGISTER_TYPE_CATEGORY
        primary key (REGISTER_TYPE_ID, REGISTER_CATEGORY_ID)
);
create table R_REGISTER_TYPE_PROVIDER
(
    REGISTER_TYPE_ID  number not null,
    PROBATION_AREA_ID number not null,
    ROW_VERSION       number default 0,
    constraint R_1097
        foreign key (REGISTER_TYPE_ID)
            references R_REGISTER_TYPE,
    constraint R_1098
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint XPKR_REGISTER_TYPE_PROVIDER
        primary key (REGISTER_TYPE_ID, PROBATION_AREA_ID)
);
create table R_REGISTER_TYPE_LEVEL
(
    REGISTER_TYPE_ID  number not null,
    REGISTER_LEVEL_ID number not null,
    ROW_VERSION       number not null default 0,
    constraint R_1099
        foreign key (REGISTER_TYPE_ID)
            references R_REGISTER_TYPE,
    constraint R_1100
        foreign key (REGISTER_LEVEL_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XPKR_REGISTER_TYPE_LEVEL
        primary key (REGISTER_TYPE_ID, REGISTER_LEVEL_ID)
);
create table TRIGGER_OFFENCE
(
    TRIGGER_OFFENCE_ID  number not null,
    ROW_VERSION         number not null default 0,
    REGISTER_TYPE_ID    number not null,
    OFFENCE_ID          number not null,
    TRAINING_SESSION_ID number,
    constraint XPKTRIGGER_OFFENCE
        primary key (TRIGGER_OFFENCE_ID),
    foreign key (REGISTER_TYPE_ID)
        references R_REGISTER_TYPE,
    foreign key (OFFENCE_ID)
        references R_OFFENCE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1TRIGGER_OFFENCE
        unique (REGISTER_TYPE_ID, OFFENCE_ID, TRAINING_SESSION_ID, TRIGGER_OFFENCE_ID)
);
create table R_REGISTER_TYPE_DUP_GRP
(
    REGISTER_TYPE_DUP_GRP_ID number(38) not null,
    REGISTER_TYPE_ID         number(38) not null,
    REGISTER_GROUP_ID        number(38) not null,
    ROW_VERSION              number(38) not null default 0,
    TRAINING_SESSION_ID      number(38),
    constraint XPKR_REGISTER_TYPE_DUP_GRP
        primary key (REGISTER_TYPE_DUP_GRP_ID),
    constraint R_1141
        foreign key (REGISTER_TYPE_ID)
            references R_REGISTER_TYPE,
    constraint R_1142
        foreign key (REGISTER_GROUP_ID)
            references R_REGISTER_DUPLICATE_GROUP,
    constraint R_1143
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION
);
create table DISPOSAL_BCKUP
(
    DISPOSAL_ID                    number not null,
    DISPOSAL_DATE                  date   not null,
    VALUE                          number(16, 2),
    LENGTH                         number,
    PUNISHMENT                     char,
    REDUCTION_OF_CRIME             char,
    REFORM_AND_REHABILITION        char,
    PUBLIC_PROTECTION              char,
    REPARATION                     char,
    RECOMMENDATION_NOT_STATED      char,
    TERMINATION_DATE               date,
    TERMINATION_NOTES              clob,
    EVENT_ID                       number not null,
    PARTITION_AREA_ID              number not null,
    SOFT_DELETED                   number not null,
    ROW_VERSION                    number not null,
    LEVEL_OF_SERIOUSNESS_ID        number,
    DISPOSAL_TYPE_ID               number not null,
    CREATED_DATETIME               date   not null,
    CREATED_BY_USER_ID             number not null,
    LAST_UPDATED_DATETIME          date   not null,
    DISPOSAL_TERMINATION_REASON_ID number,
    LAST_UPDATED_USER_ID           number not null,
    TRAINING_SESSION_ID            number,
    LENGTH_2                       number,
    OFFENDER_ID                    number not null,
    ORGANISATIONS                  array,
    ACTIVE_FLAG                    number not null,
    UPW                            number not null,
    EFFECTIVE_LENGTH               number,
    LENGTH_IN_DAYS                 number,
    ENTRY_LENGTH_UNITS_ID          number,
    ENTRY_LENGTH_2_UNITS_ID        number,
    NOTIONAL_END_DATE              date,
    ENTRY_LENGTH                   number,
    USER_TERMINATION_DATE          date,
    ENTERED_NOTIONAL_END_DATE      date
);
create table TRAINING_TABLE_ROWS
(
    TRAINING_TABLE_ROWS_ID number not null,
    PARENT_TABLE           varchar(30),
    TABLE_NAME             varchar(30),
    HIERARCHY_LEVEL        number,
    NEW_PROBATION_AREA_ID  number,
    OLD_OFFENDER_ID        number,
    NEW_OFFENDER_ID        number,
    OLD_PK_VALUE           varchar(4000),
    NEW_PK_VALUE           varchar(4000),
    OLD_FK_KEY             varchar(4000),
    NEW_FK_KEY             varchar(4000),
    NEW_FIELD_LIST         clob,
    constraint XPKTRAINING_TABLE_ROWS
        primary key (TRAINING_TABLE_ROWS_ID)
);
create table LOST_BEDS
(
    LOST_BEDS_ID          number not null,
    START_DATE            date   not null,
    END_DATE              date,
    NUMBER_OF_BEDS_LOST   number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    REASON_FOR_LOSS_ID    number not null,
    APPROVED_PREMISES_ID  number not null,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    NOTES                 clob,
    EXTERNAL_REFERENCE    varchar(30),
    constraint XPKLOST_BEDS
        primary key (LOST_BEDS_ID),
    constraint GREATER_THAN_06
        check (NUMBER_OF_BEDS_LOST > 0),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (REASON_FOR_LOSS_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (APPROVED_PREMISES_ID)
        references R_APPROVED_PREMISES,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table Z_FIX_CONTACT_NOTES_0194
(
    CONTACT_ID          number not null,
    OFFENDER_ID         number not null,
    EVENT_ID            number,
    NOTES               clob,
    SPG_NOTIFICATION_ID number not null
);
create table Z_PRE_OFFENDER_243_BU
(
    BU_DATE                        date,
    OFFENDER_ID                    number      not null,
    FIRST_NAME                     varchar(35) not null,
    CRN                            char(7)     not null,
    SECOND_NAME                    varchar(35),
    PNC_NUMBER                     char(13),
    THIRD_NAME                     varchar(35),
    CRO_NUMBER                     varchar(12),
    SURNAME                        varchar(35) not null,
    NOMS_NUMBER                    char(7),
    PREVIOUS_SURNAME               varchar(35),
    ALLOW_SMS                      char,
    DATE_OF_BIRTH_DATE             date        not null,
    NI_NUMBER                      char(9),
    NOTES                          clob,
    LANGUAGE_CONCERNS              varchar(4000),
    DECEASED_DATE                  date,
    INTERPRETER_REQUIRED           char,
    IMMIGRATION_NUMBER             varchar(20),
    EXCLUSION_MESSAGE              varchar(200),
    RESTRICTION_MESSAGE            varchar(200),
    TELEPHONE_NUMBER               varchar(35),
    MOBILE_NUMBER                  varchar(35),
    E_MAIL_ADDRESS                 varchar(255),
    PARTITION_AREA_ID              number      not null,
    SOFT_DELETED                   number      not null,
    ROW_VERSION                    number      not null,
    TITLE_ID                       number,
    GENDER_ID                      number      not null,
    ETHNICITY_ID                   number,
    NATIONALITY_ID                 number,
    IMMIGRATION_STATUS_ID          number,
    LANGUAGE_ID                    number,
    RELIGION_ID                    number,
    SURNAME_SOUNDEX                varchar(50) not null,
    CREATED_DATETIME               date        not null,
    MOST_RECENT_PRISONER_NUMBER    varchar(10),
    LAST_UPDATED_DATETIME          date        not null,
    LAST_UPDATED_DATETIME_DIVERSIT date,
    SECOND_NATIONALITY_ID          number,
    SEXUAL_ORIENTATION_ID          number,
    CURRENT_EXCLUSION              number      not null,
    CREATED_BY_USER_ID             number      not null,
    LAST_UPDATED_USER_ID           number      not null,
    TRAINING_SESSION_ID            number,
    FIRST_NAME_SOUNDEX             varchar(50) not null,
    MIDDLE_NAME_SOUNDEX            varchar(50),
    LAST_UPDATED_USER_ID_DIVERSITY number      not null,
    CURRENT_DISPOSAL               number      not null,
    CURRENT_HIGHEST_RISK_COLOUR    varchar(10),
    CURRENT_RESTRICTION            number      not null,
    INSTITUTION_ID                 number,
    ESTABLISHMENT                  char,
    ORGANISATIONS                  array,
    CURRENT_TIER                   number,
    PENDING_TRANSFER               number      not null,
    OFFENDER_DETAILS               clob,
    PREVIOUS_CONVICTION_DATE       date,
    PREVIOUS_CONVICTION_DOCUMENT   blob,
    PREV_CONVICTION_DOCUMENT_NAME  varchar(200),
    CURRENT_REMAND_STATUS          varchar(200),
    OM_ALLOCATION_DECISION_ID      number,
    PREV_CON_LAST_UPDATED_USER_ID  number,
    PREV_CON_LAST_UPD_AUTH_PROV_ID number,
    PREV_CON_CREATED_PROVIDER_ID   number,
    PREV_CON_CREATED_BY_USER_ID    number,
    PREV_CON_CREATED_DATETIME      date,
    PREV_CON_ALFRESCO_DOCUMENT_ID  varchar(36),
    TRANSGENDER_CONSENT_DISCLOSE   char,
    TRANSGENDER_PROCESS_ID         number,
    IOM_NOMINAL                    char,
    SAFEGUARDING_ISSUE             char,
    VULNERABILITY_ISSUE            char,
    DISABILITY                     char,
    LEARNING                       char,
    MENTAL_HEALTH                  char,
    CDC_CUSTODY_START_DATE         date,
    DYNAMIC_RSR_SCORE              number(5, 2)
);
create table UPW_PROJECT
(
    UPW_PROJECT_ID                 number       not null,
    CODE                           varchar(20)  not null,
    NAME                           varchar(200) not null,
    BENEFICIARY                    varchar(50),
    HIGH_VISIBILITY_VEST_REQUIRED  char,
    ACTUAL_START_DATE              date,
    COMPLETION_DATE                date,
    EXPECTED_END_DATE              date,
    BENEFICIARY_CONTACT_ADDRESS_ID number,
    PLACEMENT_ADDRESS_ID           number,
    BENEFICIARY_ADDRESS            varchar(1000),
    BENEFICIARY_CONTACT_NAME       varchar(200),
    SELECTABLE                     char         not null,
    PARTITION_AREA_ID              number       not null,
    ROW_VERSION                    number       not null default 0,
    PROJECT_TYPE_ID                number,
    TRAINING_SESSION_ID            number,
    TEAM_ID                        number,
    PROVIDER_TEAM_ID               number,
    PROBATION_AREA_ID              number,
    CREATED_DATETIME               date         not null,
    LAST_UPDATED_DATETIME          date         not null,
    COMMISSIONING_SOURCE_1         number,
    COMMISSIONING_SOURCE_2         number,
    COMMISSIONING_SOURCE_3         number,
    COMMISSIONING_SOURCE_4         number,
    PLACEMENT_NOTES                clob,
    BENEFICIARY_NOTES              clob,
    PLACEMENT_CONTACT_NAME         varchar(200),
    COMMISSIONING_SOURCE_5         number,
    UPW_DIVERSITY_1                number,
    UPW_DIVERSITY_2                number,
    CREATED_BY_USER_ID             number       not null,
    UPW_DIVERSITY_3                number,
    LAST_UPDATED_USER_ID           number       not null,
    UPW_DIVERSITY_4                number,
    UPW_DIVERSITY_5                number,
    WORKED_INTENSIVELY             char,
    INTENSIVE                      char,
    BENEFICIARY_SLA                char,
    SLA_START_DATE                 date,
    SLA_END_DATE                   date,
    BENEFICIARY_CONTRIBUTION       char,
    CONTRIBUTION_START_DATE        date,
    CONTRIBUTION_END_DATE          date,
    RISK_ASSESSMENT                char,
    RISK_ASSESSMENT_DATE           date,
    RISK_ASSESSMENT_REVIEW_DATE    date,
    CONSENT                        char,
    PICKUP_POINT                   varchar(1000),
    REPORT_TO_SITE                 char,
    BENEFICIARY_EMAIL_ADDRESS      varchar(255),
    BENEFICIARY_URL                varchar(255),
    BENEFICIARY_CONTACT_ADDRESS    varchar(1000),
    LOCATION_DESCRIPTION           varchar(255),
    PLACEMENT_EMAIL_ADDRESS        varchar(255),
    PLACEMENT_URL                  varchar(255),
    PICKUP_POINT_ID                number,
    REQUESTED_DATE                 date,
    EXPECTED_START_DATE            date,
    constraint XPKUPW_PROJECT
        primary key (UPW_PROJECT_ID),
    constraint YES_OR_NO_408
        check (HIGH_VISIBILITY_VEST_REQUIRED in (
                                                 'Y', 'N'
            )),
    foreign key (BENEFICIARY_CONTACT_ADDRESS_ID)
        references ADDRESS,
    foreign key (PLACEMENT_ADDRESS_ID)
        references ADDRESS,
    constraint YES_OR_NO5
        check (SELECTABLE in (
                              'N', 'Y'
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (PROJECT_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    foreign key (COMMISSIONING_SOURCE_1)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (COMMISSIONING_SOURCE_2)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (COMMISSIONING_SOURCE_3)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (COMMISSIONING_SOURCE_4)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (COMMISSIONING_SOURCE_5)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (UPW_DIVERSITY_1)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (UPW_DIVERSITY_2)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (UPW_DIVERSITY_3)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (UPW_DIVERSITY_4)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (UPW_DIVERSITY_5)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY_913405811
        check (WORKED_INTENSIVELY in (
                                      'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1736257325
        check (INTENSIVE in (
                             'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_437136663
        check (BENEFICIARY_SLA in (
                                   'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1294163459
        check (BENEFICIARY_CONTRIBUTION in (
                                            'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_422587190
        check (RISK_ASSESSMENT in (
                                   'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1971023230
        check (CONSENT in (
                           'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_198890185
        check (REPORT_TO_SITE in (
                                  'Y', 'N'
            )),
    constraint R_1298
        foreign key (PICKUP_POINT_ID)
            references OFFICE_LOCATION,
    constraint XAK1UPW_PROJECT
        unique (NAME, TRAINING_SESSION_ID, UPW_PROJECT_ID),
    constraint UPW_PROJECT_TEAM_XOR
        check ((
                (
                        TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            ))
);
create table UPW_PROJECT_AVAILABILITY
(
    UPW_PROJECT_AVAILABILITY_ID number not null,
    UPW_DAY_ID                  number not null,
    START_TIME                  date   not null,
    END_TIME                    date   not null,
    PARTITION_AREA_ID           number not null,
    ROW_VERSION                 number not null default 0,
    CREATED_BY_USER_ID          number not null,
    CREATED_DATETIME            date   not null,
    LAST_UPDATED_USER_ID        number not null,
    LAST_UPDATED_DATETIME       date   not null,
    UPW_PROJECT_ID              number not null,
    TRAINING_SESSION_ID         number,
    START_DATE                  date,
    END_DATE                    date,
    FREQUENCY_ID                number,
    BANK_HOLIDAYS               char,
    MINIMUM_NUMBER              number,
    MAXIMUM_NUMBER              number,
    SPACES_AVAILABLE            number,
    constraint XPKUPW_PROJECT_AVAILABILITY
        primary key (UPW_PROJECT_AVAILABILITY_ID),
    foreign key (UPW_DAY_ID)
        references UPW_DAY,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (UPW_PROJECT_ID)
        references UPW_PROJECT,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint R_1299
        foreign key (FREQUENCY_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY_402728703
        check (BANK_HOLIDAYS in (
                                 'Y', 'N'
            ))
);
create table UPW_PROJECT_TIMESCALES_GROUP
(
    UPW_PROJECT_ID               number not null,
    GENDER_SUITABILITY_ID        number not null,
    MINIMUM_AGE                  number,
    MAXIMUM_AGE                  number,
    PARTITION_AREA_ID            number not null,
    MINIMUM_NUMBER               number,
    MAXIMUM_NUMBER               number,
    SMOKING_SITE                 char,
    PROJECT_VISIBLE_TO_PUBLIC    char,
    DATE_REQUESTED               date,
    DATE_JOB_EVALUATED           date,
    PLANNED_START_DATE           date,
    NOTES_UNSUITABLE_PROJECTS    clob,
    SPARSITY_ID                  number,
    NUMBER_OF_GROUPS             number,
    CREATED_BY_USER_ID           number not null,
    CREATED_DATETIME             date   not null,
    LAST_UPDATED_USER_ID         number not null,
    LAST_UPDATED_DATETIME        date   not null,
    ROW_VERSION                  number not null default 0,
    TRAINING_SESSION_ID          number,
    SPACES_AVAILABLE             number,
    NO_RISK_TO_ANIMALS           char,
    NO_RISK_TO_CHILDREN          char,
    NO_HATE_CRIME                char,
    NO_FREQ_DISHONEST            char,
    NO_CLOSE_SUPERVISION         char,
    NO_VULNERABLE                char,
    NO_ENGLISH_LANGUAGE_REQUIRED char,
    NO_HIST_AGAINST_VULN_ADULTS  char,
    NO_SEX_OFFENDERS             char,
    NO_HIGH_ROSH                 char,
    NO_ARSONIST                  char,
    constraint XPKUPW_PROJECT_TIMESCALES_GROU
        primary key (UPW_PROJECT_ID),
    foreign key (UPW_PROJECT_ID)
        references UPW_PROJECT,
    foreign key (GENDER_SUITABILITY_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint GREATER_THAN_013
        check (MINIMUM_AGE > 0),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint GREATER_THAN_014
        check (MINIMUM_NUMBER > 0),
    constraint YES_OR_NO_433
        check (SMOKING_SITE in (
                                'Y', 'N'
            )),
    constraint YES_OR_NO_434
        check (PROJECT_VISIBLE_TO_PUBLIC in (
                                             'Y', 'N'
            )),
    foreign key (SPARSITY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint YES_OR_NO_ONLY_1298146890
        check (NO_RISK_TO_ANIMALS in (
                                      'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1747013632
        check (NO_RISK_TO_CHILDREN in (
                                       'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_691949436
        check (NO_HATE_CRIME in (
                                 'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1974371799
        check (NO_FREQ_DISHONEST in (
                                     'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_308346638
        check (NO_CLOSE_SUPERVISION in (
                                        'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_476132990
        check (NO_VULNERABLE in (
                                 'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1851227249
        check (NO_ENGLISH_LANGUAGE_REQUIRED in (
                                                'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1063742115
        check (NO_HIST_AGAINST_VULN_ADULTS in (
                                               'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1770877800
        check (NO_SEX_OFFENDERS in (
                                    'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_991844427
        check (NO_HIGH_ROSH in (
                                'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_222103140
        check (NO_ARSONIST in (
                               'Y', 'N'
            )),
    constraint SPACES_AVAILABLE_MAXI_47647470
        check ((
                SPACES_AVAILABLE >= MAXIMUM_NUMBER
                or SPACES_AVAILABLE is null
                or MAXIMUM_NUMBER is null
            ))
);
create table Z_AR_SCRIPT_0258
(
    OFFENDER_ID           number       not null,
    CODE_VALUE            varchar(100) not null,
    CODE_DESCRIPTION      varchar(500) not null,
    START_DATE            date         not null,
    END_DATE              date,
    NOTES                 clob,
    LAST_UPDATED_USER_ID  number       not null,
    LAST_UPDATED_DATETIME date         not null,
    ROW_VERSION           number       not null,
    CREATED_DATETIME      date         not null,
    CREATED_BY_USER_ID    number       not null,
    CRN                   char(7)      not null
);
create table Z_REG_REV_268_EXT
(
    NATIONAL_OFFENDER_ID     number,
    NATIONAL_REGISTRATION_ID number,
    TEAM_CODE                varchar(20),
    TEAM_DESCRIPTION         varchar(60),
    OFFICER_CODE             varchar(20),
    FORENAME                 varchar(40),
    SURNAME                  varchar(40),
    REVIEW_DATE              date,
    NOTES                    clob,
    REGISTRATION_REVIEW_ID   number,
    REGISTRATION_ID          number,
    REVIEWING_TEAM_ID        number,
    REVIEWING_STAFF_ID       number,
    CONTACT_ID               number,
    OFFENDER_ID              number,
    UNIQUE_ID                number
);
create table RELEASE$CFO
(
    ACTION_FLAG           char,
    ACTION_DATETIME       date,
    USERNAME              varchar(100),
    RELEASE_ID            number not null,
    ACTUAL_RELEASE_DATE   date   not null,
    NOTES                 clob,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null default 0,
    RELEASE_TYPE_ID       number not null,
    CUSTODY_ID            number not null,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    OFFENDER_ID           number not null,
    ORGANISATIONS         array
);
create table PERSONAL_CIRCUMSTANCE$CFO
(
    ACTION_FLAG              char,
    ACTION_DATETIME          date,
    USERNAME                 varchar(100),
    PERSONAL_CIRCUMSTANCE_ID number not null,
    OFFENDER_ID              number not null,
    START_DATE               date   not null,
    END_DATE                 date,
    SOFT_DELETED             number not null,
    ROW_VERSION              number not null,
    PARTITION_AREA_ID        number not null,
    CREATED_BY_USER_ID       number not null,
    LAST_UPDATED_USER_ID     number not null,
    TRAINING_SESSION_ID      number,
    CREATED_DATETIME         date   not null,
    LAST_UPDATED_DATETIME    date   not null,
    CIRCUMSTANCE_TYPE_ID     number not null,
    CIRCUMSTANCE_SUB_TYPE_ID number not null,
    NOTES                    clob,
    ENQUIRY                  number(22)
);
create table OFFLOC
(
    OFFLOC_ID                number not null,
    PRISON_CODE              varchar(20),
    OFFENDER_MANAGER         varchar(500),
    SURNAME                  varchar(35),
    FORENAME_1               varchar(35),
    FORENAME_2               varchar(35),
    DOB                      date,
    GENDER                   varchar(40),
    ETHNICITY                varchar(40),
    NATIONALITY              varchar(50),
    CRO                      varchar(4000),
    PRISON_NUMBER            varchar(20),
    NOMIS_NUMBER             varchar(20),
    STATUS                   varchar(10),
    NOMIS_STATUS             varchar(20),
    SENTENCING_COURT         varchar(50),
    SENTENCE_DATE            date,
    SENTENCE_YEARS           number,
    SENTENCE_MONTH           number,
    SENTENCE_DAYS            number,
    CONDITIONAL_RELEASE_DATE date,
    PAROLE_ELIGIBILITY_DATE  date,
    LICENSE_EXPIRY_DATE      date,
    SENTENCE_EXPIRY_DATE     date,
    HDC_ELIGIBILITY_DATE     date,
    ACTUAL_RELEASE_DATE      date,
    DSS_UPDATED_DATE         date   not null,
    SOURCE_CODE              char,
    TRAINING_SESSION_ID      number,
    PSS_END_DATE             date,
    ALERTS                   clob,
    constraint XPKOFFLOC
        primary key (OFFLOC_ID),
    constraint OFFLOC_STATUS
        check (STATUS in (
                          'Active', 'Inactive', 'Unknown'
            )),
    constraint LIDS_OR_NOMIS
        check (SOURCE_CODE in (
                               'L', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table PNC_NUMBER
(
    PNC_NUMBER_ID       number      not null,
    PNC_NUMBER          varchar(20) not null,
    OFFLOC_ID           number      not null,
    TRAINING_SESSION_ID number,
    constraint XPKPNC_NUMBER
        primary key (PNC_NUMBER_ID),
    foreign key (OFFLOC_ID)
        references OFFLOC,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table DSS_SEARCH_OFFENDER
(
    DSS_SEARCH_REQUEST_ID number not null,
    DSS_SEARCH_SEQUENCE   number not null,
    OFFLOC_ID             number not null,
    constraint R_1118
        foreign key (OFFLOC_ID)
            references OFFLOC,
    constraint XPKDSS_SEARCH_OFFENDER
        primary key (DSS_SEARCH_REQUEST_ID, DSS_SEARCH_SEQUENCE, OFFLOC_ID)
);
create table DMS_OFFENDER
(
    DMS_OFFENDER_ID         number(22)  not null,
    DMS_BATCH_ID            number(22)  not null,
    OFFENDER_ID             number(22)  not null,
    OFFENDER_ACTIVE_FLAG    varchar(1),
    FOLDER_CREATED          number      not null default 0,
    FOLDER_CREATE_DATETIME  date,
    FOLDER_CREATE_STATUS_ID number(22)  not null,
    API_RESPONSE            clob,
    API_RETURN              clob,
    SEARCH_RETURN           clob,
    ALFRESCO_DOCUMENT_COUNT number,
    LAST_SEARCH_DATETIME    date,
    CREATED_DATETIME        date        not null,
    CREATED_USER            varchar(30) not null,
    LAST_UPDATED_DATETIME   date        not null,
    LAST_UPDATED_USER       varchar(30) not null,
    ROW_VERSION             number      not null,
    constraint DMS_OFFENDER_PK
        primary key (DMS_OFFENDER_ID),
    constraint DMS_OFFENDER_DMS_BATCH_FK
        foreign key (DMS_BATCH_ID)
            references DMS_BATCH,
    constraint DMS_OFFENDER_DMS_STATUS_FK
        foreign key (FOLDER_CREATE_STATUS_ID)
            references DMS_STATUS
);
comment on table DMS_OFFENDER is 'DMS_OFFENDER
==========
This table holds the offenders associated to a batch and the status of the folder creation';
comment on column DMS_OFFENDER.DMS_OFFENDER_ID is 'Primary Key';
comment on column DMS_OFFENDER.DMS_BATCH_ID is 'Link to the batch';
comment on column DMS_OFFENDER.OFFENDER_ID is 'Link to offender table';
comment on column DMS_OFFENDER.OFFENDER_ACTIVE_FLAG is 'Flag indicating of current active offender';
comment on column DMS_OFFENDER.FOLDER_CREATED is 'Flag to indicate presence of folder ';
comment on column DMS_OFFENDER.FOLDER_CREATE_DATETIME is 'Date of folder creation';
comment on column DMS_OFFENDER.FOLDER_CREATE_STATUS_ID is 'Status of the folder creation for the offender';
comment on column DMS_OFFENDER.API_RESPONSE is 'The response received from the call to the Alfresco API to create the folder';
comment on column DMS_OFFENDER.API_RETURN is 'The returnpayload from the call to the Alfresco API when creating the folder';
comment on column DMS_OFFENDER.SEARCH_RETURN is 'The return payload from the Alfresco API for a search against the CRN for this offender row';
comment on column DMS_OFFENDER.ALFRESCO_DOCUMENT_COUNT is 'The count of documents based on the search return';
comment on column DMS_OFFENDER.LAST_SEARCH_DATETIME is 'The date and time of the last search request';
comment on column DMS_OFFENDER.CREATED_DATETIME is 'Creation date for row';
comment on column DMS_OFFENDER.CREATED_USER is 'Creation user for row';
comment on column DMS_OFFENDER.LAST_UPDATED_DATETIME is 'Last update date for row';
comment on column DMS_OFFENDER.LAST_UPDATED_USER is 'Last update user for row';
comment on column DMS_OFFENDER.ROW_VERSION is 'Sequential version count for row';
create table DMS_VALIDATION
(
    DMS_VALIDATION_ID     number(38)   not null,
    DMS_OFFENDER_ID       number(38)   not null,
    ID                    varchar(36),
    NAME                  varchar(200) not null,
    LOCKED                varchar(5)   not null,
    RESERVED              varchar(5)   not null,
    NDELIUS_FLAG          number       not null,
    ALFRESCO_FLAG         number       not null,
    CREATED_DATETIME      date         not null,
    CREATED_USER          varchar(30)  not null,
    LAST_UPDATED_DATETIME date         not null,
    LAST_UPDATED_USER     varchar(30)  not null,
    ROW_VERSION           number       not null,
    constraint DMS_VALIDATION_PK
        primary key (DMS_VALIDATION_ID),
    constraint DMS_VALIDATION_FK1
        foreign key (DMS_OFFENDER_ID)
            references DMS_OFFENDER
);
comment on table DMS_VALIDATION is 'DMS_VALIDATION
==========
This table holds the document discrepanies from a validation run';
comment on column DMS_VALIDATION.DMS_VALIDATION_ID is 'Primary Key';
comment on column DMS_VALIDATION.DMS_OFFENDER_ID is 'Link to DMS_OFFENDER';
comment on column DMS_VALIDATION.ID is 'Alfresco Document ID';
comment on column DMS_VALIDATION.NAME is 'Document name In Alfresco';
comment on column DMS_VALIDATION.LOCKED is 'Locked status in Alfresco';
comment on column DMS_VALIDATION.RESERVED is 'Reserved status in Alfresco';
comment on column DMS_VALIDATION.NDELIUS_FLAG is 'Flag to indicate containing system';
comment on column DMS_VALIDATION.ALFRESCO_FLAG is 'Flag to indicate containing system';
comment on column DMS_VALIDATION.CREATED_DATETIME is 'Creation date for row';
comment on column DMS_VALIDATION.CREATED_USER is 'Creation user for row';
comment on column DMS_VALIDATION.LAST_UPDATED_DATETIME is 'Last update date for row';
comment on column DMS_VALIDATION.LAST_UPDATED_USER is 'Last update user for row';
comment on column DMS_VALIDATION.ROW_VERSION is 'Sequential version count for row';
create table Z_TEMPLATES_0254
(
    DOCUMENT_TEMPLATE_ID number       not null,
    TEMPLATE_NAME        varchar(200) not null,
    DESCRIPTION          varchar(4000),
    TEMPLATE             blob         not null,
    TARGET               varchar(4)
);
create table AP_REFERRAL_DELTA_ERROR
(
    AP_REFERRAL_DELTA_ERROR_ID    number      not null,
    APPROVED_PREMISES_REFERRAL_ID number,
    ERROR_DATE                    date        not null,
    ERROR_CODE                    varchar(10) not null,
    ERROR_MESSAGE                 varchar(1000),
    RESPONSE_CODE                 number      not null,
    REQUEST_METHOD                varchar(18) not null,
    RESENT                        char                 default 'N',
    NOTES                         clob,
    INCIDENT_IDENTIFIER           varchar(100),
    ASSIGNED_TO_STAFF_ID          number,
    RESOLUTION_STATUS_ID          number,
    ROW_VERSION                   number      not null default 0,
    CREATED_BY_USER_ID            number      not null,
    CREATED_DATETIME              date        not null,
    LAST_UPDATED_USER_ID          number      not null,
    LAST_UPDATED_DATETIME         date        not null,
    RESOLUTION_DATE               date,
    constraint XPKAP_REFERRAL_DELTA_ERROR
        primary key (AP_REFERRAL_DELTA_ERROR_ID),
    constraint YES_OR_NO_ONLY_1296458602
        check (RESENT in (
                          'Y', 'N'
            )),
    constraint R_1280
        foreign key (RESOLUTION_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST
);
create table OFFENDER
(
    OFFENDER_ID                    number      not null,
    FIRST_NAME                     varchar(35) not null,
    CRN                            char(7)     not null,
    SECOND_NAME                    varchar(35),
    PNC_NUMBER                     char(13),
    THIRD_NAME                     varchar(35),
    CRO_NUMBER                     varchar(12),
    SURNAME                        varchar(35) not null,
    NOMS_NUMBER                    char(7),
    PREVIOUS_SURNAME               varchar(35),
    ALLOW_SMS                      char,
    DATE_OF_BIRTH_DATE             date        not null,
    NI_NUMBER                      char(9),
    NOTES                          clob,
    LANGUAGE_CONCERNS              varchar(4000),
    DECEASED_DATE                  date,
    INTERPRETER_REQUIRED           char,
    IMMIGRATION_NUMBER             varchar(20),
    EXCLUSION_MESSAGE              varchar(200),
    RESTRICTION_MESSAGE            varchar(200),
    TELEPHONE_NUMBER               varchar(35),
    MOBILE_NUMBER                  varchar(35),
    E_MAIL_ADDRESS                 varchar(255),
    PARTITION_AREA_ID              number      not null,
    SOFT_DELETED                   number      not null,
    ROW_VERSION                    number      not null default 0,
    TITLE_ID                       number,
    GENDER_ID                      number      not null,
    ETHNICITY_ID                   number,
    NATIONALITY_ID                 number,
    IMMIGRATION_STATUS_ID          number,
    LANGUAGE_ID                    number,
    RELIGION_ID                    number,
    SURNAME_SOUNDEX                varchar(50) not null,
    CREATED_DATETIME               date        not null,
    MOST_RECENT_PRISONER_NUMBER    varchar(10),
    LAST_UPDATED_DATETIME          date        not null,
    LAST_UPDATED_DATETIME_DIVERSIT date,
    SECOND_NATIONALITY_ID          number,
    SEXUAL_ORIENTATION_ID          number,
    CURRENT_EXCLUSION              number      not null default 0,
    CREATED_BY_USER_ID             number      not null,
    LAST_UPDATED_USER_ID           number      not null,
    TRAINING_SESSION_ID            number,
    FIRST_NAME_SOUNDEX             varchar(50) not null,
    MIDDLE_NAME_SOUNDEX            varchar(50),
    LAST_UPDATED_USER_ID_DIVERSITY number      not null,
    CURRENT_DISPOSAL               number      not null default 0,
    CURRENT_HIGHEST_RISK_COLOUR    varchar(10),
    CURRENT_RESTRICTION            number      not null default 0,
    INSTITUTION_ID                 number,
    ESTABLISHMENT                  char,
    ORGANISATIONS                  array,
    CURRENT_TIER                   number,
    PENDING_TRANSFER               number      not null,
    OFFENDER_DETAILS               clob,
    PREVIOUS_CONVICTION_DATE       date,
    PREVIOUS_CONVICTION_DOCUMENT   blob,
    PREV_CONVICTION_DOCUMENT_NAME  varchar(200),
    CURRENT_REMAND_STATUS          varchar(200),
    OM_ALLOCATION_DECISION_ID      number,
    PREV_CON_LAST_UPDATED_USER_ID  number,
    PREV_CON_LAST_UPD_AUTH_PROV_ID number,
    PREV_CON_CREATED_PROVIDER_ID   number,
    PREV_CON_CREATED_BY_USER_ID    number,
    PREV_CON_CREATED_DATETIME      date,
    PREV_CON_ALFRESCO_DOCUMENT_ID  varchar(36),
    TRANSGENDER_CONSENT_DISCLOSE   char,
    TRANSGENDER_PROCESS_ID         number,
    IOM_NOMINAL                    char,
    SAFEGUARDING_ISSUE             char,
    VULNERABILITY_ISSUE            char,
    DISABILITY                     char,
    LEARNING                       char,
    MENTAL_HEALTH                  char,
    CDC_CUSTODY_START_DATE         date,
    DYNAMIC_RSR_SCORE              number(5, 2),
    PREFERRED_NAME                 varchar(35),
    GENDER_IDENTITY_ID             number,
    GENDER_IDENTITY_DESCRIPTION    varchar(50),
    constraint XPKOFFENDER
        primary key (OFFENDER_ID),
    constraint YES_OR_NO_OR_UNKNOWN9
        check (ALLOW_SMS in (
                             'N', 'Y', 'U'
            )),
    constraint YES_OR_NO_OR_UNKNOWN10
        check (INTERPRETER_REQUIRED in (
                                        'N', 'Y', 'U'
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE65
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (TITLE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (GENDER_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (ETHNICITY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (NATIONALITY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (IMMIGRATION_STATUS_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (LANGUAGE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (RELIGION_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (SECOND_NATIONALITY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (SEXUAL_ORIENTATION_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint CON_CURRENT_EXCLUSION
        check (CURRENT_EXCLUSION in (
                                     0, 1
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint CON_CURRENT_DISPOSAL
        check (CURRENT_DISPOSAL in (
                                    0, 1
            )),
    constraint CON_CURRENT_RESTRICTION
        check (CURRENT_RESTRICTION in (
                                       0, 1
            )),
    constraint YES_OR_NO_ONLY32
        check (ESTABLISHMENT in (
                                 'Y', 'N'
            )),
    foreign key (CURRENT_TIER)
        references R_STANDARD_REFERENCE_LIST,
    constraint TRUE_OR_FALSE66
        check (PENDING_TRANSFER in (
                                    0, 1
            )),
    constraint R_1052
        foreign key (OM_ALLOCATION_DECISION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1093
        foreign key (PREV_CON_LAST_UPD_AUTH_PROV_ID)
            references PROBATION_AREA,
    constraint R_1094
        foreign key (PREV_CON_CREATED_PROVIDER_ID)
            references PROBATION_AREA,
    constraint XAK1OFFENDER
        unique (PREV_CON_ALFRESCO_DOCUMENT_ID),
    constraint YES_OR_NO_ONLY_1345657105
        check (TRANSGENDER_CONSENT_DISCLOSE in (
                                                'Y', 'N'
            )),
    constraint R_1113
        foreign key (TRANSGENDER_PROCESS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY_1819182291
        check (IOM_NOMINAL in (
                               'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_854915354
        check (SAFEGUARDING_ISSUE in (
                                      'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_887952511
        check (VULNERABILITY_ISSUE in (
                                       'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_2054319986
        check (DISABILITY in (
                              'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_489520233
        check (LEARNING in (
                            'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1967808043
        check (MENTAL_HEALTH in (
                                 'Y', 'N'
            )),
    constraint R_1314
        foreign key (GENDER_IDENTITY_ID)
            references R_STANDARD_REFERENCE_LIST,
    foreign key (INSTITUTION_ID, ESTABLISHMENT)
        references R_INSTITUTION
);
create table SUBJECT_ACCESS_REPORT
(
    SUBJECT_ACCESS_REPORT_ID number not null,
    REQUEST_DATE_TIME        date   not null,
    LOCKED                   char,
    PARTITION_AREA_ID        number not null,
    ROW_NUMBER               number not null default 0,
    CREATED_DATETIME         date   not null,
    CREATED_BY_USER_ID       number not null,
    LAST_UPDATED_DATETIME    date   not null,
    OFFENDER_ID              number not null,
    LAST_UPDATED_USER_ID     number not null,
    TRAINING_SESSION_ID      number,
    GENERATION_STATUS        char,
    SAR_ALFRESCO_ID          varchar(36),
    constraint XPKSUBJECT_ACCESS_REPORT
        primary key (SUBJECT_ACCESS_REPORT_ID),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint GENERATION_STATUS_5523247
        check (GENERATION_STATUS in (
                                     'G', 'C', 'F', 'A'
            ))
);
create table ORGANISATION_OFFENDER
(
    OFFENDER_ID          number not null,
    PROBATION_AREA_ID    number not null,
    PARTITION_AREA_ID    number,
    ROW_VERSION          number not null default 0,
    TRAINING_SESSION_ID  number,
    EXTERNAL_PROVIDER_ID number,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (EXTERNAL_PROVIDER_ID)
        references EXTERNAL_PROVIDER
);
create table DSS_SEARCH_REQUEST
(
    DSS_SEARCH_REQUEST_ID number not null,
    OFFENDER_ID           number not null,
    CRC_SEARCH_ID         number,
    CRN                   char(7),
    DSS_SEARCH_NIL        char,
    DSS_SEARCH_COUNT      number,
    DSS_SEARCH_EXCESS     char,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    constraint XPKDSS_SEARCH_REQUEST
        primary key (DSS_SEARCH_REQUEST_ID),
    constraint R_1117
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint YES_OR_NO_ONLY_1869786070
        check (DSS_SEARCH_NIL in (
                                  'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_758402564
        check (DSS_SEARCH_EXCESS in (
                                     'Y', 'N'
            ))
);
create table PROVIDER_LAO
(
    PROVIDER_LAO_ID              number not null,
    OFFENDER_ID                  number not null,
    PROBATION_AREA_ID            number not null,
    RESTRICTION_TEXT             varchar(4000),
    EXCLUSION_TEXT               varchar(4000),
    CREATED_BY_USER_ID           number not null,
    CREATED_DATETIME             date   not null,
    LAST_UPDATED_USER_ID         number not null,
    LAST_UPDATED_DATETIME        date   not null,
    RESTRICTION_UPDATED_USER_ID  number,
    RESTRICTION_UPDATED_DATETIME date,
    EXCLUSION_UPDATED_USER_ID    number,
    EXCLUSION_UPDATED_DATETIME   date,
    ROW_VERSION                  number not null default 0,
    SOFT_DELETED                 number not null,
    constraint XPKPROVIDER_LAO
        primary key (PROVIDER_LAO_ID),
    constraint R_1111
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1112
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint TRUE_OR_FALSE_1382361809
        check (SOFT_DELETED in (
                                0, 1
            ))
);
create table MANAGEMENT_TIER
(
    OFFENDER_ID           number not null,
    TIER_ID               number not null,
    DATE_CHANGED          date   not null,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null default 0,
    TIER_CHANGE_REASON_ID number not null,
    TRAINING_SESSION_ID   number,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    IOM_NOMINAL           char,
    SAFEGUARDING_ISSUE    char,
    VULNERABILITY_ISSUE   char,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (TIER_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE58
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (TIER_CHANGE_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint YES_OR_NO_ONLY_235092497
        check (IOM_NOMINAL in (
                               'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1888914895
        check (SAFEGUARDING_ISSUE in (
                                      'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_696137284
        check (VULNERABILITY_ISSUE in (
                                       'Y', 'N'
            )),
    constraint XPKMANAGEMENT_TIER
        primary key (OFFENDER_ID, TIER_ID, DATE_CHANGED)
);
create table MASTER_TRANSFER
(
    MASTER_TRANSFER_ID    number not null,
    OFFENDER_ID           number not null,
    TRANSFER_DATE         date   not null,
    TRANSFER_USER_ID      number not null,
    TRANSFER_STATUS_ID    number not null,
    TRANSFER_STATUS_DATE  date   not null,
    TARGET_PROVIDER_ID    number not null,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    constraint XPKMASTER_TRANSFER
        primary key (MASTER_TRANSFER_ID),
    constraint R_1063
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1064
        foreign key (TRANSFER_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1066
        foreign key (TARGET_PROVIDER_ID)
            references PROBATION_AREA
);
create table GDPR_OFF_IICSA_SEARCH
(
    GDPR_OFF_IICSA_SEARCH_ID number not null,
    OFFENDER_ID              number not null,
    DATE_SEARCHED            date   not null,
    constraint XPKGDPR_OFF_IICSA_SEARCH
        primary key (GDPR_OFF_IICSA_SEARCH_ID),
    constraint XAK1GDPR_OFF_IICSA_SEARCH
        unique (OFFENDER_ID),
    constraint R_1286
        foreign key (OFFENDER_ID)
            references OFFENDER
);
create table GDPR_OFFENDER_RETAINED
(
    GDPR_OFFENDER_RETAINED_ID number not null,
    OFFENDER_ID               number not null,
    GDPR_RETENTION_ID         number not null,
    DATE_FLAGGED              date   not null,
    constraint XPKGDPR_OFFENDER_RETAINED
        primary key (GDPR_OFFENDER_RETAINED_ID),
    constraint R_1282
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint XAK1GDPR_OFFENDER_RETAINED
        unique (OFFENDER_ID, GDPR_RETENTION_ID)
);
create table MERGE_OFFENDER_VALUES
(
    MERGE_OFFENDER_VALUES_ID number       not null,
    TARGET_OFFENDER_ID       number       not null,
    ORIGIN_OFFENDER_ID       number       not null,
    ATTRIBUTE                varchar(400) not null,
    OLD_VALUE_STRING         varchar(4000),
    NEW_VALUE_STRING         varchar(4000),
    OLD_VALUE_NUMBER         number,
    NEW_VALUE_NUMBER         number,
    OLD_VALUE_DATE           date,
    NEW_VALUE_DATE           date,
    TRAINING_SESSION_ID      number,
    constraint XPKMERGE_OFFENDER_VALUES
        primary key (MERGE_OFFENDER_VALUES_ID),
    constraint R_798
        foreign key (TARGET_OFFENDER_ID)
            references OFFENDER,
    constraint R_799
        foreign key (ORIGIN_OFFENDER_ID)
            references OFFENDER,
    constraint R_800
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION
);
create table MANAGEMENT_TIER_EVENT
(
    MANAGEMENT_TIER_EVENT_ID number not null,
    OFFENDER_ID              number not null,
    TIER_ID                  number not null,
    TIER_CHANGE_REASON_ID    number not null,
    CONTACT_TYPE_ID          number,
    IOM_NOMINAL              char,
    SAFEGUARDING_ISSUE       char,
    VULNERABILITY_ISSUE      char,
    ROW_VERSION              number not null default 0,
    CREATED_BY_USER_ID       number not null,
    CREATED_DATETIME         date   not null,
    LAST_UPDATED_USER_ID     number not null,
    LAST_UPDATED_DATETIME    date   not null,
    constraint XPKMANAGEMENT_TIER_EVENT
        primary key (MANAGEMENT_TIER_EVENT_ID),
    constraint R_1300
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1301
        foreign key (TIER_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1302
        foreign key (TIER_CHANGE_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1303
        foreign key (CONTACT_TYPE_ID)
            references R_CONTACT_TYPE,
    constraint YES_OR_NO_ONLY_1953215148
        check (IOM_NOMINAL in (
                               'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_201127496
        check (SAFEGUARDING_ISSUE in (
                                      'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1021985368
        check (VULNERABILITY_ISSUE in (
                                       'Y', 'N'
            ))
);
create table GDPR_OFF_ELIGIBLE_DELETION
(
    GDPR_OFF_ELIGIBLE_DELETION_ID number not null,
    OFFENDER_ID                   number not null,
    DATE_FLAGGED                  date   not null,
    constraint XPKGDPR_OFF_ELIGLIBLE_DELETION
        primary key (GDPR_OFF_ELIGIBLE_DELETION_ID),
    constraint XAK1GDPR_OFF_ELIGLIBLE_DELETIO
        unique (OFFENDER_ID),
    constraint R_1281
        foreign key (OFFENDER_ID)
            references OFFENDER
);
create table MERGE_DUPLICATES
(
    MERGE_DUPLICATES_ID number       not null,
    TABLE_NAME          varchar(150) not null,
    DUPLICATES          number       not null,
    TYPE_TABLE          varchar(150),
    TYPE_ID             number,
    TARGET_OFFENDER_ID  number       not null,
    ORIGIN_OFFENDER_ID  number       not null,
    TRAINING_SESSION_ID number,
    constraint XPKMERGE_DUPLICATES
        primary key (MERGE_DUPLICATES_ID),
    constraint R_791
        foreign key (TARGET_OFFENDER_ID)
            references OFFENDER,
    constraint R_792
        foreign key (ORIGIN_OFFENDER_ID)
            references OFFENDER,
    constraint R_793
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION
);
create table SPG_SEARCH_OFFENDER
(
    SPG_SEARCH_REQUEST_ID number not null,
    SPG_SEARCH_SEQUENCE   number not null,
    OFFENDER_ID           number not null,
    constraint R_1115
        foreign key (SPG_SEARCH_REQUEST_ID)
            references SPG_SEARCH_REQUEST,
    constraint R_1116
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint XPKSPG_SEARCH_OFFENDER
        primary key (SPG_SEARCH_REQUEST_ID, SPG_SEARCH_SEQUENCE, OFFENDER_ID)
);
create table GDPR_OFF_ELIGIBLE_SEARCH
(
    GDPR_OFF_ELIGIBLE_SEARCH_ID number not null,
    OFFENDER_ID                 number not null,
    DATE_SEARCHED               date   not null,
    constraint XPKGDPR_OFF_ELIGIBLE_SEARCH
        primary key (GDPR_OFF_ELIGIBLE_SEARCH_ID),
    constraint XAK1GDPR_OFF_ELIGIBLE_SEARCH
        unique (OFFENDER_ID),
    constraint R_1287
        foreign key (OFFENDER_ID)
            references OFFENDER
);
create table OFFENDER_PRISONER
(
    OFFENDER_ID         number      not null,
    PRISONER_NUMBER     varchar(10) not null,
    ROW_VERSION         number      not null default 0,
    TRAINING_SESSION_ID number,
    PARTITION_AREA_ID   number,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA
);
alter table OFFENDER_PRISONER
    add constraint XPKOFFENDER_PRISONER
        primary key (OFFENDER_ID, PRISONER_NUMBER);
create table SPG_VERSION_ENTRY
(
    SPG_VERSION_ENTRY_ID    number      not null,
    TABLE_NAME              varchar(30) not null,
    PRIMARY_KEY_ID          number      not null,
    SPG_VERSION             varchar(32) not null,
    ACTION_FLAG             char        not null,
    CURRENT_RECORD_FLAG     char,
    ROW_VERSION             number      not null default 0,
    CREATED_DATETIME        date,
    LAST_UPDATED_DATETIME   date,
    OFFENDER_ID             number      not null,
    BUSINESS_INTERACTION_ID number,
    SOURCE_TABLE_NAME       varchar(30) not null,
    SOURCE_ACTION_FLAG      char        not null,
    LAST_UPDATED_USER_ID    number(38)  not null,
    constraint XPKSPG_VERSION_ENTRY
        primary key (SPG_VERSION_ENTRY_ID),
    constraint ACTION_FLAG_285351159
        check (ACTION_FLAG in (
                               'I', 'U', 'D'
            )),
    constraint YES_OR_NO_ONLY_1393484548
        check (CURRENT_RECORD_FLAG in (
                                       'Y', 'N'
            )),
    constraint R_1053
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1062
        foreign key (BUSINESS_INTERACTION_ID)
            references BUSINESS_INTERACTION,
    constraint ACTION_FLAG_1535480727
        check (SOURCE_ACTION_FLAG in (
                                      'I', 'U', 'D'
            )),
    constraint XAK1SPG_VERSION_ENTRY
        unique (TABLE_NAME, PRIMARY_KEY_ID, CURRENT_RECORD_FLAG)
);
create table GDPR_OFFENDER_DUPLICATE
(
    GDPR_OFFENDER_DUPLICATE_ID number not null,
    OFFENDER_ID                number not null,
    DATE_FLAGGED               date   not null,
    constraint XPKGDPR_OFFENDER_DUPLICATE
        primary key (GDPR_OFFENDER_DUPLICATE_ID),
    constraint XAK1GDPR_OFFENDER_DUPLICATE
        unique (OFFENDER_ID),
    constraint R_1283
        foreign key (OFFENDER_ID)
            references OFFENDER
);
create table MERGE_HISTORY
(
    MERGE_HISTORY_ID    number       not null,
    TABLE_NAME          varchar(150) not null,
    UNIQUE_ID           number       not null,
    TARGET_OFFENDER_ID  number       not null,
    ORIGIN_OFFENDER_ID  number       not null,
    EXTRA_DATE_ID       date,
    EXTRA_NUMBER_ID     number,
    EXTRA_STRING_ID     varchar(400),
    TRAINING_SESSION_ID number,
    constraint XPKMERGE_HISTORY
        primary key (MERGE_HISTORY_ID),
    constraint R_795
        foreign key (TARGET_OFFENDER_ID)
            references OFFENDER,
    constraint R_796
        foreign key (ORIGIN_OFFENDER_ID)
            references OFFENDER,
    constraint R_797
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION
);
create table DYNAMIC_RSR_HISTORY
(
    DYNAMIC_RSR_HISTORY_ID number not null,
    OFFENDER_ID            number not null,
    DYNAMIC_RSR_SCORE      number(5, 2),
    REASON_FOR_CHANGE_ID   number not null,
    DATE_RECORDED          date,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    constraint XPKDYNAMIC_RSR_HISTORY
        primary key (DYNAMIC_RSR_HISTORY_ID),
    constraint R_1260
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1261
        foreign key (REASON_FOR_CHANGE_ID)
            references R_STANDARD_REFERENCE_LIST
);
create table CRC_INACTIVE_OFFENDER
(
    CRC_INACTIVE_OFFENDER_ID number not null,
    OFFENDER_ID              number not null,
    CRC_PROVIDER_ID          number not null,
    PROCESSED_FLAG           number not null default 0,
    PROCESSED_DATETIME       date,
    ROW_VERSION              number not null default 0,
    CREATED_BY_USER_ID       number not null,
    CREATED_DATETIME         date   not null default SYSDATE,
    LAST_UPDATED_USER_ID     number not null,
    LAST_UPDATED_DATETIME    date   not null default SYSDATE,
    constraint XPKCRC_INACTIVE_OFFENDER
        primary key (CRC_INACTIVE_OFFENDER_ID),
    constraint R_1244
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1245
        foreign key (CRC_PROVIDER_ID)
            references PROBATION_AREA,
    constraint TRUE_OR_FALSE_1885951589
        check (PROCESSED_FLAG in (
                                  0, 1
            ))
);
create table DPA_REPORT_OFFENDER
(
    DPA_REPORT_ID       number not null,
    OFFENDER_ID         number not null,
    PARTITION_AREA_ID   number not null,
    ROW_VERSION         number not null default 0,
    TRAINING_SESSION_ID number,
    foreign key (DPA_REPORT_ID)
        references DPA_REPORT,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKDPA_REPORT_OFFENDER
        primary key (DPA_REPORT_ID, OFFENDER_ID)
);
create table OFFENDER_MERGE_DETAILS
(
    OFFENDER_MERGE_DETAILS_ID number       not null,
    HIERARCHY_LEVEL           number       not null,
    PARENT_TABLE              varchar(30),
    TABLE_NAME                varchar(30)  not null,
    SOURCE_OFFENDER_ID        number       not null,
    TARGET_OFFENDER_ID        number       not null,
    SOURCE_PK_VALUE           varchar(100) not null,
    TARGET_PK_VALUE           varchar(100) not null,
    SOURCE_FK_VALUE           varchar(100),
    TARGET_FK_VALUE           varchar(100),
    DEBUG_NOTES               clob,
    constraint XPKOFFENDER_MERGE_DETAILS
        primary key (OFFENDER_MERGE_DETAILS_ID),
    constraint R_1308
        foreign key (SOURCE_OFFENDER_ID)
            references OFFENDER,
    constraint R_1309
        foreign key (TARGET_OFFENDER_ID)
            references OFFENDER,
    constraint XAK1OFFENDER_MERGE_DETAILS
        unique (TABLE_NAME, SOURCE_PK_VALUE, SOURCE_OFFENDER_ID),
    constraint XAK2OFFENDER_MERGE_DETAILS
        unique (TABLE_NAME, TARGET_PK_VALUE, SOURCE_OFFENDER_ID)
);
create table OFFENDER_MERGE_DETAILS_HIST
(
    OFFENDER_MERGE_DETAILS_HIST_ID number      not null,
    OFFENDER_MERGE_DETAILS_ID      number      not null,
    COLUMN_NAME                    varchar(30) not null,
    DATA_TYPE                      char,
    OLD_VALUE                      varchar(100),
    NEW_VALUE                      varchar(100),
    TABLE_PK_VALUE                 varchar(100),
    constraint XPKOFFENDER_MERGE_DETAILS_HIST
        primary key (OFFENDER_MERGE_DETAILS_HIST_ID),
    constraint R_1310
        foreign key (OFFENDER_MERGE_DETAILS_ID)
            references OFFENDER_MERGE_DETAILS,
    constraint DATA_TYPE_1533295261
        check (DATA_TYPE in (
                             'C', 'N', 'D'
            )),
    constraint XAK1OFFENDER_MERGE_DETAILS_HIS
        unique (OFFENDER_MERGE_DETAILS_ID, COLUMN_NAME, TABLE_PK_VALUE)
);
create table EVENT
(
    EVENT_ID                      number      not null,
    CONSECUTIVE_TO_EVENT_ID       number,
    CONCURRENT_WITH_EVENT_ID      number,
    OFFENDER_ID                   number      not null,
    EVENT_NUMBER                  varchar(10) not null,
    REFERRAL_DATE                 date        not null,
    NOTES                         clob,
    SOFT_DELETED                  number      not null,
    PARTITION_AREA_ID             number      not null,
    ROW_VERSION                   number      not null default 0,
    CREATED_BY_USER_ID            number      not null,
    CREATED_DATETIME              date        not null,
    LAST_UPDATED_USER_ID          number      not null,
    LAST_UPDATED_DATETIME         date        not null,
    TRAINING_SESSION_ID           number,
    ORGANISATIONS                 array,
    IN_BREACH                     number      not null,
    ACTIVE_FLAG                   number      not null,
    BREACH_END                    date,
    CPS_DATE                      date,
    CPS_DOCUMENT                  blob,
    CPS_DOCUMENT_NAME             varchar(200),
    FTC_COUNT                     number      not null default 0,
    PENDING_TRANSFER              number      not null,
    CONVICTION_DATE               date,
    FIRST_RELEASE_DATE            date,
    PSS_RQMNT_FLAG                number(22)  not null,
    CPS_LAST_UPDATED_USER_ID      number,
    CPS_LAST_UPDATED_AUTH_PROV_ID number,
    CPS_CREATED_PROVIDER_ID       number,
    CPS_CREATED_BY_USER_ID        number,
    CPS_CREATED_DATETIME          date,
    CPS_ALFRESCO_DOCUMENT_ID      varchar(36),
    CPS_SOFT_DELETED              number,
    COURT_ID                      number,
    constraint XPKEVENT
        primary key (EVENT_ID),
    constraint R_785
        foreign key (CONSECUTIVE_TO_EVENT_ID)
            references EVENT,
    constraint R_784
        foreign key (CONCURRENT_WITH_EVENT_ID)
            references EVENT,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint TRUE_OR_FALSE52
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE53
        check (IN_BREACH in (
                             0, 1
            )),
    constraint TRUE_OR_FALSE54
        check (ACTIVE_FLAG in (
                               0, 1
            )),
    constraint TRUE_OR_FALSE_1415501270
        check (PENDING_TRANSFER in (
                                    0, 1
            )),
    constraint TRUE_OR_FALSE_1988266100
        check (PSS_RQMNT_FLAG in (
                                  0, 1
            )),
    constraint R_1095
        foreign key (CPS_LAST_UPDATED_AUTH_PROV_ID)
            references PROBATION_AREA,
    constraint R_1096
        foreign key (CPS_CREATED_PROVIDER_ID)
            references PROBATION_AREA,
    constraint XAK1EVENT
        unique (CPS_ALFRESCO_DOCUMENT_ID),
    constraint TRUE_OR_FALSE_1617352144
        check (CPS_SOFT_DELETED in (
                                    0, 1
            )),
    constraint R_1234
        foreign key (COURT_ID)
            references COURT
);
create table OGRS_ASSESSMENT
(
    OGRS_ASSESSMENT_ID    number not null,
    ASSESSMENT_DATE       date   not null,
    EVENT_ID              number not null,
    OGRS2_SCORE           number,
    SOFT_DELETED          number not null,
    OGRS3_SCORE_1         number,
    PARTITION_AREA_ID     number not null,
    OGRS3_SCORE_2         number,
    ROW_VERSION           number not null default 0,
    TRAINING_SESSION_ID   number,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null default '1900-01-01',
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null default '1900-01-01',
    constraint XPKOGRS_ASSESSMENT
        primary key (OGRS_ASSESSMENT_ID),
    foreign key (EVENT_ID)
        references EVENT,
    constraint GREATER_THAN_010
        check (OGRS2_SCORE > 0),
    constraint TRUE_OR_FALSE70
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint GREATER_THAN_011
        check (OGRS3_SCORE_1 > 0),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint GREATER_THAN_012
        check (OGRS3_SCORE_2 > 0),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
alter table OGRS_ASSESSMENT
    add constraint XAK1OGRS_ASSESSMENT
        unique (EVENT_ID);
create table DATA_SCRIPT_MESSAGE
(
    DATA_SCRIPT_MESSAGE_ID    number       not null,
    DATA_SCRIPT_NAME          varchar(100) not null,
    CREATED_DATETIME          date         not null default SYSDATE,
    OFFENDER_ID               number       not null,
    EVENT_ID                  number,
    DISPOSAL_TERMINATION_DATE date,
    UNIQUE_ID                 number       not null,
    BUSINESS_INTERACTION_ID   number       not null,
    constraint XPKDATA_SCRIPT_MESSAGE
        primary key (DATA_SCRIPT_MESSAGE_ID),
    constraint R_1247
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1248
        foreign key (EVENT_ID)
            references EVENT,
    constraint R_1249
        foreign key (BUSINESS_INTERACTION_ID)
            references BUSINESS_INTERACTION
);
create table ADDITIONAL_OFFENCE
(
    ADDITIONAL_OFFENCE_ID number not null,
    OFFENCE_DATE          date,
    OFFENCE_COUNT         number,
    EVENT_ID              number not null,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    OFFENCE_ID            number not null,
    TRAINING_SESSION_ID   number,
    constraint XPKADDITIONAL_OFFENCE
        primary key (ADDITIONAL_OFFENCE_ID),
    foreign key (EVENT_ID)
        references EVENT,
    constraint TRUE_OR_FALSE37
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (OFFENCE_ID)
        references R_OFFENCE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1ADDITIONAL_OFFENCE
        unique (EVENT_ID, OFFENCE_ID, OFFENCE_DATE, ADDITIONAL_OFFENCE_ID)
);
create table SPG_DOCUMENT_REQUEST
(
    SPG_DOCUMENT_REQUEST_ID number not null,
    CRC_SEARCH_ID           number not null,
    OFFENDER_ID             number not null,
    EVENT_ID                number,
    SEARCH_COUNT            number,
    CREATED_BY_USER_ID      number not null,
    CREATED_DATETIME        date   not null,
    LAST_UPDATED_USER_ID    number not null,
    LAST_UPDATED_DATETIME   date   not null,
    TARGET_PROVIDER_ID      number,
    ROW_VERSION             number not null default 0,
    constraint XPKSPG_DOCUMENT_REQUEST
        primary key (SPG_DOCUMENT_REQUEST_ID),
    constraint R_1226
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1227
        foreign key (EVENT_ID)
            references EVENT,
    constraint R_1246
        foreign key (TARGET_PROVIDER_ID)
            references PROBATION_AREA
);
create table DRUGS_TEST
(
    DRUGS_TEST_ID         number not null,
    DATE_OF_TEST          date   not null,
    TESTED_BY             varchar(107),
    OFFENDER_COMPLIANCE   char,
    SOFT_DELETED          number not null,
    NOTES                 clob,
    PARTITION_AREA_ID     number not null,
    CREATED_BY_USER_ID    number not null,
    ROW_VERSION           number not null default 0,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    OFFENDER_ID           number not null,
    EVENT_ID              number not null,
    ORGANISATIONS         array,
    constraint XPKDRUGS_TEST
        primary key (DRUGS_TEST_ID),
    constraint TRUE_OR_FALSE30
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (EVENT_ID)
        references EVENT
);
create table ADDITIONAL_SENTENCE
(
    ADDITIONAL_SENTENCE_ID      number not null,
    LENGTH                      number,
    AMOUNT                      number(16, 2),
    NOTES                       clob,
    EVENT_ID                    number not null,
    SOFT_DELETED                number not null,
    PARTITION_AREA_ID           number not null,
    ROW_VERSION                 number not null default 0,
    ADDITIONAL_SENTENCE_TYPE_ID number not null,
    CREATED_BY_USER_ID          number not null,
    CREATED_DATETIME            date   not null,
    LAST_UPDATED_USER_ID        number not null,
    LAST_UPDATED_DATETIME       date   not null,
    TRAINING_SESSION_ID         number,
    ORGANISATIONS               array,
    OFFENDER_ID                 number not null,
    constraint XPKADDITIONAL_SENTENCE
        primary key (ADDITIONAL_SENTENCE_ID),
    foreign key (EVENT_ID)
        references EVENT,
    constraint TRUE_OR_FALSE38
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (ADDITIONAL_SENTENCE_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER
);
create table OFFENDER_ADDRESS
(
    OFFENDER_ADDRESS_ID   number not null,
    START_DATE            date   not null,
    END_DATE              date,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null default 0,
    ADDRESS_STATUS_ID     number not null,
    NO_FIXED_ABODE        char,
    OFFENDER_ID           number not null,
    NOTES                 clob,
    ADDRESS_NUMBER        varchar(35),
    STREET_NAME           varchar(35),
    DISTRICT              varchar(35),
    TOWN_CITY             varchar(35),
    CREATED_DATETIME      date   not null,
    COUNTY                varchar(35),
    LAST_UPDATED_DATETIME date   not null,
    BUILDING_NAME         varchar(35),
    POSTCODE              varchar(35),
    CREATED_BY_USER_ID    number not null,
    TELEPHONE_NUMBER      varchar(35),
    LAST_UPDATED_USER_ID  number not null,
    TRAINING_SESSION_ID   number,
    ORGANISATIONS         array,
    AWAITING_ASSESSMENT   number          default 0,
    constraint XPKOFFENDER_ADDRESS
        primary key (OFFENDER_ADDRESS_ID),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE20
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (ADDRESS_STATUS_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY9
        check (NO_FIXED_ABODE in (
                                  'Y', 'N'
            )),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE_1316444769
        check (AWAITING_ASSESSMENT in (
                                       0, 1
            )),
    constraint OFFENDER_ADDRESS_START_LT_END
        check ((
                START_DATE <= END_DATE
                or END_DATE is null
            ))
);
create table PERSONAL_CIRCUMSTANCE
(
    PERSONAL_CIRCUMSTANCE_ID number not null,
    OFFENDER_ID              number not null,
    START_DATE               date   not null,
    END_DATE                 date,
    SOFT_DELETED             number not null,
    ROW_VERSION              number not null default 0,
    PARTITION_AREA_ID        number not null,
    CREATED_BY_USER_ID       number not null,
    LAST_UPDATED_USER_ID     number not null,
    TRAINING_SESSION_ID      number,
    CREATED_DATETIME         date   not null,
    LAST_UPDATED_DATETIME    date   not null,
    CIRCUMSTANCE_TYPE_ID     number not null,
    CIRCUMSTANCE_SUB_TYPE_ID number not null,
    NOTES                    clob,
    EVIDENCED                char,
    QUALIFICATION_1_ID       number(38),
    QUALIFICATION_2_ID       number(38),
    QUALIFICATION_3_ID       number(38),
    OFFENDER_ADDRESS_ID      number          default null,
    PROBATION_AREA_ID        number,
    constraint XPKPERSONAL_CIRCUMSTANCE
        primary key (PERSONAL_CIRCUMSTANCE_ID),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint TRUE_OR_FALSE71
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (CIRCUMSTANCE_TYPE_ID)
        references R_CIRCUMSTANCE_TYPE,
    foreign key (CIRCUMSTANCE_SUB_TYPE_ID)
        references R_CIRCUMSTANCE_SUB_TYPE,
    constraint YES_OR_NO_ONLY_1731748197
        check (EVIDENCED in (
                             'Y', 'N'
            )),
    constraint R_1172
        foreign key (QUALIFICATION_1_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1173
        foreign key (QUALIFICATION_2_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1174
        foreign key (QUALIFICATION_3_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1213
        foreign key (OFFENDER_ADDRESS_ID)
            references OFFENDER_ADDRESS,
    constraint XAK1PERSONAL_CIRCUMSTANCE
        unique (OFFENDER_ID, START_DATE, END_DATE, PERSONAL_CIRCUMSTANCE_ID)
);
create table DISABILITY
(
    DISABILITY_ID         number not null,
    OFFENDER_ID           number not null,
    START_DATE            date   not null,
    FINISH_DATE           date,
    NOTES                 clob,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    DISABILITY_TYPE_ID    number not null,
    TRAINING_SESSION_ID   number,
    ORGANISATIONS         array,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    constraint XPKDISABILITY
        primary key (DISABILITY_ID),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (DISABILITY_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1DISABILITY
        unique (OFFENDER_ID, DISABILITY_TYPE_ID, FINISH_DATE, DISABILITY_ID)
);
create table PROVISION
(
    PROVISION_ID          number not null,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    START_DATE            date   not null,
    FINISH_DATE           date,
    NOTES                 clob,
    ROW_VERSION           number not null default 0,
    DISABILITY_ID         number not null,
    PROVISION_TYPE_ID     number not null,
    TRAINING_SESSION_ID   number,
    OFFENDER_ID           number not null,
    ORGANISATIONS         array,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    PROVIDER_ID           number(38),
    PROBATION_AREA_ID     number(38),
    constraint XPKPROVISION
        primary key (PROVISION_ID),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (DISABILITY_ID)
        references DISABILITY,
    foreign key (PROVISION_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER
);
create table PERSONAL_CONTACT
(
    PERSONAL_CONTACT_ID   number       not null,
    OFFENDER_ID           number       not null,
    RELATIONSHIP          varchar(500) not null,
    START_DATE            date,
    END_DATE              date,
    ADDRESS_ID            number,
    PARTITION_AREA_ID     number       not null,
    FIRST_NAME            varchar(35)  not null,
    OTHER_NAMES           varchar(35),
    SURNAME               varchar(35)  not null,
    PREVIOUS_SURNAME      varchar(35),
    MOBILE_NUMBER         varchar(35),
    EMAIL_ADDRESS         varchar(255),
    SOFT_DELETED          number       not null,
    ROW_VERSION           number       not null default 0,
    GENDER_ID             number,
    NOTES                 clob,
    TITLE_ID              number,
    RELATIONSHIP_TYPE_ID  number       not null,
    CREATED_BY_USER_ID    number       not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID  number       not null,
    LAST_UPDATED_DATETIME date         not null,
    TRAINING_SESSION_ID   number,
    ORGANISATIONS         array,
    constraint XPKPERSONAL_CONTACT
        primary key (PERSONAL_CONTACT_ID),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (ADDRESS_ID)
        references ADDRESS,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE72
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (GENDER_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TITLE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (RELATIONSHIP_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table MAIN_OFFENCE
(
    MAIN_OFFENCE_ID       number     not null,
    OFFENCE_DATE          date       not null,
    OFFENCE_COUNT         number     not null,
    EVENT_ID              number     not null,
    TICS                  number,
    VERDICT               varchar(1),
    SOFT_DELETED          number     not null,
    PARTITION_AREA_ID     number     not null,
    ROW_VERSION           number     not null default 0,
    OFFENCE_ID            number     not null,
    TRAINING_SESSION_ID   number,
    OFFENDER_ID           number     not null,
    ORGANISATIONS         array,
    CREATED_BY_USER_ID    number(22) not null,
    CREATED_DATETIME      date       not null,
    LAST_UPDATED_USER_ID  number(22) not null,
    LAST_UPDATED_DATETIME date       not null,
    constraint XPKMAIN_OFFENCE
        primary key (MAIN_OFFENCE_ID),
    constraint GREATER_THAN_07
        check (OFFENCE_COUNT > 0),
    foreign key (EVENT_ID)
        references EVENT,
    constraint VERDICT
        check (VERDICT in (
                           'G', 'N', 'M'
            )),
    constraint TRUE_OR_FALSE57
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (OFFENCE_ID)
        references R_OFFENCE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint XAK1MAIN_OFFENCE
        unique (EVENT_ID, OFFENCE_ID, OFFENCE_DATE, MAIN_OFFENCE_ID)
);
create table DRUG_TEST_RESULT
(
    DRUG_TEST_RESULT_ID   number not null,
    DRUGS_TEST_ID         number not null,
    TESTED                char   not null,
    ADMITTED_USE          char,
    TEST_RESULT           varchar(50),
    QUANTITY_USED         number,
    INJECTED              char,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    DRUG_TYPE_ID          number not null,
    AGREED                char,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    OFFENDER_ID           number not null,
    ORGANISATIONS         array,
    constraint XPKDRUG_TEST_RESULT
        primary key (DRUG_TEST_RESULT_ID),
    foreign key (DRUGS_TEST_ID)
        references DRUGS_TEST,
    constraint YES_OR_NO_ONLY24
        check (TESTED in (
                          'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY25
        check (ADMITTED_USE in (
                                'Y', 'N'
            )),
    constraint DRUG_RESULT
        check (TEST_RESULT in (
                               'Positive', 'Negative', 'Not Tested'
            )),
    constraint YES_OR_NO_OR_UNKNOWN5
        check (INJECTED in (
                            'N', 'Y', 'U'
            )),
    constraint TRUE_OR_FALSE31
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (DRUG_TYPE_ID)
        references R_DRUG_TYPE,
    constraint YES_OR_NO_407
        check (AGREED in (
                          'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER
);
create table DISPOSAL
(
    DISPOSAL_ID                    number not null,
    DISPOSAL_DATE                  date   not null,
    VALUE                          number(16, 2),
    LENGTH                         number,
    PUNISHMENT                     char,
    REDUCTION_OF_CRIME             char,
    REFORM_AND_REHABILITION        char,
    PUBLIC_PROTECTION              char,
    REPARATION                     char,
    RECOMMENDATION_NOT_STATED      char,
    TERMINATION_DATE               date,
    TERMINATION_NOTES              clob,
    EVENT_ID                       number not null,
    PARTITION_AREA_ID              number not null,
    SOFT_DELETED                   number not null,
    ROW_VERSION                    number not null default 0,
    LEVEL_OF_SERIOUSNESS_ID        number,
    DISPOSAL_TYPE_ID               number not null,
    CREATED_DATETIME               date   not null,
    CREATED_BY_USER_ID             number not null,
    LAST_UPDATED_DATETIME          date   not null,
    DISPOSAL_TERMINATION_REASON_ID number,
    LAST_UPDATED_USER_ID           number not null,
    TRAINING_SESSION_ID            number,
    LENGTH_2                       number,
    OFFENDER_ID                    number not null,
    ORGANISATIONS                  array,
    ACTIVE_FLAG                    number not null,
    UPW                            number not null,
    EFFECTIVE_LENGTH               number,
    LENGTH_IN_DAYS                 number,
    ENTRY_LENGTH_UNITS_ID          number,
    ENTRY_LENGTH_2_UNITS_ID        number,
    NOTIONAL_END_DATE              date,
    ENTRY_LENGTH                   number,
    USER_TERMINATION_DATE          date,
    ENTERED_NOTIONAL_END_DATE      date,
    constraint XPKDISPOSAL
        primary key (DISPOSAL_ID),
    constraint YES_OR_NO_ONLY
        check (PUNISHMENT in (
                              'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY1
        check (REDUCTION_OF_CRIME in (
                                      'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY2
        check (REFORM_AND_REHABILITION in (
                                           'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY3
        check (PUBLIC_PROTECTION in (
                                     'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY4
        check (REPARATION in (
                              'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY5
        check (RECOMMENDATION_NOT_STATED in (
                                             'Y', 'N'
            )),
    foreign key (EVENT_ID)
        references EVENT,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE9
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (LEVEL_OF_SERIOUSNESS_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (DISPOSAL_TYPE_ID)
        references R_DISPOSAL_TYPE,
    foreign key (DISPOSAL_TERMINATION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint TRUE_OR_FALSE10
        check (UPW in (
                       0, 1
            )),
    constraint R_1042
        foreign key (ENTRY_LENGTH_UNITS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1043
        foreign key (ENTRY_LENGTH_2_UNITS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint XAK1DISPOSAL
        unique (EVENT_ID, DISPOSAL_DATE, DISPOSAL_TYPE_ID, DISPOSAL_ID),
    constraint ACTIVE_FLAG_TERMINATION_DATE
        check ((
                (
                        ACTIVE_FLAG = 0
                        and TERMINATION_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and TERMINATION_DATE is null
                    )
            ))
);
create table LIC_CONDITION
(
    LIC_CONDITION_ID          number not null,
    DISPOSAL_ID               number not null,
    START_DATE                date   not null,
    LENGTH                    number,
    LIC_CONDITION_NOTES       clob,
    COMMENCEMENT_DATE         date,
    COMMENCEMENT_NOTES        clob,
    TERMINATION_DATE          date,
    TERMINATION_NOTES         clob,
    PARTITION_AREA_ID         number not null,
    SOFT_DELETED              number not null,
    EXPECTED_START_DATE       date,
    ROW_VERSION               number not null default 0,
    EXPECTED_END_DATE         date,
    LIC_COND_TYPE_SUB_CAT_ID  number,
    CREATED_DATETIME          date   not null,
    LAST_UPDATED_DATETIME     date   not null,
    INSTITUTION_ID            number,
    ESTABLISHMENT             char,
    CREATED_BY_USER_ID        number not null,
    LIC_COND_TYPE_MAIN_CAT_ID number,
    LAST_UPDATED_USER_ID      number not null,
    LIC_TERMINATION_REASON_ID number,
    TRAINING_SESSION_ID       number,
    OFFENDER_ID               number not null,
    ORGANISATIONS             array,
    ACTIVE_FLAG               number not null,
    PENDING_TRANSFER          number not null,
    ATTENDANCE_COUNT          number(22),
    constraint XPKLIC_CONDITION
        primary key (LIC_CONDITION_ID),
    foreign key (DISPOSAL_ID)
        references DISPOSAL,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE11
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (LIC_COND_TYPE_SUB_CAT_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY6
        check (ESTABLISHMENT in (
                                 'Y', 'N'
            )),
    foreign key (LIC_COND_TYPE_MAIN_CAT_ID)
        references R_LIC_COND_TYPE_MAIN_CAT,
    foreign key (LIC_TERMINATION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint TRUE_OR_FALSE_368876692
        check (PENDING_TRANSFER in (
                                    0, 1
            )),
    foreign key (INSTITUTION_ID, ESTABLISHMENT)
        references R_INSTITUTION,
    constraint ACTIVE_FLAG_TERMINATION_DATE1
        check ((
                (
                        ACTIVE_FLAG = 0
                        and TERMINATION_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and TERMINATION_DATE is null
                    )
            )),
    constraint LIC_CONDITION
        check ((
                TERMINATION_DATE >= COMMENCEMENT_DATE
                or COMMENCEMENT_DATE is null
            ))
);
create table RQMNT
(
    RQMNT_ID                       number not null,
    DISPOSAL_ID                    number not null,
    START_DATE                     date   not null,
    LENGTH                         number,
    RQMNT_NOTES                    clob,
    COMMENCEMENT_DATE              date,
    TERMINATION_DATE               date,
    PARTITION_AREA_ID              number not null,
    EXPECTED_START_DATE            date,
    SOFT_DELETED                   number not null,
    EXPECTED_END_DATE              date,
    ROW_VERSION                    number not null default 0,
    RQMNT_TYPE_SUB_CATEGORY_ID     number,
    CREATED_DATETIME               date   not null,
    LAST_UPDATED_DATETIME          date   not null,
    AD_RQMNT_TYPE_SUB_CATEGORY_ID  number,
    RQMNT_TYPE_MAIN_CATEGORY_ID    number,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID number,
    CREATED_BY_USER_ID             number not null,
    RQMNT_TERMINATION_REASON_ID    number,
    LAST_UPDATED_USER_ID           number not null,
    TRAINING_SESSION_ID            number,
    OFFENDER_ID                    number not null,
    ORGANISATIONS                  array,
    ACTIVE_FLAG                    number not null,
    PENDING_TRANSFER               number not null,
    ATTENDANCE_COUNT               number(22),
    RAR_COUNT                      number,
    constraint XPKRQMNT
        primary key (RQMNT_ID),
    foreign key (DISPOSAL_ID)
        references DISPOSAL,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE12
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (RQMNT_TYPE_SUB_CATEGORY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (AD_RQMNT_TYPE_SUB_CATEGORY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    foreign key (AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    foreign key (RQMNT_TERMINATION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint TRUE_OR_FALSE_1549722321
        check (PENDING_TRANSFER in (
                                    0, 1
            )),
    constraint ACTIVE_FLAG_TERMINATION_DATE2
        check ((
                (
                        ACTIVE_FLAG = 0
                        and TERMINATION_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and TERMINATION_DATE is null
                    )
            )),
    constraint REQUIREMENT_TYPE
        check ((
                (
                        RQMNT_TYPE_MAIN_CATEGORY_ID is null
                        and RQMNT_TYPE_SUB_CATEGORY_ID is null
                        and AD_RQMNT_TYPE_MAIN_CATEGORY_ID is not null
                    )
                or (
                        AD_RQMNT_TYPE_MAIN_CATEGORY_ID is null
                        and AD_RQMNT_TYPE_SUB_CATEGORY_ID is null
                        and RQMNT_TYPE_MAIN_CATEGORY_ID is not null
                    )
            ))
);
create table SPG_NOTIFICATION
(
    SPG_NOTIFICATION_ID         number not null,
    BUSINESS_INTERACTION_ID     number,
    OFFENDER_ID                 number,
    UNIQUE_ID                   number,
    DATE_CREATED                date,
    PROCESSED_FLAG              number not null default 0,
    PROCESSED_DATETIME          date,
    MESSAGE_ID                  varchar(200),
    ERROR_FLAG                  number not null default 0,
    ERROR_MESSAGE               clob,
    AQ_MESSAGE_ID               varchar(16),
    AQ_DATETIME                 date,
    CONTROL_REFERENCE           number,
    SENDER_IDENTITY_ID          number,
    RECEIVER_IDENTITY_ID        number,
    XML_MESSAGE                 CLOB,
    SPG_VERSION                 varchar(32),
    RECEIVER_CONTROL_REFERENCE  number,
    MESSAGE_DIRECTION           char   not null default 'O',
    PARENT_ENTITY_ID            number,
    SPG_MESSAGE_CONTEXT_ID      number,
    SPG_INTERCHANGE_STATUS_ID   number,
    ROW_VERSION                 number not null default 0,
    REGENERATED_NOTIFICATION_ID number,
    MT_COMPONENT_ID             number,
    MT_THREAD_ID                number,
    DATE_SUBMITTED              date,
    EXPORT_TO_FILE_FLAG         number not null default 0,
    DATA_SCRIPT_MESSAGE_ID      number,
    constraint XPKSPG_NOTIFICATION
        primary key (SPG_NOTIFICATION_ID),
    constraint R_1045
        foreign key (BUSINESS_INTERACTION_ID)
            references BUSINESS_INTERACTION,
    constraint R_1046
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint PROCESSED_FLAG_1079194201
        check (PROCESSED_FLAG in (
                                  0, 1, 2, 3, 4, 5
            )),
    constraint TRUE_OR_FALSE_1224137979
        check (ERROR_FLAG in (
                              0, 1
            )),
    constraint R_1047
        foreign key (SENDER_IDENTITY_ID)
            references PROBATION_AREA,
    constraint R_1048
        foreign key (RECEIVER_IDENTITY_ID)
            references PROBATION_AREA,
    constraint MESSAGE_DIRECTION_1934366784
        check (MESSAGE_DIRECTION in (
                                     'I', 'O'
            )),
    constraint R_1137
        foreign key (SPG_MESSAGE_CONTEXT_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1138
        foreign key (SPG_INTERCHANGE_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1231
        foreign key (REGENERATED_NOTIFICATION_ID)
            references SPG_NOTIFICATION,
    constraint TRUE_OR_FALSE_1632058710
        check (EXPORT_TO_FILE_FLAG in (
                                       0, 1
            )),
    constraint R_1256
        foreign key (DATA_SCRIPT_MESSAGE_ID)
            references DATA_SCRIPT_MESSAGE
);
create table OFFENDER_CRC_EXPORT
(
    OFFENDER_CRC_EXPORT_ID number not null,
    OFFENDER_ID            number not null,
    CRC_PROVIDER_ID        number not null,
    EXPORT_DATE            date   not null,
    ROW_VERSION            number not null default 0,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    REQUESTED_EXPORT_LEVEL number,
    ERROR_FLAG             number          default 0,
    SUBMITTED_DATETIME     date,
    PROCESSED_DATETIME     date,
    ERROR_MESSAGE          varchar(4000),
    SPG_NOTIFICATION_ID    number(38),
    CURRENT_RECORD_FLAG    varchar(1),
    BATCH_FLAG             number not null default 1,
    constraint XPKOFFENDER_CRC_EXPORT
        primary key (OFFENDER_CRC_EXPORT_ID),
    constraint R_1088
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1089
        foreign key (CRC_PROVIDER_ID)
            references PROBATION_AREA,
    constraint REQUESTED_EXPORT_LE_2133375239
        check (REQUESTED_EXPORT_LEVEL in (
                                          1, 3
            )),
    constraint TRUE_OR_FALSE_150510653
        check (ERROR_FLAG in (
                              0, 1
            )),
    constraint R_1169
        foreign key (SPG_NOTIFICATION_ID)
            references SPG_NOTIFICATION,
    constraint CURRENT_RECORD_FLAG_1028330410
        check (CURRENT_RECORD_FLAG in (
                                       'Y', 'X'
            )),
    constraint TRUE_OR_FALSE_51672258
        check (BATCH_FLAG in (
                              0, 1
            ))
);
create table SPG_ERROR_CLEAR_REQUEST
(
    SPG_ERROR_CLEAR_REQUEST_ID number not null,
    SPG_NOTIFICATION_ID        number not null,
    PROCESSED_FLAG             number not null default 0,
    PROCESSED_DATETIME         date,
    ROW_VERSION                number not null default 0,
    CREATED_BY_USER_ID         number not null,
    CREATED_DATETIME           date   not null default SYSDATE,
    LAST_UPDATED_USER_ID       number not null,
    LAST_UPDATED_DATETIME      date   not null default SYSDATE,
    constraint XPKSPG_ERROR_CLEAR_REQUEST
        primary key (SPG_ERROR_CLEAR_REQUEST_ID),
    constraint R_1233
        foreign key (SPG_NOTIFICATION_ID)
            references SPG_NOTIFICATION,
    constraint TRUE_OR_FALSE_1933636605
        check (PROCESSED_FLAG in (
                                  0, 1
            ))
);
create table GDPR_OFFENDER_FREE_TEXT
(
    GDPR_OFFENDER_FREE_TEXT_ID number       not null,
    OFFENDER_ID                number       not null,
    TABLE_NAME                 varchar(30)  not null,
    TABLE_UNIQUE_KEY           varchar(100) not null,
    COLUMN_NAME                varchar(30)  not null,
    COLUMN_VALUE               clob,
    ROW_VERSION                number       not null default 0,
    CREATED_BY_USER_ID         number       not null,
    CREATED_DATETIME           date         not null,
    LAST_UPDATED_USER_ID       number       not null,
    LAST_UPDATED_DATETIME      date         not null,
    constraint XPKGDPR_OFFENDER_FREE_TEXT
        primary key (GDPR_OFFENDER_FREE_TEXT_ID),
    constraint R_1284
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint XAK1GDPR_OFFENDER_FREE_TEXT
        unique (OFFENDER_ID, TABLE_NAME, TABLE_UNIQUE_KEY, COLUMN_NAME)
);
create table ADDITIONAL_IDENTIFIER
(
    ADDITIONAL_IDENTIFIER_ID number      not null,
    IDENTIFIER               varchar(30) not null,
    OFFENDER_ID              number      not null,
    SOFT_DELETED             number      not null,
    PARTITION_AREA_ID        number,
    ROW_VERSION              number      not null default 0,
    IDENTIFIER_NAME_ID       number      not null,
    TRAINING_SESSION_ID      number,
    ORGANISATIONS            array,
    CREATED_BY_USER_ID       number(22)  not null,
    CREATED_DATETIME         date        not null,
    LAST_UPDATED_USER_ID     number(22)  not null,
    LAST_UPDATED_DATETIME    date        not null,
    constraint XPKADDITIONAL_IDENTIFIER
        primary key (ADDITIONAL_IDENTIFIER_ID),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint TRUE_OR_FALSE68
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (IDENTIFIER_NAME_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1ADDITIONAL_IDENTIFIER
        unique (IDENTIFIER, IDENTIFIER_NAME_ID, OFFENDER_ID, TRAINING_SESSION_ID, ADDITIONAL_IDENTIFIER_ID)
);
create table NSI
(
    NSI_ID                    number not null,
    OFFENDER_ID               number not null,
    EVENT_ID                  number,
    NSI_TYPE_ID               number not null,
    NSI_SUB_TYPE_ID           number,
    LENGTH                    number,
    REFERRAL_DATE             date   not null,
    EXPECTED_START_DATE       date,
    ACTUAL_START_DATE         date,
    EXPECTED_END_DATE         date,
    ACTUAL_END_DATE           date,
    NSI_STATUS_ID             number not null,
    NSI_STATUS_DATE           date   not null,
    NSI_NEXT_STATUS_DATE      date,
    NOTES                     clob,
    NSI_OUTCOME_ID            number,
    SOFT_DELETED              number not null,
    CREATED_BY_USER_ID        number not null,
    CREATED_DATETIME          date   not null,
    LAST_UPDATED_USER_ID      number not null,
    LAST_UPDATED_DATETIME     date   not null,
    ACTIVE_FLAG               number not null,
    ROW_VERSION               number not null default 0,
    ORGANISATIONS             array,
    PENDING_TRANSFER          number not null,
    TRAINING_SESSION_ID       number,
    ATTENDANCE_COUNT          number(22),
    RQMNT_ID                  number,
    RAR_COUNT                 number,
    DOCUMENT_LINKED           char,
    INTENDED_PROVIDER_ID      number(38),
    ADDITIONAL_IDENTIFIER1_ID number,
    ADDITIONAL_IDENTIFIER2_ID number,
    constraint XPKNSI
        primary key (NSI_ID),
    constraint R_802
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_803
        foreign key (EVENT_ID)
            references EVENT,
    constraint R_820
        foreign key (NSI_TYPE_ID)
            references R_NSI_TYPE,
    constraint R_821
        foreign key (NSI_SUB_TYPE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_822
        foreign key (NSI_STATUS_ID)
            references R_NSI_STATUS,
    constraint R_823
        foreign key (NSI_OUTCOME_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint TRUE_OR_FALSE_421013047
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint TRUE_OR_FALSE_1566803328
        check (PENDING_TRANSFER in (
                                    0, 1
            )),
    constraint R_824
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint R_1039
        foreign key (RQMNT_ID)
            references RQMNT,
    constraint YES_OR_NO_ONLY_1986954636
        check (DOCUMENT_LINKED in (
                                   'Y', 'N'
            )),
    constraint R_1090
        foreign key (INTENDED_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_1254
        foreign key (ADDITIONAL_IDENTIFIER1_ID)
            references ADDITIONAL_IDENTIFIER,
    constraint R_1255
        foreign key (ADDITIONAL_IDENTIFIER2_ID)
            references ADDITIONAL_IDENTIFIER,
    constraint ACTIVE_FLAG_ACTUAL_E_385237158
        check ((
                (
                        ACTIVE_FLAG = 0
                        and ACTUAL_END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and ACTUAL_END_DATE is null
                    )
            ))
);
create table NSI_STATUS_HISTORY
(
    NSI_STATUS_HISTORY_ID number not null,
    NSI_ID                number not null,
    NSI_STATUS_ID         number not null,
    NSI_STATUS_DATE       date   not null,
    NOTES                 clob,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    constraint XPKNSI_STATUS_HISTORY
        primary key (NSI_STATUS_HISTORY_ID),
    constraint R_1312
        foreign key (NSI_ID)
            references NSI,
    constraint R_1313
        foreign key (NSI_STATUS_ID)
            references R_NSI_STATUS,
    constraint TRUE_OR_FALSE_374834293
        check (SOFT_DELETED in (
                                0, 1
            ))
);
create table DMS_DOCUMENT
(
    DMS_DOCUMENT_ID           number(22)  not null,
    DMS_OFFENDER_ID           number(22)  not null,
    SOURCE_TABLE              varchar(32) not null,
    SOURCE_TABLE_KEY          number(22)  not null,
    DOCUMENT_LOCKED           varchar(1)  not null default 'N',
    DOCUMENT_CHECKED_OUT      varchar(1)  not null default 'N',
    DOCUMENT_CREATED          number      not null default 0,
    DOCUMENT_CREATE_DATETIME  date,
    DOCUMENT_CREATE_STATUS_ID number(22)  not null default 0,
    API_RESPONSE              clob,
    API_RETURN                clob,
    CREATED_DATETIME          date        not null,
    CREATED_USER              varchar(30) not null,
    LAST_UPDATED_DATETIME     date        not null,
    LAST_UPDATED_USER         varchar(30) not null,
    ROW_VERSION               number      not null default 0,
    constraint DMS_DOCUMENT_PK
        primary key (DMS_DOCUMENT_ID),
    constraint DMS_DOCUMENT_DMS_OFFENDER_FK
        foreign key (DMS_OFFENDER_ID)
            references DMS_OFFENDER,
    constraint DMS_DOCUMENT_DMS_STATUS_FK
        foreign key (DOCUMENT_CREATE_STATUS_ID)
            references DMS_STATUS
);
comment on table DMS_DOCUMENT is 'DMS_DOCUMENT
==========
This table stores the documents associated to an offender and the status of the migration ';
comment on column DMS_DOCUMENT.DMS_DOCUMENT_ID is 'Primary Key';
comment on column DMS_DOCUMENT.DMS_OFFENDER_ID is 'Link to DMS_OFFENDER';
comment on column DMS_DOCUMENT.SOURCE_TABLE is 'Source table for document BLOB';
comment on column DMS_DOCUMENT.SOURCE_TABLE_KEY is 'Link to primary key of source table';
comment on column DMS_DOCUMENT.DOCUMENT_LOCKED is 'Flag to indicate locked status of document';
comment on column DMS_DOCUMENT.DOCUMENT_CHECKED_OUT is 'Flag to indicate checked out status of document';
comment on column DMS_DOCUMENT.DOCUMENT_CREATE_DATETIME is 'Date document created in Alfresco';
comment on column DMS_DOCUMENT.DOCUMENT_CREATE_STATUS_ID is 'Status od document creation';
comment on column DMS_DOCUMENT.API_RESPONSE is 'The respose from the call to the Alfresco API when uploading the document';
comment on column DMS_DOCUMENT.API_RETURN is 'The return payload from the Alfresco API when uploading the document';
comment on column DMS_DOCUMENT.CREATED_DATETIME is 'Creation date for row';
comment on column DMS_DOCUMENT.CREATED_USER is 'Creation user for row';
comment on column DMS_DOCUMENT.LAST_UPDATED_DATETIME is 'Last updated date for row';
comment on column DMS_DOCUMENT.LAST_UPDATED_USER is 'Last updated user for row';
comment on column DMS_DOCUMENT.ROW_VERSION is 'Incremental row verison';
create table AQ$_DOC_MIGRATION_QUEUE_TAB_S
(
    SUBSCRIBER_ID         number      not null,
    QUEUE_NAME            varchar(30) not null,
    NAME                  varchar(30),
    ADDRESS               varchar(1024),
    PROTOCOL              number,
    SUBSCRIBER_TYPE       number,
    RULE_NAME             varchar(30),
    TRANS_NAME            varchar(65),
    RULESET_NAME          varchar(261),
    NEGATIVE_RULESET_NAME varchar(65),
    CREATION_TIME         timestamp(6) with time zone,
    MODIFICATION_TIME     timestamp(6) with time zone,
    DELETION_TIME         timestamp(6) with time zone,
    SCN_AT_REMOVE         number,
    SCN_AT_ADD            number,
    primary key (SUBSCRIBER_ID)
);
create table CUSTODY
(
    CUSTODY_ID            number not null,
    DISPOSAL_ID           number not null,
    STATUS_CHANGE_DATE    date   not null,
    PRISONER_NUMBER       varchar(10),
    PAROLE_NUMBER         varchar(10),
    LOCATION_CHANGE_DATE  date,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    CUSTODIAL_STATUS_ID   number not null,
    PC_TELEPHONE_NUMBER   varchar(35),
    PRISON_OFFICER        varchar(200),
    PROBATION_CONTACT     varchar(200),
    PO_TELEPHONE_NUMBER   varchar(35),
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    INSTITUTION_ID        number,
    CREATED_BY_USER_ID    number not null,
    ESTABLISHMENT         char,
    LAST_UPDATED_USER_ID  number not null,
    TRAINING_SESSION_ID   number,
    OFFENDER_ID           number not null,
    ORGANISATIONS         array,
    PSS_START_DATE        date,
    constraint XPKCUSTODY
        primary key (CUSTODY_ID),
    foreign key (DISPOSAL_ID)
        references DISPOSAL,
    constraint TRUE_OR_FALSE19
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (CUSTODIAL_STATUS_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint CUSTODIAL_ESTABLISHMENT_ON_CUS
        check (ESTABLISHMENT = 'Y'),
    constraint YES_OR_NO_ONLY8
        check (ESTABLISHMENT in (
                                 'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (INSTITUTION_ID, ESTABLISHMENT)
        references R_INSTITUTION
);
create table CUSTODY_HISTORY
(
    CUSTODY_HISTORY_ID    number not null,
    CUSTODY_EVENT_TYPE_ID number not null,
    DETAIL                varchar(4000),
    CUSTODY_ID            number not null,
    OFFENDER_ID           number not null,
    HISTORICAL_DATE       date   not null,
    ROW_VERSION           number not null default 0,
    PARTITION_AREA_ID     number not null,
    TRAINING_SESSION_ID   number,
    constraint XPKCUSTODY_HISTORY
        primary key (CUSTODY_HISTORY_ID),
    constraint R_788
        foreign key (CUSTODY_EVENT_TYPE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_789
        foreign key (CUSTODY_ID)
            references CUSTODY,
    constraint R_790
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_801
        foreign key (PARTITION_AREA_ID)
            references PARTITION_AREA,
    constraint R_794
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION
);
create table KEY_DATE
(
    CUSTODY_ID            number not null,
    KEY_DATE_TYPE_ID      number not null,
    KEY_DATE              date   not null,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null default 0,
    TRAINING_SESSION_ID   number,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    KEY_DATE_ID           number not null,
    foreign key (CUSTODY_ID)
        references CUSTODY,
    foreign key (KEY_DATE_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE56
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKKEY_DATE
        primary key (KEY_DATE_ID),
    constraint XAK1KEY_DATE
        unique (CUSTODY_ID, KEY_DATE_TYPE_ID, KEY_DATE)
);
create table PSS_RQMNT
(
    PSS_RQMNT_ID               number(22) not null,
    CUSTODY_ID                 number(22) not null,
    IMPOSED_DATE               date       not null,
    LENGTH                     number(22),
    PSS_RQMNT_NOTES            clob,
    COMMENCEMENT_DATE          date,
    COMMENCEMENT_NOTES         clob,
    TERMINATION_DATE           date,
    TERMINATION_NOTES          clob,
    SOFT_DELETED               number(22) not null,
    EXPECTED_START_DATE        date,
    EXPECTED_END_DATE          date,
    ROW_VERSION                number(22) not null default 0,
    PSS_RQMNT_TYPE_MAIN_CAT_ID number(22),
    PSS_RQMNT_TYPE_SUB_CAT_ID  number(22),
    PSS_RQMNT_TERM_REASON_ID   number(22),
    OFFENDER_ID                number(22) not null,
    ORGANISATIONS              array,
    ACTIVE_FLAG                number(22) not null,
    PENDING_TRANSFER           number(22) not null,
    CREATED_BY_USER_ID         number(22) not null,
    CREATED_DATETIME           date       not null,
    LAST_UPDATED_USER_ID       number(22) not null,
    LAST_UPDATED_DATETIME      date       not null,
    ATTENDANCE_COUNT           number(22),
    constraint XPKPSS_RQMNT
        primary key (PSS_RQMNT_ID),
    constraint R_938
        foreign key (CUSTODY_ID)
            references CUSTODY,
    constraint TRUE_OR_FALSE_1802687451
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint R_939
        foreign key (PSS_RQMNT_TYPE_MAIN_CAT_ID)
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    constraint R_940
        foreign key (PSS_RQMNT_TYPE_SUB_CAT_ID)
            references R_PSS_RQMNT_TYPE_SUB_CATEGORY,
    constraint R_941
        foreign key (PSS_RQMNT_TERM_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_942
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint TRUE_OR_FALSE_1801363653
        check (ACTIVE_FLAG in (
                               0, 1
            )),
    constraint TRUE_OR_FALSE_1346489564
        check (PENDING_TRANSFER in (
                                    0, 1
            )),
    constraint ACTIVE_FLAG_TERMINA_1282482389
        check ((
                (
                        ACTIVE_FLAG = 0
                        and TERMINATION_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and TERMINATION_DATE is null
                    )
            ))
);
create table RELEASE
(
    RELEASE_ID            number not null,
    ACTUAL_RELEASE_DATE   date   not null,
    NOTES                 clob,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null default 0,
    RELEASE_TYPE_ID       number not null,
    CUSTODY_ID            number not null,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    OFFENDER_ID           number not null,
    ORGANISATIONS         array,
    LENGTH                number,
    INSTITUTION_ID        number(38),
    ESTABLISHMENT         char,
    PROBATION_AREA_ID     number(38),
    constraint XPKRELEASE
        primary key (RELEASE_ID),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE76
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (RELEASE_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (CUSTODY_ID)
        references CUSTODY,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint R_1183
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA
);
create table HOST_AT_RELEASE
(
    HOST_AT_RELEASE_ID    number(38) not null,
    RELEASE_ID            number(38) not null,
    PROBATION_AREA_ID     number(38) not null,
    CREATED_BY_USER_ID    number(22) not null,
    CREATED_DATETIME      date       not null,
    LAST_UPDATED_USER_ID  number(22) not null,
    LAST_UPDATED_DATETIME date       not null,
    constraint XPKHOST_AT_RELEASE
        primary key (HOST_AT_RELEASE_ID),
    constraint R_1180
        foreign key (RELEASE_ID)
            references RELEASE,
    constraint R_1181
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA
);
create table RECALL
(
    RECALL_ID             number not null,
    RECALL_DATE           date   not null,
    NOTES                 clob,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    RECALL_REASON_ID      number not null,
    RELEASE_ID            number not null,
    OFFENDER_ID           number not null,
    ORGANISATIONS         array,
    constraint XPKRECALL
        primary key (RECALL_ID),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE74
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (RECALL_REASON_ID)
        references R_RECALL_REASON,
    foreign key (RELEASE_ID)
        references RELEASE,
    foreign key (OFFENDER_ID)
        references OFFENDER
);
create table INSTITUTIONAL_REPORT
(
    INSTITUTIONAL_REPORT_ID    number     not null,
    CUSTODY_ID                 number     not null,
    DATE_REQUESTED             date       not null,
    DATE_REQUIRED              date       not null,
    DATE_ALLOCATION            date,
    DATE_COMPLETED             date,
    VIDEO_LINK                 char,
    NOTES                      clob,
    SENT_TO_PRISON_DATE        date,
    SOFT_DELETED               number     not null,
    PARTITION_AREA_ID          number     not null,
    ROW_VERSION                number     not null default 0,
    INSTITUTION_REPORT_TYPE_ID number     not null,
    CREATED_DATETIME           date       not null,
    LAST_UPDATED_DATETIME      date       not null,
    INSTITUTION_ID             number     not null,
    CREATED_BY_USER_ID         number     not null,
    ESTABLISHMENT              char       not null,
    LAST_UPDATED_USER_ID       number     not null,
    TRAINING_SESSION_ID        number,
    OFFENDER_ID                number     not null,
    ORGANISATIONS              array,
    DATE_ABANDONED             date,
    DATE_SENT                  date,
    PENDING_TRANSFER           number(22) not null,
    constraint XPKINSTITUTIONAL_REPORT
        primary key (INSTITUTIONAL_REPORT_ID),
    foreign key (CUSTODY_ID)
        references CUSTODY,
    constraint TRUE_OR_FALSE55
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (INSTITUTION_REPORT_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY31
        check (ESTABLISHMENT in (
                                 'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint TRUE_OR_FALSE_1347698696
        check (PENDING_TRANSFER in (
                                    0, 1
            )),
    foreign key (INSTITUTION_ID, ESTABLISHMENT)
        references R_INSTITUTION
);
create table SC_PROVIDER
(
    SC_PROVIDER_ID        number       not null,
    CODE                  varchar(20)  not null,
    DESCRIPTION           varchar(200) not null,
    PROVIDER_ID           number       not null,
    CONTACT_NAME          varchar(200),
    ADDRESS_ID            number       not null,
    PRIVATE               number       not null,
    START_DATE            date         not null,
    END_DATE              date,
    ACTIVE_FLAG           number       not null,
    NOTES                 clob,
    ROW_VERSION           number       not null default 0,
    CREATED_BY_USER_ID    number       not null,
    CREATED_DATETIME      date         not null,
    LAST_UPDATED_USER_ID  number       not null,
    LAST_UPDATED_DATETIME date         not null,
    TRAINING_SESSION_ID   number,
    constraint XPKSC_PROVIDER
        primary key (SC_PROVIDER_ID),
    constraint R_888
        foreign key (PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_889
        foreign key (ADDRESS_ID)
            references ADDRESS,
    constraint TRUE_OR_FALSE_243555997
        check (PRIVATE in (
                           0, 1
            )),
    constraint R_890
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint ACTIVE_FLAG_END_DATE_121858971
        check ((
                (
                        ACTIVE_FLAG = 0
                        and END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and END_DATE is null
                    )
            ))
);
alter table TEAM
    add constraint R_893
        foreign key (SC_PROVIDER_ID)
            references SC_PROVIDER;
create table STAFF
(
    STAFF_ID              number      not null,
    START_DATE            date        not null,
    SURNAME               varchar(35) not null,
    END_DATE              date,
    FORENAME              varchar(35) not null,
    ROW_VERSION           number      not null default 0,
    FORENAME2             varchar(35),
    STAFF_GRADE_ID        number,
    TITLE_ID              number,
    OFFICER_CODE          char(7),
    CREATED_BY_USER_ID    number      not null,
    LAST_UPDATED_USER_ID  number      not null,
    CREATED_DATETIME      date        not null,
    LAST_UPDATED_DATETIME date        not null,
    TRAINING_SESSION_ID   number,
    PRIVATE               number      not null,
    SC_PROVIDER_ID        number,
    PROBATION_AREA_ID     number      not null,
    constraint XPKSTAFF
        primary key (STAFF_ID),
    foreign key (STAFF_GRADE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TITLE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE_925119186
        check (PRIVATE in (
                           0, 1
            )),
    constraint R_894
        foreign key (SC_PROVIDER_ID)
            references SC_PROVIDER,
    constraint R_917
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint XAK1STAFF
        unique (OFFICER_CODE, TRAINING_SESSION_ID, STAFF_ID),
    constraint PROVIDER_LOCATION_DATE_VALID7
        check ((
                START_DATE <= END_DATE
                or END_DATE is null
            ))
);
create table PRISON_OFFENDER_MANAGER
(
    PRISON_OFFENDER_MANAGER_ID number not null,
    OFFENDER_ID                number not null,
    PROBATION_AREA_ID          number not null,
    ALLOCATION_TEAM_ID         number not null,
    ALLOCATION_STAFF_ID        number not null,
    ALLOCATION_REASON_ID       number not null,
    TRANSFER_REASON_ID         number,
    ALLOCATION_DATE            date   not null,
    END_DATE                   date,
    ACTIVE_FLAG                number not null,
    SOFT_DELETED               number not null,
    ROW_VERSION                number not null default 0,
    CREATED_DATETIME           date   not null,
    CREATED_BY_USER_ID         number not null,
    LAST_UPDATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID       number not null,
    EMAIL_ADDRESS              varchar(255),
    TELEPHONE_NUMBER           varchar(35),
    constraint XPKPRISON_OFFENDER_MANAGER
        primary key (PRISON_OFFENDER_MANAGER_ID),
    constraint R_1197
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1198
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint R_1199
        foreign key (ALLOCATION_TEAM_ID)
            references TEAM,
    constraint R_1200
        foreign key (ALLOCATION_STAFF_ID)
            references STAFF,
    constraint R_1201
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1202
        foreign key (TRANSFER_REASON_ID)
            references R_TRANSFER_REASON,
    constraint TRUE_OR_FALSE_1484563887
        check (ACTIVE_FLAG in (
                               0, 1
            )),
    constraint TRUE_OR_FALSE_1988641336
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint ACTIVE_FLAG_END_DATE_15186317
        check ((
                (
                        ACTIVE_FLAG = 0
                        and END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and END_DATE is null
                    )
            )),
    constraint MANAGEMENT_VALID_DAT_945183357
        check (ALLOCATION_DATE <= nvl(END_DATE, ALLOCATION_DATE))
);
create table STAFF_TEAM
(
    STAFF_ID              number not null,
    TEAM_ID               number not null,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    foreign key (STAFF_ID)
        references STAFF,
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKSTAFF_TEAM
        primary key (STAFF_ID, TEAM_ID)
);
create table R_APPROVED_PREMISES_STAFF
(
    APPROVED_PREMISES_ID number not null,
    STAFF_ID             number not null,
    ROW_VERSION          number not null default 0,
    TRAINING_SESSION_ID  number,
    foreign key (APPROVED_PREMISES_ID)
        references R_APPROVED_PREMISES,
    foreign key (STAFF_ID)
        references STAFF,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKR_APPROVED_PREMISES_STAFF
        primary key (APPROVED_PREMISES_ID, STAFF_ID)
);
create table ORDER_TRANSFER
(
    ORDER_TRANSFER_ID              number not null,
    OFFENDER_ID                    number not null,
    EVENT_ID                       number not null,
    TRANSFER_STATUS_ID             number not null,
    REQUEST_DATE                   date,
    ACCEPTED_DECISION_ID           number,
    REJECTION_REASON_ID            number,
    ORIGIN_TEAM_ID                 number,
    ORIGIN_STAFF_ID                number,
    RECEIVING_TEAM_ID              number,
    RECEIVING_STAFF_ID             number,
    ORIGIN_PROVIDER_TEAM_ID        number,
    ORIGIN_PROVIDER_EMPLOYEE_ID    number,
    RECEIVING_PROVIDER_TEAM_ID     number,
    RECEIVING_PROVIDER_EMPLOYEE_ID number,
    ALLOCATION_REASON_ID           number,
    TRANSFER_REASON_ID             number not null,
    NOTES                          clob,
    SOFT_DELETED                   number not null,
    PARTITION_AREA_ID              number not null,
    ROW_VERSION                    number not null default 0,
    CREATED_BY_USER_ID             number not null,
    CREATED_DATETIME               date   not null,
    LAST_UPDATED_USER_ID           number not null,
    LAST_UPDATED_DATETIME          date   not null,
    ORGANISATIONS                  array,
    TRAINING_SESSION_ID            number,
    WITHDRAWAL_REASON_ID           number,
    TRANSFER_STATUS_DATE           date,
    MASTER_TRANSFER_ID             number,
    constraint XPKORDER_TRANSFER
        primary key (ORDER_TRANSFER_ID),
    constraint R_900
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_847
        foreign key (EVENT_ID)
            references EVENT,
    constraint R_848
        foreign key (TRANSFER_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_849
        foreign key (ACCEPTED_DECISION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_850
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_851
        foreign key (ORIGIN_TEAM_ID)
            references TEAM,
    constraint R_852
        foreign key (ORIGIN_STAFF_ID)
            references STAFF,
    constraint R_853
        foreign key (RECEIVING_TEAM_ID)
            references TEAM,
    constraint R_854
        foreign key (RECEIVING_STAFF_ID)
            references STAFF,
    constraint R_908
        foreign key (ORIGIN_PROVIDER_TEAM_ID)
            references PROVIDER_TEAM,
    constraint R_909
        foreign key (ORIGIN_PROVIDER_EMPLOYEE_ID)
            references PROVIDER_EMPLOYEE,
    constraint R_910
        foreign key (RECEIVING_PROVIDER_TEAM_ID)
            references PROVIDER_TEAM,
    constraint R_911
        foreign key (RECEIVING_PROVIDER_EMPLOYEE_ID)
            references PROVIDER_EMPLOYEE,
    constraint R_855
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_856
        foreign key (TRANSFER_REASON_ID)
            references R_TRANSFER_REASON,
    constraint TRUE_OR_FALSE_1460850910
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint R_857
        foreign key (PARTITION_AREA_ID)
            references PARTITION_AREA,
    constraint R_858
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint R_1055
        foreign key (WITHDRAWAL_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1081
        foreign key (MASTER_TRANSFER_ID)
            references MASTER_TRANSFER,
    constraint ORDER_TRANS_ORGIN_STAFF_XOR
        check ((
                (
                        ORIGIN_STAFF_ID is not null
                        and ORIGIN_PROVIDER_EMPLOYEE_ID is null
                    )
                or (
                        ORIGIN_STAFF_ID is null
                        and ORIGIN_PROVIDER_EMPLOYEE_ID is not null
                    )
            )),
    constraint ORDER_TRANS_ORGIN_TEAM_XOR
        check ((
                (
                        ORIGIN_TEAM_ID is not null
                        and ORIGIN_PROVIDER_TEAM_ID is null
                    )
                or (
                        ORIGIN_TEAM_ID is null
                        and ORIGIN_PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint ORDER_TRANS_REC_STAFF_XOR
        check ((
                (
                        RECEIVING_STAFF_ID is not null
                        and RECEIVING_PROVIDER_EMPLOYEE_ID is null
                    )
                or (
                        RECEIVING_STAFF_ID is null
                        and RECEIVING_PROVIDER_EMPLOYEE_ID is not null
                    )
            )),
    constraint ORDER_TRANS_REC_TEAM_XOR
        check ((
                (
                        RECEIVING_TEAM_ID is not null
                        and RECEIVING_PROVIDER_TEAM_ID is null
                    )
                or (
                        RECEIVING_TEAM_ID is null
                        and RECEIVING_PROVIDER_TEAM_ID is not null
                    )
            ))
);
create table ORDER_MANAGER
(
    ORDER_MANAGER_ID       number not null,
    ALLOCATION_DATE        date   not null,
    ALLOCATION_TEAM_ID     number,
    ALLOCATION_STAFF_ID    number,
    SOFT_DELETED           number not null,
    END_DATE               date,
    PARTITION_AREA_ID      number not null,
    ROW_VERSION            number not null default 0,
    EVENT_ID               number not null,
    ALLOCATION_REASON_ID   number not null,
    PROVIDER_EMPLOYEE_ID   number,
    CREATED_DATETIME       date   not null,
    CREATED_BY_USER_ID     number not null,
    LAST_UPDATED_DATETIME  date   not null,
    PROVIDER_TEAM_ID       number,
    LAST_UPDATED_USER_ID   number not null,
    TRANSFER_REASON_ID     number not null,
    TRAINING_SESSION_ID    number,
    TRUST_PROVIDER_FLAG    number not null,
    STAFF_EMPLOYEE_ID      number not null,
    TRUST_PROVIDER_TEAM_ID number not null,
    PROBATION_AREA_ID      number not null,
    ACTIVE_FLAG            number not null,
    ORDER_TRANSFER_ID      number,
    constraint XPKORDER_MANAGER
        primary key (ORDER_MANAGER_ID),
    foreign key (ALLOCATION_TEAM_ID)
        references TEAM,
    foreign key (ALLOCATION_STAFF_ID)
        references STAFF,
    constraint TRUE_OR_FALSE
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (EVENT_ID)
        references EVENT,
    foreign key (ALLOCATION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (TRANSFER_REASON_ID)
        references R_TRANSFER_REASON,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE2
        check (TRUST_PROVIDER_FLAG in (
                                       0, 1
            )),
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint R_897
        foreign key (ORDER_TRANSFER_ID)
            references ORDER_TRANSFER,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
        references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
        references ALL_TEAM,
    constraint ACTIVE_FLAG_END_DATE
        check ((
                (
                        ACTIVE_FLAG = 0
                        and END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and END_DATE is null
                    )
            )),
    constraint MANAGEMENT_VALID_DATES
        check (ALLOCATION_DATE <= nvl(END_DATE, ALLOCATION_DATE)),
    constraint ORDER_MANAGER_TEAM_XOR
        check ((
                (
                        ALLOCATION_TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        ALLOCATION_TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint ORDER_MANAGER_XOR
        check ((
                (
                        PROVIDER_EMPLOYEE_ID is not null
                        and ALLOCATION_STAFF_ID is null
                    )
                or (
                        PROVIDER_EMPLOYEE_ID is null
                        and ALLOCATION_STAFF_ID is not null
                    )
            )),
    constraint STAFF_OR_TEAM2
        check ((
                STAFF_EMPLOYEE_ID = ALLOCATION_STAFF_ID
                or STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            )),
    constraint TRUST_OR_PROVIDER2
        check ((
                TRUST_PROVIDER_TEAM_ID = ALLOCATION_TEAM_ID
                or TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ))
);
create table OFFENDER_TRANSFER
(
    OFFENDER_TRANSFER_ID           number not null,
    PARTITION_AREA_ID              number not null,
    SOFT_DELETED                   number not null,
    REQUEST_DATE                   date,
    ROW_VERSION                    number not null default 0,
    OFFENDER_ID                    number not null,
    TRANSFER_STATUS_ID             number not null,
    ACCEPTED_DECISION_ID           number,
    REJECTION_REASON_ID            number,
    NOTES                          clob,
    CREATED_DATETIME               date   not null,
    LAST_UPDATED_DATETIME          date   not null,
    TRANSFER_REASON_ID             number not null,
    ALLOCATION_REASON_ID           number,
    ORIGIN_TEAM_ID                 number,
    ORIGIN_STAFF_ID                number,
    ORIGIN_PROVIDER_EMPLOYEE_ID    number,
    ORIGIN_PROVIDER_TEAM_ID        number,
    RECEIVING_TEAM_ID              number,
    RECEIVING_STAFF_ID             number,
    RECEIVING_PROVIDER_EMPLOYEE_ID number,
    CREATED_BY_USER_ID             number not null,
    RECEIVING_PROVIDER_TEAM_ID     number,
    LAST_UPDATED_USER_ID           number not null,
    TRAINING_SESSION_ID            number,
    ORGANISATIONS                  array,
    WITHDRAWAL_REASON_ID           number,
    TRANSFER_STATUS_DATE           date,
    MASTER_TRANSFER_ID             number,
    constraint XPKOFFENDER_TRANSFER
        primary key (OFFENDER_TRANSFER_ID),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE24
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (TRANSFER_STATUS_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (ACCEPTED_DECISION_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (REJECTION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRANSFER_REASON_ID)
        references R_TRANSFER_REASON,
    foreign key (ALLOCATION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (ORIGIN_TEAM_ID)
        references TEAM,
    foreign key (ORIGIN_STAFF_ID)
        references STAFF,
    foreign key (ORIGIN_PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    foreign key (ORIGIN_PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (RECEIVING_TEAM_ID)
        references TEAM,
    foreign key (RECEIVING_STAFF_ID)
        references STAFF,
    foreign key (RECEIVING_PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    foreign key (RECEIVING_PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint R_1054
        foreign key (WITHDRAWAL_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1080
        foreign key (MASTER_TRANSFER_ID)
            references MASTER_TRANSFER,
    constraint OFFENDER_TRANS_ORGIN_STAFF_XO
        check ((
                (
                        ORIGIN_STAFF_ID is not null
                        and ORIGIN_PROVIDER_EMPLOYEE_ID is null
                    )
                or (
                        ORIGIN_STAFF_ID is null
                        and ORIGIN_PROVIDER_EMPLOYEE_ID is not null
                    )
            )),
    constraint OFFENDER_TRANS_ORGIN_TEAM_XOR
        check ((
                (
                        ORIGIN_TEAM_ID is not null
                        and ORIGIN_PROVIDER_TEAM_ID is null
                    )
                or (
                        ORIGIN_TEAM_ID is null
                        and ORIGIN_PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint OFFENDER_TRANS_REC_STAFF_XOR
        check ((
                (
                        RECEIVING_STAFF_ID is not null
                        and RECEIVING_PROVIDER_EMPLOYEE_ID is null
                    )
                or (
                        RECEIVING_STAFF_ID is null
                        and RECEIVING_PROVIDER_EMPLOYEE_ID is not null
                    )
            )),
    constraint OFFENDER_TRANS_REC_TEAM_XOR
        check ((
                (
                        RECEIVING_TEAM_ID is not null
                        and RECEIVING_PROVIDER_TEAM_ID is null
                    )
                or (
                        RECEIVING_TEAM_ID is null
                        and RECEIVING_PROVIDER_TEAM_ID is not null
                    )
            ))
);
create table OFFENDER_MANAGER
(
    OFFENDER_MANAGER_ID    number not null,
    ALLOCATION_DATE        date   not null,
    END_DATE               date,
    TEAM_ID                number,
    ALLOCATION_STAFF_ID    number,
    PARTITION_AREA_ID      number not null,
    OFFENDER_ID            number not null,
    SOFT_DELETED           number not null,
    ROW_VERSION            number not null default 0,
    ALLOCATION_REASON_ID   number not null,
    PROVIDER_EMPLOYEE_ID   number,
    OFFENDER_TRANSFER_ID   number,
    PROVIDER_TEAM_ID       number,
    TRAINING_SESSION_ID    number,
    TRUST_PROVIDER_FLAG    number not null,
    STAFF_EMPLOYEE_ID      number not null,
    PROBATION_AREA_ID      number not null,
    TRUST_PROVIDER_TEAM_ID number not null,
    ACTIVE_FLAG            number not null,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    constraint XPKOFFENDER_MANAGER
        primary key (OFFENDER_MANAGER_ID),
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (ALLOCATION_STAFF_ID)
        references STAFF,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint TRUE_OR_FALSE47
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (ALLOCATION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    foreign key (OFFENDER_TRANSFER_ID)
        references OFFENDER_TRANSFER,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE49
        check (TRUST_PROVIDER_FLAG in (
                                       0, 1
            )),
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
        references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
        references ALL_TEAM,
    constraint ACTIVE_FLAG_END_DATE4
        check ((
                (
                        ACTIVE_FLAG = 0
                        and END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and END_DATE is null
                    )
            )),
    constraint OFFENDER_MANAGER_TEAM_XOR5
        check ((
                (
                        TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint OFFENDER_MANAGER_XOR
        check ((
                (
                        PROVIDER_EMPLOYEE_ID is not null
                        and ALLOCATION_STAFF_ID is null
                    )
                or (
                        PROVIDER_EMPLOYEE_ID is null
                        and ALLOCATION_STAFF_ID is not null
                    )
            )),
    constraint STAFF_OR_TEAM21
        check ((
                STAFF_EMPLOYEE_ID = ALLOCATION_STAFF_ID
                or STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            )),
    constraint TRUST_OR_PROVIDER5
        check ((
                TRUST_PROVIDER_TEAM_ID = TEAM_ID
                or TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ))
);
create table RESPONSIBLE_OFFICER
(
    RESPONSIBLE_OFFICER_ID     number not null,
    OFFENDER_ID                number not null,
    OFFENDER_MANAGER_ID        number,
    PRISON_OFFENDER_MANAGER_ID number,
    START_DATE                 date   not null,
    END_DATE                   date,
    CREATED_BY_USER_ID         number not null,
    CREATED_DATETIME           date   not null,
    LAST_UPDATED_USER_ID       number not null,
    LAST_UPDATED_DATETIME      date   not null,
    ROW_VERSION                number not null default 0,
    constraint XPKRESPONSIBLE_OFFICER
        primary key (RESPONSIBLE_OFFICER_ID),
    constraint R_1204
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1205
        foreign key (OFFENDER_MANAGER_ID)
            references OFFENDER_MANAGER,
    constraint R_1206
        foreign key (PRISON_OFFENDER_MANAGER_ID)
            references PRISON_OFFENDER_MANAGER
);
create table COHORT_DIARY
(
    COHORT_DIARY_ID        number     not null,
    OFFENDER_ID            number     not null,
    OFFENDER_MANAGER_ID    number     not null,
    EVENT_ID               number     not null,
    MAIN_OFFENCE_ID        number,
    DISPOSAL_ID            number     not null,
    DISPOSAL_TYPE_ID       number     not null,
    TRUST_PROVIDER_FLAG    number     not null,
    TRUST_PROVIDER_TEAM_ID number     not null,
    STAFF_EMPLOYEE_ID      number     not null,
    COHORT                 varchar(1) not null,
    PROBATION_AREA_ID      number     not null,
    FIRST_RELEASE_DATE     date,
    DISPOSAL_DATE          date,
    UPW                    number,
    OFFENCE_DATE           date,
    ROW_VERSION            number default 0,
    constraint XPKCOHORT_DIARY
        primary key (COHORT_DIARY_ID),
    constraint R_1012
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1013
        foreign key (OFFENDER_MANAGER_ID)
            references OFFENDER_MANAGER,
    constraint R_1014
        foreign key (EVENT_ID)
            references EVENT,
    constraint R_1015
        foreign key (MAIN_OFFENCE_ID)
            references MAIN_OFFENCE,
    constraint R_1016
        foreign key (DISPOSAL_ID)
            references DISPOSAL,
    constraint R_1017
        foreign key (DISPOSAL_TYPE_ID)
            references R_DISPOSAL_TYPE,
    constraint COHORT_1126705185
        check (COHORT in (
                          'S', 'R', 'T'
            )),
    constraint R_1020
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint TRUE_OR_FALSE_388581676
        check (UPW in (
                       0, 1
            )),
    constraint R_1018
        foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
            references ALL_TEAM,
    constraint R_1019
        foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
            references OFFICER
);
create table COHORT_HISTORY
(
    COHORT_HISTORY_ID         number(22)  not null,
    EVENT_ID                  number(22)  not null,
    OFFENDER_ID               number(22)  not null,
    COHORT_PROVIDER_ID        number(22)  not null,
    COHORT_CODE               varchar(11) not null,
    SENTENCE_RELEASE_DATE     date,
    START_DATE                date        not null,
    END_DATE                  date,
    ALLOCATION_REASON_ID      number(22),
    ACTIVE_FLAG               number(22)  not null,
    AUTHORISATION_PROVIDER_ID number(22),
    AUTHORISATION_TEAM_ID     number(22),
    AUTHORISATION_STAFF_ID    number(22),
    COHORT_CHANGE_REASON_ID   number(22),
    NOTES                     clob,
    SOFT_DELETED              number(22)  not null,
    ROW_VERSION               number(22)  not null default 0,
    CREATED_BY_USER_ID        number(22)  not null,
    CREATED_DATETIME          date        not null,
    LAST_UPDATED_USER_ID      number(22)  not null,
    LAST_UPDATED_DATETIME     date        not null,
    ORGANISATIONS             array,
    RECORDED_COHORT_FLAG      char,
    constraint XPKCOHORT_HISTORY
        primary key (COHORT_HISTORY_ID),
    constraint R_926
        foreign key (EVENT_ID)
            references EVENT,
    constraint R_927
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_934
        foreign key (COHORT_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_929
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint TRUE_OR_FALSE_1029364706
        check (ACTIVE_FLAG in (
                               0, 1
            )),
    constraint R_928
        foreign key (AUTHORISATION_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_931
        foreign key (AUTHORISATION_TEAM_ID)
            references TEAM,
    constraint R_932
        foreign key (AUTHORISATION_STAFF_ID)
            references STAFF,
    constraint R_933
        foreign key (COHORT_CHANGE_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint TRUE_OR_FALSE_1309266638
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint RECORDED_COHORT_FLAG_784206933
        check (RECORDED_COHORT_FLAG in (
                                        'S', 'R', 'T'
            ))
);
create table UPW_DETAILS
(
    UPW_DETAILS_ID        number        not null,
    DISPOSAL_ID           number        not null,
    UPW_LENGTH_MINUTES    number(10, 2) not null,
    AGREED_TRAVEL_FARE    number(10, 2),
    NOTES                 clob,
    SOFT_DELETED          number        not null,
    PARTITION_AREA_ID     number        not null,
    ROW_VERSION           number        not null default 0,
    UPW_STATUS_ID         number        not null,
    WORKED_INTENSIVELY    char,
    TRAINING_SESSION_ID   number,
    OFFENDER_ID           number        not null,
    TEAM_ID               number,
    PROVIDER_TEAM_ID      number,
    STAFF_ID              number,
    UPW_STATUS_DATE       date          not null,
    PROVIDER_EMPLOYEE_ID  number,
    ALLOCATION_DATE       date          not null,
    ORGANISATIONS         array,
    MINUTES_YEAR1         number(10, 2),
    CREATED_BY_USER_ID    number        not null,
    CREATED_DATETIME      date          not null,
    LAST_UPDATED_USER_ID  number        not null,
    LAST_UPDATED_DATETIME date          not null,
    UPW_STATUS_CHANGE_ID  number(38),
    constraint XPKUPW_DETAILS
        primary key (UPW_DETAILS_ID),
    foreign key (DISPOSAL_ID)
        references DISPOSAL,
    constraint TRUE_OR_FALSE23
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (UPW_STATUS_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_404
        check (WORKED_INTENSIVELY in (
                                      'Y', 'N'
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (STAFF_ID)
        references STAFF,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    constraint R_1293
        foreign key (UPW_STATUS_CHANGE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint OFFENDER_MANAGER_TEAM_XOR3
        check ((
                (
                        TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint PROVIDER_EMPLOYEE_OR_STAFF3
        check ((
                (
                        PROVIDER_EMPLOYEE_ID is not null
                        and STAFF_ID is null
                    )
                or (
                        PROVIDER_EMPLOYEE_ID is null
                        and STAFF_ID is not null
                    )
            ))
);
create table UPW_STATUS_HISTORY
(
    UPW_STATUS_HISTORY_ID number(38) not null,
    UPW_DETAILS_ID        number(38) not null,
    UPW_STATUS_ID         number(38) not null,
    UPW_SUSPEND_REASON_ID number(38),
    ROW_VERSION           number     not null default 0,
    CREATED_BY_USER_ID    number(38) not null,
    CREATED_DATETIME      date       not null,
    LAST_UPDATED_USER_ID  number(38) not null,
    LAST_UPDATED_DATETIME date       not null,
    constraint XPKUPW_STATUS_HISTORY
        primary key (UPW_STATUS_HISTORY_ID),
    constraint R_1290
        foreign key (UPW_DETAILS_ID)
            references UPW_DETAILS,
    constraint R_1291
        foreign key (UPW_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1292
        foreign key (UPW_SUSPEND_REASON_ID)
            references R_STANDARD_REFERENCE_LIST
);
create table UPW_ALLOCATION
(
    UPW_ALLOCATION_ID           number not null,
    UPW_PROJECT_ID              number not null,
    UPW_DETAILS_ID              number not null,
    ALLOCATION_START_DATE       date   not null,
    ALLOCATION_END_DATE         date,
    ALLOCATION_DAY_ID           number,
    START_TIME                  date,
    END_TIME                    date,
    FUTURE_OUTCOMES_RECORDED    char   not null,
    SOFT_DELETED                number not null,
    PARTITION_AREA_ID           number not null,
    CREATED_BY_USER_ID          number not null,
    CREATED_DATETIME            date   not null,
    LAST_UPDATED_USER_ID        number not null,
    LAST_UPDATED_DATETIME       date   not null,
    ROW_VERSION                 number not null default 0,
    TRAINING_SESSION_ID         number,
    PICK_UP_TIME                date,
    PICK_UP_LOCATION_ID         number,
    UPW_PROJECT_AVAILABILITY_ID number,
    constraint XPKUPW_ALLOCATION
        primary key (UPW_ALLOCATION_ID),
    foreign key (UPW_PROJECT_ID)
        references UPW_PROJECT,
    foreign key (UPW_DETAILS_ID)
        references UPW_DETAILS,
    foreign key (ALLOCATION_DAY_ID)
        references UPW_DAY,
    constraint YES_OR_NO_ONLY40
        check (FUTURE_OUTCOMES_RECORDED in (
                                            'Y', 'N'
            )),
    constraint TRUE_OR_FALSE78
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint R_1304
        foreign key (PICK_UP_LOCATION_ID)
            references OFFICE_LOCATION,
    constraint R_1305
        foreign key (UPW_PROJECT_AVAILABILITY_ID)
            references UPW_PROJECT_AVAILABILITY
);
create table DRUG_TEST_PROFILE
(
    DRUG_TEST_PROFILE_ID  number not null,
    ASSESSMENT_DATE       date   not null,
    NOTES                 clob,
    WEEKLY_COST           number,
    PARTITION_AREA_ID     number not null,
    TEAM_ID               number,
    STAFF_ID              number,
    PROVIDER_EMPLOYEE_ID  number,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null default 0,
    PROVIDER_TEAM_ID      number,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    EVENT_ID              number not null,
    TRAINING_SESSION_ID   number,
    OFFENDER_ID           number not null,
    ORGANISATIONS         array,
    constraint XPKDRUG_TEST_PROFILE
        primary key (DRUG_TEST_PROFILE_ID),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (STAFF_ID)
        references STAFF,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    constraint TRUE_OR_FALSE21
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (EVENT_ID)
        references EVENT,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint OFFENDER_MANAGER_TEAM_XOR1
        check ((
                (
                        TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint PROVIDER_EMPLOYEE_OR_STAFF1
        check ((
                (
                        PROVIDER_EMPLOYEE_ID is not null
                        and STAFF_ID is null
                    )
                or (
                        PROVIDER_EMPLOYEE_ID is null
                        and STAFF_ID is not null
                    )
            ))
);
create table DRUGS_TEST_PROFILE_DRUG_TYPE
(
    DRUG_TEST_PROFILE_ID  number not null,
    DRUG_TYPE_ID          number not null,
    ROW_VERSION           number not null default 0,
    MAIN_DRUG             char,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    foreign key (DRUG_TEST_PROFILE_ID)
        references DRUG_TEST_PROFILE,
    foreign key (DRUG_TYPE_ID)
        references R_DRUG_TYPE,
    constraint YES_OR_NO_419
        check (MAIN_DRUG in (
                             'Y', 'N'
            )),
    constraint TRUE_OR_FALSE50
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKDRUGS_TEST_PROFILE_DRUG_TYP
        primary key (DRUG_TEST_PROFILE_ID, DRUG_TYPE_ID)
);
create table DRUG_USAGE
(
    DRUG_USAGE_ID        number not null,
    DRUG_TEST_PROFILE_ID number not null,
    USAGE                char   not null,
    DAYS_PER_WEEK        number,
    QUANTITY_USED        number,
    INJECTED             char,
    AGE_FIRST_USED       number,
    SOFT_DELETED         number not null,
    PARTITION_AREA_ID    number not null,
    ROW_VERSION          number not null default 0,
    DRUG_TYPE_ID         number not null,
    TRAINING_SESSION_ID  number,
    constraint XPKDRUG_USAGE
        primary key (DRUG_USAGE_ID),
    foreign key (DRUG_TEST_PROFILE_ID)
        references DRUG_TEST_PROFILE,
    constraint YES_OR_NO_ONLY26
        check (USAGE in (
                         'Y', 'N'
            )),
    constraint YES_OR_NO_OR_UNKNOWN7
        check (INJECTED in (
                            'N', 'Y', 'U'
            )),
    constraint GREATER_THAN_03
        check (AGE_FIRST_USED > 0),
    constraint TRUE_OR_FALSE32
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (DRUG_TYPE_ID)
        references R_DRUG_TYPE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XAK1DRUG_USAGE
        unique (DRUG_TEST_PROFILE_ID, DRUG_TYPE_ID, DRUG_USAGE_ID)
);
create table SPG_EXCEPTION
(
    SPG_EXCEPTION_ID      number not null,
    OFFENDER_ID           number,
    ENTITY_TYPE_ID        number,
    ENTITY_ID             number,
    EXCEPTION_TYPE_ID     number,
    EXCEPTION_TEXT        clob,
    IMS_PROVIDER_ID       number,
    IMS_SENDER_REFERENCE  number,
    STATUS_ID             number,
    STATUS_DATE           date,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    ROW_VERSION           number not null default 0,
    INCIDENT_IDENTIFIER   varchar(100),
    ASSIGNED_TO_STAFF_ID  number,
    constraint XPKSPG_EXCEPTION
        primary key (SPG_EXCEPTION_ID),
    constraint R_1122
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1123
        foreign key (ENTITY_TYPE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1124
        foreign key (EXCEPTION_TYPE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1125
        foreign key (IMS_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_1126
        foreign key (STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1230
        foreign key (ASSIGNED_TO_STAFF_ID)
            references STAFF
);
create table COURT_APPEARANCE
(
    COURT_APPEARANCE_ID         number not null,
    APPEARANCE_DATE             date   not null,
    CROWN_COURT_CALENDAR_NUMBER varchar(20),
    BAIL_CONDITIONS             varchar(256),
    COURT_NOTES                 clob,
    EVENT_ID                    number not null,
    TEAM_ID                     number,
    STAFF_ID                    number,
    SOFT_DELETED                number not null,
    PARTITION_AREA_ID           number not null,
    COURT_ID                    number not null,
    ROW_VERSION                 number not null default 0,
    APPEARANCE_TYPE_ID          number not null,
    PLEA_ID                     number,
    OUTCOME_ID                  number,
    REMAND_STATUS_ID            number,
    CREATED_BY_USER_ID          number not null,
    CREATED_DATETIME            date   not null,
    LAST_UPDATED_USER_ID        number not null,
    LAST_UPDATED_DATETIME       date   not null,
    TRAINING_SESSION_ID         number,
    OFFENDER_ID                 number not null,
    ORGANISATIONS               array,
    constraint XPKCOURT_APPEARANCE
        primary key (COURT_APPEARANCE_ID),
    foreign key (EVENT_ID)
        references EVENT,
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (STAFF_ID)
        references STAFF,
    constraint TRUE_OR_FALSE26
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (COURT_ID)
        references COURT,
    foreign key (APPEARANCE_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PLEA_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (OUTCOME_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (REMAND_STATUS_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER
);
create table COURT_REPORT
(
    COURT_REPORT_ID                number not null,
    COURT_APPEARANCE_ID            number not null,
    DATE_REQUESTED                 date   not null,
    DATE_REQUIRED                  date   not null,
    ALLOCATION_DATE                date,
    COMPLETED_DATE                 date,
    SENT_TO_COURT_DATE             date,
    RECEIVED_BY_COURT_DATE         date,
    VIDEO_LINK                     varchar(20),
    NOTES                          clob,
    PUNISHMENT                     char,
    REDUCTION_OF_CRIME             char,
    REFORM_AND_REHABILITATION      char,
    PUBLIC_PROTECTION              char,
    REPARATION                     char,
    RECOMMENDATIONS_NOT_STATED     char,
    SOFT_DELETED                   number not null,
    PARTITION_AREA_ID              number not null,
    ROW_VERSION                    number not null default 0,
    LEVEL_OF_SERIOUSNESS_ID        number not null,
    DELIVERED_REPORT_REASON_ID     number,
    SECTION_178                    char,
    CREATED_DATETIME               date   not null,
    LAST_UPDATED_DATETIME          date   not null,
    COURT_REPORT_TYPE_ID           number,
    CREATED_BY_USER_ID             number not null,
    DELIVERED_COURT_REPORT_TYPE_ID number,
    LAST_UPDATED_USER_ID           number not null,
    TRAINING_SESSION_ID            number,
    OFFENDER_ID                    number not null,
    ORGANISATIONS                  array,
    REQUIRED_BY_COURT_ID           number,
    PENDING_TRANSFER               number not null,
    constraint XPKCOURT_REPORT
        primary key (COURT_REPORT_ID),
    foreign key (COURT_APPEARANCE_ID)
        references COURT_APPEARANCE,
    constraint YES_OR_NO_ONLY11
        check (PUNISHMENT in (
                              'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY12
        check (REDUCTION_OF_CRIME in (
                                      'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY13
        check (REFORM_AND_REHABILITATION in (
                                             'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY14
        check (PUBLIC_PROTECTION in (
                                     'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY15
        check (REPARATION in (
                              'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY16
        check (RECOMMENDATIONS_NOT_STATED in (
                                              'Y', 'N'
            )),
    constraint TRUE_OR_FALSE27
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (LEVEL_OF_SERIOUSNESS_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (DELIVERED_REPORT_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_405
        check (SECTION_178 in (
                               'Y', 'N'
            )),
    foreign key (COURT_REPORT_TYPE_ID)
        references R_COURT_REPORT_TYPE,
    foreign key (DELIVERED_COURT_REPORT_TYPE_ID)
        references R_COURT_REPORT_TYPE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint R_787
        foreign key (REQUIRED_BY_COURT_ID)
            references COURT,
    constraint TRUE_OR_FALSE_218769512
        check (PENDING_TRANSFER in (
                                    0, 1
            ))
);
create table PROPOSAL
(
    PROPOSAL_ID             number not null,
    LENGTH                  number,
    AMOUNT                  number(16, 2),
    COURT_REPORT_ID         number not null,
    SOFT_DELETED            number not null,
    PARTITION_AREA_ID       number not null,
    ROW_VERSION             number not null,
    LEVEL_OF_SERIOUSNESS_ID number not null,
    PROPOSAL_TYPE_ID        number not null,
    PROPOSED_TIER_ID        number,
    TRAINING_SESSION_ID     number,
    constraint XPKPROPOSAL
        primary key (PROPOSAL_ID),
    foreign key (COURT_REPORT_ID)
        references COURT_REPORT,
    constraint TRUE_OR_FALSE73
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (LEVEL_OF_SERIOUSNESS_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PROPOSAL_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PROPOSED_TIER_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table PROPOSED_RQMNT
(
    PROPOSED_RQMNT_ID              number not null,
    PROPOSAL_ID                    number not null,
    LENGTH                         number,
    PARTITION_AREA_ID              number not null,
    SOFT_DELETED                   number not null,
    ROW_VERSION                    number not null default 0,
    CREATED_DATETIME               date   not null,
    LAST_UPDATED_DATETIME          date   not null,
    RQMNT_TYPE_MAIN_CATEGORY_ID    number,
    RQMNT_TYPE_SUB_CATEGORY_ID     number,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID number,
    CREATED_BY_USER_ID             number not null,
    AD_RQMNT_TYPE_SUB_CATEGORY_ID  number,
    LAST_UPDATED_USER_ID           number not null,
    TRAINING_SESSION_ID            number,
    constraint XPKPROPOSED_RQMNT
        primary key (PROPOSED_RQMNT_ID),
    foreign key (PROPOSAL_ID)
        references PROPOSAL,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE25
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    foreign key (RQMNT_TYPE_SUB_CATEGORY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    foreign key (AD_RQMNT_TYPE_SUB_CATEGORY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint PROPOSED_RQMNT_TYPE
        check ((
                (
                        RQMNT_TYPE_MAIN_CATEGORY_ID is not null
                        and AD_RQMNT_TYPE_MAIN_CATEGORY_ID is null
                        and AD_RQMNT_TYPE_SUB_CATEGORY_ID is null
                    )
                or (
                        AD_RQMNT_TYPE_MAIN_CATEGORY_ID is not null
                        and RQMNT_TYPE_MAIN_CATEGORY_ID is null
                        and RQMNT_TYPE_SUB_CATEGORY_ID is null
                    )
            ))
);
create table NOMIS_CASE_NOTE_ERROR
(
    NOMIS_CASE_NOTE_ERROR_ID number     not null,
    NOMIS_NUMBER             varchar(7) not null,
    STAFF_ID                 number,
    ERROR_DATE               date       not null,
    NOTE_TYPE                varchar(32),
    CASE_NOTE_ID             number,
    CASE_NOTE                clob,
    RESENT                   char       not null default 'N',
    CREATED_BY_USER_ID       number     not null,
    CREATED_DATETIME         date       not null,
    LAST_UPDATED_USER_ID     number     not null,
    LAST_UPDATED_DATETIME    date       not null,
    ROW_VERSION              number     not null default 0,
    CONTACT_DATE             date,
    RESPONSE_CODE            number,
    REQUEST_METHOD           varchar(6)          default 'PUT',
    constraint XPKNOMIS_CASE_NOTE_ERROR
        primary key (NOMIS_CASE_NOTE_ERROR_ID),
    constraint R_1228
        foreign key (STAFF_ID)
            references STAFF,
    constraint YES_OR_NO_ONLY_1025318769
        check (RESENT in (
                          'Y', 'N'
            ))
);
create table INSTITUTIONAL_REPORT_TRANSFER
(
    INSTITUTIONAL_REP_TRANSFER_ID number(22) not null,
    OFFENDER_ID                   number(22) not null,
    INSTITUTIONAL_REPORT_ID       number(22) not null,
    TRANSFER_STATUS_ID            number(22) not null,
    REQUEST_DATE                  date,
    ACCEPTED_DECISION_ID          number(22),
    REJECTION_REASON_ID           number(22),
    ORIGIN_TEAM_ID                number(22),
    ORIGIN_STAFF_ID               number(22),
    RECEIVING_TEAM_ID             number(22),
    RECEIVING_STAFF_ID            number(22),
    NOTES                         clob,
    ALLOCATION_REASON_ID          number(22),
    TRANSFER_REASON_ID            number(22) not null,
    SOFT_DELETED                  number(22) not null,
    ROW_VERSION                   number(22) not null default 0,
    CREATED_BY_USER_ID            number(22) not null,
    CREATED_DATETIME              date       not null,
    LAST_UPDATED_USER_ID          number(22) not null,
    LAST_UPDATED_DATETIME         date       not null,
    ORGANISATIONS                 array,
    WITHDRAWAL_REASON_ID          number,
    TRANSFER_STATUS_DATE          date,
    MASTER_TRANSFER_ID            number,
    constraint XPKINSTUTUTIONAL_REPORT_TRANSF
        primary key (INSTITUTIONAL_REP_TRANSFER_ID),
    constraint R_970
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_971
        foreign key (INSTITUTIONAL_REPORT_ID)
            references INSTITUTIONAL_REPORT,
    constraint R_972
        foreign key (TRANSFER_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_973
        foreign key (ACCEPTED_DECISION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_974
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_975
        foreign key (ORIGIN_TEAM_ID)
            references TEAM,
    constraint R_976
        foreign key (ORIGIN_STAFF_ID)
            references STAFF,
    constraint R_977
        foreign key (RECEIVING_TEAM_ID)
            references TEAM,
    constraint R_978
        foreign key (RECEIVING_STAFF_ID)
            references STAFF,
    constraint R_979
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_980
        foreign key (TRANSFER_REASON_ID)
            references R_TRANSFER_REASON,
    constraint TRUE_OR_FALSE_19966594
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint R_1060
        foreign key (WITHDRAWAL_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1086
        foreign key (MASTER_TRANSFER_ID)
            references MASTER_TRANSFER
);
create table REFERRAL
(
    REFERRAL_ID                 number not null,
    REFERRAL_DATE               date   not null,
    ATTENDED                    char,
    SOURCE_NOTES                clob,
    NOTES                       clob,
    EVENT_ID                    number not null,
    REF_TO_TEAM_ID              number,
    REF_TO_STAFF_ID             number,
    PARTITION_AREA_ID           number not null,
    REF_TO_PROVIDER_EMPLOYEE_ID number,
    SOFT_DELETED                number not null,
    ROW_VERSION                 number not null default 0,
    TREATMENT_AIM_ID            number,
    REF_TO_PROVIDER_TEAM_ID     number,
    REFERRAL_TYPE_ID            number not null,
    REFERRAL_SOURCE_ID          number not null,
    CREATED_BY_USER_ID          number not null,
    CREATED_DATETIME            date   not null,
    LAST_UPDATED_USER_ID        number not null,
    LAST_UPDATED_DATETIME       date   not null,
    GENERIC_REFERRAL_OUTCOME_ID number,
    TRAINING_SESSION_ID         number,
    OFFENDER_ID                 number not null,
    ORGANISATIONS               array,
    DOCUMENT_LINKED             char,
    constraint XPKREFERRAL
        primary key (REFERRAL_ID),
    constraint YES_OR_NO_ONLY27
        check (ATTENDED in (
                            'Y', 'N'
            )),
    foreign key (EVENT_ID)
        references EVENT,
    foreign key (REF_TO_TEAM_ID)
        references TEAM,
    foreign key (REF_TO_STAFF_ID)
        references STAFF,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (REF_TO_PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    constraint TRUE_OR_FALSE33
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (TREATMENT_AIM_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (REF_TO_PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (REFERRAL_TYPE_ID)
        references R_REFERRAL_TYPE,
    foreign key (REFERRAL_SOURCE_ID)
        references R_REFERRAL_SOURCE,
    foreign key (GENERIC_REFERRAL_OUTCOME_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint YES_OR_NO_ONLY_1079849424
        check (DOCUMENT_LINKED in (
                                   'Y', 'N'
            )),
    constraint REFERRAL_STAFF_XOR_PROVIDER_EM
        check ((
                (
                        REF_TO_PROVIDER_EMPLOYEE_ID is not null
                        and REF_TO_STAFF_ID is null
                    )
                or (
                        REF_TO_PROVIDER_EMPLOYEE_ID is null
                        and REF_TO_STAFF_ID is not null
                    )
            )),
    constraint REFERRAL_TEAM_XOR_PROVIDER_TEA
        check ((
                (
                        REF_TO_TEAM_ID is not null
                        and REF_TO_PROVIDER_TEAM_ID is null
                    )
                or (
                        REF_TO_TEAM_ID is null
                        and REF_TO_PROVIDER_TEAM_ID is not null
                    )
            ))
);
create table CASE_ALLOCATION
(
    CASE_ALLOCATION_ID            number not null,
    OFFENDER_ID                   number not null,
    EVENT_ID                      number not null,
    RSR_SCORE                     number(5, 2),
    RSR_ASSESSOR_PROVIDER_ID      number,
    RSR_ASSESSOR_TEAM_ID          number,
    RSR_ASSESSOR_STAFF_ID         number,
    RSR_ASSESSOR_DATE             date,
    ALLOCATION_DECISION_ID        number,
    ALLOCATION_DECISION_DATE      date,
    TARGET_PROVIDER_ID            number,
    DECISION_PROVIDER_ID          number,
    DECISION_TEAM_ID              number,
    DECISION_STAFF_ID             number,
    ALLOCATION_DECISION_NOTES     clob,
    ROW_VERSION                   number not null default 0,
    CREATED_BY_USER_ID            number not null,
    CREATED_DATETIME              date   not null,
    LAST_UPDATED_USER_ID          number not null,
    LAST_UPDATED_DATETIME         date   not null,
    ALLOCATION_OVERRIDE_REASON_ID number,
    ALLOCATION_OVERRIDE           number,
    OSP_SCORE                     number(16, 2),
    constraint XPKCASE_ALLOCATION
        primary key (CASE_ALLOCATION_ID),
    constraint R_1067
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1068
        foreign key (EVENT_ID)
            references EVENT,
    constraint R_1069
        foreign key (RSR_ASSESSOR_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_1070
        foreign key (RSR_ASSESSOR_TEAM_ID)
            references TEAM,
    constraint R_1072
        foreign key (RSR_ASSESSOR_STAFF_ID)
            references STAFF,
    constraint R_1073
        foreign key (ALLOCATION_DECISION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1074
        foreign key (TARGET_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_1075
        foreign key (DECISION_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_1076
        foreign key (DECISION_TEAM_ID)
            references TEAM,
    constraint R_1077
        foreign key (DECISION_STAFF_ID)
            references STAFF,
    constraint R_1119
        foreign key (ALLOCATION_OVERRIDE_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint TRUE_OR_FALSE_1016374440
        check (ALLOCATION_OVERRIDE in (
                                       0, 1
            ))
);
create table CASE_ALLOCATION_LINK
(
    CASE_ALLOCATION_ID number not null,
    REFERRAL_ID        number not null,
    constraint R_1120
        foreign key (CASE_ALLOCATION_ID)
            references CASE_ALLOCATION,
    constraint R_1121
        foreign key (REFERRAL_ID)
            references REFERRAL,
    constraint XPKCASE_ALLOCATION_LINK
        primary key (CASE_ALLOCATION_ID, REFERRAL_ID)
);
create table CASE_ALLOCATION_QUESTION
(
    CASE_ALLOCATION_QUESTION_ID number not null,
    CASE_ALLOCATION_ID          number not null,
    QUESTION_ID                 number not null,
    QUESTION_ANSWER             char,
    ROW_VERSION                 number not null default 0,
    constraint XPKCASE_ALLOCATION_QUESTION
        primary key (CASE_ALLOCATION_QUESTION_ID),
    constraint R_1078
        foreign key (CASE_ALLOCATION_ID)
            references CASE_ALLOCATION,
    constraint R_1079
        foreign key (QUESTION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY_621469556
        check (QUESTION_ANSWER in (
                                   'Y', 'N'
            ))
);
create table COURT_REPORT_TRANSFER
(
    COURT_REPORT_TRANSFER_ID number not null,
    OFFENDER_ID              number not null,
    COURT_REPORT_ID          number not null,
    TRANSFER_STATUS_ID       number not null,
    REQUEST_DATE             date,
    ACCEPTED_DECISION_ID     number,
    REJECTED_REASON_ID       number,
    ORIGIN_TEAM_ID           number,
    ORIGIN_STAFF_ID          number,
    RECEIVING_TEAM_ID        number,
    RECEIVING_STAFF_ID       number,
    NOTES                    clob,
    ALLOCATION_REASON_ID     number,
    TRANSFER_REASON_ID       number not null,
    SOFT_DELETED             number not null,
    ROW_VERSION              number not null default 0,
    CREATED_BY_USER_ID       number not null,
    CREATED_DATETIME         date   not null,
    LAST_UPDATED_USER_ID     number not null,
    LAST_UPDATED_DATETIME    date   not null,
    ORGANISATIONS            array,
    WITHDRAWAL_REASON_ID     number,
    TRANSFER_STATUS_DATE     date,
    MASTER_TRANSFER_ID       number,
    constraint XPKCOURT_REPORT_TRANSFER
        primary key (COURT_REPORT_TRANSFER_ID),
    constraint R_1021
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1022
        foreign key (COURT_REPORT_ID)
            references COURT_REPORT,
    constraint R_1023
        foreign key (TRANSFER_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1024
        foreign key (ACCEPTED_DECISION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1025
        foreign key (REJECTED_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1026
        foreign key (ORIGIN_TEAM_ID)
            references TEAM,
    constraint R_1027
        foreign key (ORIGIN_STAFF_ID)
            references STAFF,
    constraint R_1028
        foreign key (RECEIVING_TEAM_ID)
            references TEAM,
    constraint R_1029
        foreign key (RECEIVING_STAFF_ID)
            references STAFF,
    constraint R_1030
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1031
        foreign key (TRANSFER_REASON_ID)
            references R_TRANSFER_REASON,
    constraint TRUE_OR_FALSE_1563935964
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint R_1059
        foreign key (WITHDRAWAL_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1085
        foreign key (MASTER_TRANSFER_ID)
            references MASTER_TRANSFER
);
create table REPORT_MANAGER
(
    REPORT_MANAGER_ID              number not null,
    PARTITION_AREA_ID              number not null,
    SOFT_DELETED                   number not null,
    ROW_VERSION                    number not null default 0,
    EVENT_ID                       number not null,
    COURT_REPORT_ID                number,
    INSTITUTIONAL_REPORT_ID        number,
    TEAM_ID                        number,
    STAFF_ID                       number,
    PROVIDER_EMPLOYEE_ID           number,
    ALLOCATION_DATE                date   not null,
    END_DATE                       date,
    CREATED_DATETIME               date   not null,
    CREATED_BY_USER_ID             number not null,
    LAST_UPDATED_DATETIME          date   not null,
    PROVIDER_TEAM_ID               number,
    LAST_UPDATED_USER_ID           number not null,
    TRANSFER_REASON_ID             number not null,
    TRAINING_SESSION_ID            number,
    TRUST_PROVIDER_FLAG            number not null,
    STAFF_EMPLOYEE_ID              number not null,
    TRUST_PROVIDER_TEAM_ID         number not null,
    PROBATION_AREA_ID              number not null,
    ACTIVE_FLAG                    number not null,
    INSTITUTIONAL_REP_TRANSFER_ID  number(22),
    COURT_REPORT_TRANSFER_ID       number,
    INST_REP_ALLOCATION_REASON_ID  number,
    COURT_REP_ALLOCATION_REASON_ID number,
    constraint XPKREPORT_MANAGER
        primary key (REPORT_MANAGER_ID),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE3
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (EVENT_ID)
        references EVENT,
    foreign key (COURT_REPORT_ID)
        references COURT_REPORT,
    foreign key (INSTITUTIONAL_REPORT_ID)
        references INSTITUTIONAL_REPORT,
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (STAFF_ID)
        references STAFF,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (TRANSFER_REASON_ID)
        references R_TRANSFER_REASON,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE5
        check (TRUST_PROVIDER_FLAG in (
                                       0, 1
            )),
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint R_1006
        foreign key (INSTITUTIONAL_REP_TRANSFER_ID)
            references INSTITUTIONAL_REPORT_TRANSFER,
    constraint R_1032
        foreign key (COURT_REPORT_TRANSFER_ID)
            references COURT_REPORT_TRANSFER,
    constraint R_1033
        foreign key (INST_REP_ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1034
        foreign key (COURT_REP_ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
        references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
        references ALL_TEAM,
    constraint ACTIVE_FLAG_END_DATE1
        check ((
                (
                        ACTIVE_FLAG = 0
                        and END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and END_DATE is null
                    )
            )),
    constraint MANAGEMENT_VALID_DATES1
        check (ALLOCATION_DATE <= nvl(END_DATE, ALLOCATION_DATE)),
    constraint REPORT_MANAGER_REPORT_TYPE
        check ((
                (
                        COURT_REPORT_ID is not null
                        and INSTITUTIONAL_REPORT_ID is null
                    )
                or (
                        COURT_REPORT_ID is null
                        and INSTITUTIONAL_REPORT_ID is not null
                    )
            )),
    constraint REPORT_MANAGER_TEAM_XOR
        check ((
                (
                        TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint REPORT_MANAGER_XOR
        check ((
                (
                        PROVIDER_EMPLOYEE_ID is not null
                        and STAFF_ID is null
                    )
                or (
                        PROVIDER_EMPLOYEE_ID is null
                        and STAFF_ID is not null
                    )
            )),
    constraint STAFF_OR_TEAM
        check ((
                STAFF_EMPLOYEE_ID = STAFF_ID
                or STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            )),
    constraint TRUST_OR_PROVIDER
        check ((
                TRUST_PROVIDER_TEAM_ID = TEAM_ID
                or TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ))
);
create table CONTACT
(
    CONTACT_ID                   number not null,
    LINKED_CONTACT_ID            number,
    CONTACT_DATE                 date   not null,
    OFFENDER_ID                  number not null,
    CONTACT_START_TIME           date,
    CONTACT_END_TIME             date,
    RQMNT_ID                     number,
    LIC_CONDITION_ID             number,
    PROVIDER_LOCATION_ID         number,
    PROVIDER_EMPLOYEE_ID         number,
    HOURS_CREDITED               number(10, 2),
    NOTES                        clob,
    VISOR_CONTACT                char,
    STAFF_ID                     number,
    TEAM_ID                      number,
    SOFT_DELETED                 number not null,
    VISOR_EXPORTED               char,
    PARTITION_AREA_ID            number not null,
    OFFICE_LOCATION_ID           number,
    ROW_VERSION                  number not null default 0,
    ALERT_ACTIVE                 char,
    ATTENDED                     char,
    CREATED_DATETIME             date   not null,
    COMPLIED                     char,
    SENSITIVE                    char,
    LAST_UPDATED_DATETIME        date   not null,
    EVENT_ID                     number,
    CONTACT_TYPE_ID              number not null,
    PROVIDER_TEAM_ID             number,
    CONTACT_OUTCOME_TYPE_ID      number,
    CREATED_BY_USER_ID           number not null,
    EXPLANATION_ID               number,
    LAST_UPDATED_USER_ID         number not null,
    TRAINING_SESSION_ID          number,
    TRUST_PROVIDER_FLAG          number not null,
    STAFF_EMPLOYEE_ID            number not null,
    PROBATION_AREA_ID            number not null,
    TRUST_PROVIDER_TEAM_ID       number not null,
    ENFORCEMENT                  number,
    DOCUMENT_LINKED              char,
    UPLOAD_LINKED                char,
    LATEST_ENFORCEMENT_ACTION_ID number,
    NSI_ID                       number,
    TABLE_NAME                   varchar(30),
    PRIMARY_KEY_ID               number(22),
    PSS_RQMNT_ID                 number(22),
    RAR_ACTIVITY                 char,
    NOMIS_CASE_NOTE_ID           number,
    LINKED_DOCUMENT_CONTACT_ID   number,
    DESCRIPTION                  varchar(200),
    constraint XPKCONTACT
        primary key (CONTACT_ID),
    foreign key (LINKED_CONTACT_ID)
        references CONTACT,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (RQMNT_ID)
        references RQMNT,
    foreign key (LIC_CONDITION_ID)
        references LIC_CONDITION,
    foreign key (PROVIDER_LOCATION_ID)
        references PROVIDER_LOCATION,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    constraint GREATER_THAN_0
        check (HOURS_CREDITED > 0),
    foreign key (STAFF_ID)
        references STAFF,
    foreign key (TEAM_ID)
        references TEAM,
    constraint TRUE_OR_FALSE16
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint YES_OR_NO_400
        check (VISOR_EXPORTED in (
                                  'Y', 'N'
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (OFFICE_LOCATION_ID)
        references OFFICE_LOCATION,
    constraint YES_OR_NO_401
        check (ATTENDED in (
                            'Y', 'N'
            )),
    constraint YES_OR_NO_402
        check (COMPLIED in (
                            'Y', 'N'
            )),
    constraint YES_OR_NO_403
        check (SENSITIVE in (
                             'Y', 'N'
            )),
    foreign key (EVENT_ID)
        references EVENT,
    foreign key (CONTACT_TYPE_ID)
        references R_CONTACT_TYPE,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (CONTACT_OUTCOME_TYPE_ID)
        references R_CONTACT_OUTCOME_TYPE,
    foreign key (EXPLANATION_ID)
        references R_EXPLANATION,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE18
        check (TRUST_PROVIDER_FLAG in (
                                       0, 1
            )),
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint ENFORCEMENT_ONE_OR_N_470810165
        check ((
                ENFORCEMENT = 1
                or ENFORCEMENT is null
            )),
    constraint R_786
        foreign key (LATEST_ENFORCEMENT_ACTION_ID)
            references R_ENFORCEMENT_ACTION,
    constraint R_895
        foreign key (NSI_ID)
            references NSI,
    constraint CONTACT_TABLE_69233217
        check (TABLE_NAME in (
                              'APPROVED_PREMISES_REFERRAL', 'APPROVED_PREMISES_RESIDENCE', 'COURT_REPORT',
                              'INSTITUTIONAL_REPORT'
            )),
    constraint R_981
        foreign key (PSS_RQMNT_ID)
            references PSS_RQMNT,
    constraint YES_OR_NO_ONLY_1885306206
        check (RAR_ACTIVITY in (
                                'Y', 'N'
            )),
    constraint XAK1CONTACT
        unique (NOMIS_CASE_NOTE_ID),
    constraint R_1225
        foreign key (LINKED_DOCUMENT_CONTACT_ID)
            references CONTACT,
    constraint R_1718
        foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
            references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
        references ALL_TEAM,
    constraint CONTACT_TYPE
        check ((
                (
                        EVENT_ID is not null
                        and RQMNT_ID is null
                        and LIC_CONDITION_ID is null
                        and NSI_ID is null
                        and PSS_RQMNT_ID is null
                    )
                or (
                        EVENT_ID is not null
                        and RQMNT_ID is not null
                        and LIC_CONDITION_ID is null
                        and NSI_ID is null
                        and PSS_RQMNT_ID is null
                    )
                or (
                        EVENT_ID is not null
                        and RQMNT_ID is null
                        and LIC_CONDITION_ID is not null
                        and NSI_ID is null
                        and PSS_RQMNT_ID is null
                    )
                or (
                        EVENT_ID is not null
                        and RQMNT_ID is null
                        and LIC_CONDITION_ID is null
                        and NSI_ID is not null
                        and PSS_RQMNT_ID is null
                    )
                or (
                        EVENT_ID is not null
                        and RQMNT_ID is null
                        and LIC_CONDITION_ID is null
                        and NSI_ID is null
                        and PSS_RQMNT_ID is not null
                    )
                or (
                        EVENT_ID is null
                        and RQMNT_ID is null
                        and LIC_CONDITION_ID is null
                        and NSI_ID is not null
                        and PSS_RQMNT_ID is null
                    )
                or (
                        EVENT_ID is null
                        and RQMNT_ID is null
                        and LIC_CONDITION_ID is null
                        and NSI_ID is null
                        and PSS_RQMNT_ID is null
                    )
            )),
    constraint OFFENDER_MANAGER_TEAM_XOR
        check ((
                (
                        TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint PROVIDER_EMPLOYEE_OR_STAFF
        check ((
                (
                        PROVIDER_EMPLOYEE_ID is not null
                        and STAFF_ID is null
                    )
                or (
                        PROVIDER_EMPLOYEE_ID is null
                        and STAFF_ID is not null
                    )
            )),
    constraint STAFF_OR_TEAM1
        check ((
                STAFF_EMPLOYEE_ID = STAFF_ID
                or STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            )),
    constraint TRUST_OR_PROVIDER1
        check ((
                TRUST_PROVIDER_TEAM_ID = TEAM_ID
                or TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ))
);
create table SUBJECT_ACCESS_REPORT_CONTACT
(
    SAR_CONTACT_ID              number not null,
    SUBJECT_ACCESS_REPORT_ID    number not null,
    CONTACT_ID                  number not null,
    DPA_SAR_EXCLUSION_REASON_ID number,
    PARTITION_AREA_ID           number not null,
    ROW_VERSION                 number not null default 0,
    TRAINING_SESSION_ID         number,
    constraint XPKSUBJECT_ACCESS_REPORT_CONTA
        primary key (SAR_CONTACT_ID),
    foreign key (SUBJECT_ACCESS_REPORT_ID)
        references SUBJECT_ACCESS_REPORT,
    foreign key (CONTACT_ID)
        references CONTACT,
    foreign key (DPA_SAR_EXCLUSION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table CONTACT_ALERT
(
    CONTACT_ALERT_ID        number not null,
    OFFENDER_ID             number,
    OFFENDER_MANAGER_ID     number,
    CONTACT_ID              number,
    CONTACT_TYPE_ID         number,
    CONTACT_OUTCOME_TYPE_ID number,
    TRUST_PROVIDER_FLAG     number,
    TRUST_PROVIDER_TEAM_ID  number,
    STAFF_EMPLOYEE_ID       number,
    ROW_VERSION             number not null default 0,
    TRAINING_SESSION_ID     number,
    constraint XPKCONTACT_ALERT
        primary key (CONTACT_ALERT_ID),
    constraint R_770
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_771
        foreign key (OFFENDER_MANAGER_ID)
            references OFFENDER_MANAGER,
    constraint R_772
        foreign key (CONTACT_ID)
            references CONTACT,
    constraint R_773
        foreign key (CONTACT_TYPE_ID)
            references R_CONTACT_TYPE,
    constraint R_774
        foreign key (CONTACT_OUTCOME_TYPE_ID)
            references R_CONTACT_OUTCOME_TYPE,
    constraint R_775
        foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
            references ALL_TEAM,
    constraint R_776
        foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
            references OFFICER
);
create table UPW_APPOINTMENT
(
    UPW_APPOINTMENT_ID      number not null,
    UPW_DETAILS_ID          number not null,
    UPW_PROJECT_ID          number not null,
    APPOINTMENT_DATE        date   not null,
    START_TIME              date,
    END_TIME                date,
    MINUTES_OFFERED         number(10, 2),
    MINUTES_CREDITED        number(10, 2),
    TRAVEL_TIME             number(10, 2),
    ATTENDED                char,
    COMPLIED                char,
    HIGH_VISIBILITY_VEST    char,
    NOTES                   clob,
    TEAM_ID                 number,
    STAFF_ID                number,
    SOFT_DELETED            number not null,
    PARTITION_AREA_ID       number not null,
    ROW_VERSION             number not null default 0,
    WORK_QUALITY_ID         number,
    BEHAVIOUR_ID            number,
    PENALTY_TIME            number,
    CREATED_DATETIME        date   not null,
    LAST_UPDATED_DATETIME   date   not null,
    UPW_OUTCOME_ID          number,
    CONTACT_OUTCOME_TYPE_ID number,
    CONTACT_ID              number not null,
    PROVIDER_TEAM_ID        number,
    CREATED_BY_USER_ID      number not null,
    PROVIDER_EMPLOYEE_ID    number,
    LAST_UPDATED_USER_ID    number not null,
    TRAINING_SESSION_ID     number,
    OFFENDER_ID             number not null,
    ORGANISATIONS           array,
    PROJECT_NAME            varchar(60),
    PROJECT_TYPE_ID         number,
    INTENSIVE               char,
    DOCUMENT_LINKED         char,
    PICK_UP_TIME            date,
    PICK_UP_LOCATION_ID     number,
    UPW_ALLOCATION_ID       number,
    constraint XPKUPW_APPOINTMENT
        primary key (UPW_APPOINTMENT_ID),
    foreign key (UPW_DETAILS_ID)
        references UPW_DETAILS,
    foreign key (UPW_PROJECT_ID)
        references UPW_PROJECT,
    constraint YES_OR_NO_OR_UNKNOWN1
        check (ATTENDED in (
                            'N', 'Y', 'U'
            )),
    constraint YES_OR_NO_OR_UNKNOWN2
        check (COMPLIED in (
                            'N', 'Y', 'U'
            )),
    constraint YES_OR_NO_OR_UNKNOWN3
        check (HIGH_VISIBILITY_VEST in (
                                        'N', 'Y', 'U'
            )),
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (STAFF_ID)
        references STAFF,
    constraint TRUE_OR_FALSE22
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (WORK_QUALITY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (BEHAVIOUR_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (UPW_OUTCOME_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (CONTACT_OUTCOME_TYPE_ID)
        references R_CONTACT_OUTCOME_TYPE,
    foreign key (CONTACT_ID)
        references CONTACT,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint R_1051
        foreign key (PROJECT_TYPE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY_304805078
        check (INTENSIVE in (
                             'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_1297648776
        check (DOCUMENT_LINKED in (
                                   'Y', 'N'
            )),
    constraint R_1306
        foreign key (PICK_UP_LOCATION_ID)
            references OFFICE_LOCATION,
    constraint R_1307
        foreign key (UPW_ALLOCATION_ID)
            references UPW_ALLOCATION,
    constraint OFFENDER_MANAGER_TEAM_XOR2
        check ((
                (
                        TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint PROVIDER_EMPLOYEE_OR_STAFF2
        check ((
                (
                        PROVIDER_EMPLOYEE_ID is not null
                        and STAFF_ID is null
                    )
                or (
                        PROVIDER_EMPLOYEE_ID is null
                        and STAFF_ID is not null
                    )
            ))
);
create table ENFORCEMENT
(
    ENFORCEMENT_ID        number not null,
    UPW_APPOINTMENT_ID    number,
    CONTACT_ID            number not null,
    ACTION_TAKEN_DATE     date,
    ACTION_TAKEN_TIME     date,
    RESPONSE_DATE         date,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    CREATED_DATETIME      date   not null,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_DATETIME date   not null,
    ENFORCEMENT_ACTION_ID number,
    LAST_UPDATED_USER_ID  number not null,
    TRAINING_SESSION_ID   number,
    constraint XPKENFORCEMENT
        primary key (ENFORCEMENT_ID),
    foreign key (UPW_APPOINTMENT_ID)
        references UPW_APPOINTMENT,
    foreign key (CONTACT_ID)
        references CONTACT,
    constraint TRUE_OR_FALSE51
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (ENFORCEMENT_ACTION_ID)
        references R_ENFORCEMENT_ACTION,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table ASSESSMENT
(
    ASSESSMENT_ID               number not null,
    REFERRAL_ID                 number not null,
    ASSESSMENT_DATE             date   not null,
    OFFENDERS_AGREEMENT         char,
    NOTES                       clob,
    TEAM_ID                     number,
    STAFF_ID                    number,
    PROVIDER_EMPLOYEE_ID        number,
    SOFT_DELETED                number not null,
    OFFENDER_REQUIRED_TO_ATTEND char   not null,
    OFFENDER_ATTENDED           char,
    PARTITION_AREA_ID           number not null,
    ROW_VERSION                 number not null default 0,
    ASSESSMENT_TYPE_ID          number not null,
    PROVIDER_TEAM_ID            number,
    SCORE                       varchar(20),
    DURATION_MINUTES            number,
    CREATED_BY_USER_ID          number not null,
    CREATED_DATETIME            date   not null,
    LAST_UPDATED_USER_ID        number not null,
    LAST_UPDATED_DATETIME       date   not null,
    ASSESSMENT_OUTCOME_ID       number,
    TRAINING_SESSION_ID         number,
    OFFENDER_ID                 number not null,
    ORGANISATIONS               array,
    DOCUMENT_LINKED             char,
    constraint XPKASSESSMENT
        primary key (ASSESSMENT_ID),
    foreign key (REFERRAL_ID)
        references REFERRAL,
    constraint YES_OR_NO_OR_UNKNOWN
        check (OFFENDERS_AGREEMENT in (
                                       'N', 'Y', 'U'
            )),
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (STAFF_ID)
        references STAFF,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    constraint TRUE_OR_FALSE15
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (ASSESSMENT_TYPE_ID)
        references R_ASSESSMENT_TYPE,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (ASSESSMENT_OUTCOME_ID)
        references R_ASSESSMENT_OUTCOME,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint YES_OR_NO_ONLY_1291962580
        check (DOCUMENT_LINKED in (
                                   'Y', 'N'
            )),
    constraint ASSESSMENT_TEAM_XOR
        check ((
                (
                        TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint ASSESSMENT_XOR
        check ((
                (
                        STAFF_ID is not null
                        and PROVIDER_EMPLOYEE_ID is null
                    )
                or (
                        STAFF_ID is null
                        and PROVIDER_EMPLOYEE_ID is not null
                    )
            ))
);
create table LIC_CONDITION_TRANSFER
(
    LIC_CONDITION_TRANSFER_ID      number not null,
    OFFENDER_ID                    number not null,
    LIC_CONDITION_ID               number not null,
    TRANSFER_STATUS_ID             number not null,
    REQUEST_DATE                   date,
    ACCEPTED_DECISION_ID           number,
    REJECTION_REASON_ID            number,
    ORIGIN_TEAM_ID                 number,
    ORIGIN_STAFF_ID                number,
    RECEIVING_TEAM_ID              number,
    RECEIVING_STAFF_ID             number,
    ORIGIN_PROVIDER_TEAM_ID        number,
    ORIGIN_PROVIDER_EMPLOYEE_ID    number,
    RECEIVING_PROVIDER_TEAM_ID     number,
    RECEIVING_PROVIDER_EMPLOYEE_ID number,
    NOTES                          clob,
    ALLOCATION_REASON_ID           number,
    TRANSFER_REASON_ID             number not null,
    SOFT_DELETED                   number not null,
    PARTITION_AREA_ID              number not null,
    ROW_VERSION                    number not null default 0,
    CREATED_BY_USER_ID             number not null,
    CREATED_DATETIME               date   not null,
    LAST_UPDATED_USER_ID           number not null,
    LAST_UPDATED_DATETIME          date   not null,
    ORGANISATIONS                  array,
    TRAINING_SESSION_ID            number,
    WITHDRAWAL_REASON_ID           number,
    TRANSFER_STATUS_DATE           date,
    MASTER_TRANSFER_ID             number,
    constraint XPKLIC_CONDITION_TRANSFER
        primary key (LIC_CONDITION_TRANSFER_ID),
    constraint R_902
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_859
        foreign key (LIC_CONDITION_ID)
            references LIC_CONDITION,
    constraint R_860
        foreign key (TRANSFER_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_861
        foreign key (ACCEPTED_DECISION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_862
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_863
        foreign key (ORIGIN_TEAM_ID)
            references TEAM,
    constraint R_864
        foreign key (ORIGIN_STAFF_ID)
            references STAFF,
    constraint R_865
        foreign key (RECEIVING_TEAM_ID)
            references TEAM,
    constraint R_866
        foreign key (RECEIVING_STAFF_ID)
            references STAFF,
    constraint R_904
        foreign key (ORIGIN_PROVIDER_TEAM_ID)
            references PROVIDER_TEAM,
    constraint R_905
        foreign key (ORIGIN_PROVIDER_EMPLOYEE_ID)
            references PROVIDER_EMPLOYEE,
    constraint R_906
        foreign key (RECEIVING_PROVIDER_TEAM_ID)
            references PROVIDER_TEAM,
    constraint R_907
        foreign key (RECEIVING_PROVIDER_EMPLOYEE_ID)
            references PROVIDER_EMPLOYEE,
    constraint R_867
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_868
        foreign key (TRANSFER_REASON_ID)
            references R_TRANSFER_REASON,
    constraint TRUE_OR_FALSE_1450363321
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint R_869
        foreign key (PARTITION_AREA_ID)
            references PARTITION_AREA,
    constraint R_870
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint R_1057
        foreign key (WITHDRAWAL_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1083
        foreign key (MASTER_TRANSFER_ID)
            references MASTER_TRANSFER,
    constraint LIC_COND_TRANS_ORGIN_STAFF_XOR
        check ((
                (
                        ORIGIN_STAFF_ID is not null
                        and ORIGIN_PROVIDER_EMPLOYEE_ID is null
                    )
                or (
                        ORIGIN_STAFF_ID is null
                        and ORIGIN_PROVIDER_EMPLOYEE_ID is not null
                    )
            )),
    constraint LIC_COND_TRANS_ORGIN_TEAM_XOR
        check ((
                (
                        ORIGIN_TEAM_ID is not null
                        and ORIGIN_PROVIDER_TEAM_ID is null
                    )
                or (
                        ORIGIN_TEAM_ID is null
                        and ORIGIN_PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint LIC_COND_TRANS_REC_STAFF_XOR
        check ((
                (
                        RECEIVING_STAFF_ID is not null
                        and RECEIVING_PROVIDER_EMPLOYEE_ID is null
                    )
                or (
                        RECEIVING_STAFF_ID is null
                        and RECEIVING_PROVIDER_EMPLOYEE_ID is not null
                    )
            )),
    constraint LIC_COND_TRANS_REC_TEAM_XOR
        check ((
                (
                        RECEIVING_TEAM_ID is not null
                        and RECEIVING_PROVIDER_TEAM_ID is null
                    )
                or (
                        RECEIVING_TEAM_ID is null
                        and RECEIVING_PROVIDER_TEAM_ID is not null
                    )
            ))
);
create table LIC_CONDITION_MANAGER
(
    LIC_CONDITION_MANAGER_ID  number not null,
    LIC_CONDITION_ID          number not null,
    ALLOCATION_DATE           date   not null,
    TEAM_ID                   number,
    STAFF_ID                  number,
    EXTERNAL_PROVIDER_ID      number,
    PROVIDER_EMPLOYEE_ID      number,
    SOFT_DELETED              number not null,
    END_DATE                  date,
    PARTITION_AREA_ID         number not null,
    ROW_VERSION               number not null default 0,
    PROVIDER_TEAM_ID          number,
    CREATED_BY_USER_ID        number not null,
    LAST_UPDATED_USER_ID      number not null,
    CREATED_DATETIME          date   not null,
    LAST_UPDATED_DATETIME     date   not null,
    TRANSFER_REASON_ID        number not null,
    TRAINING_SESSION_ID       number,
    TRUST_PROVIDER_FLAG       number not null,
    STAFF_EMPLOYEE_ID         number not null,
    TRUST_PROVIDER_TEAM_ID    number not null,
    PROBATION_AREA_ID         number not null,
    ACTIVE_FLAG               number not null,
    LIC_CONDITION_TRANSFER_ID number,
    ALLOCATION_REASON_ID      number(22),
    constraint XPKLIC_CONDITION_MANAGER
        primary key (LIC_CONDITION_MANAGER_ID),
    foreign key (LIC_CONDITION_ID)
        references LIC_CONDITION,
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (STAFF_ID)
        references STAFF,
    foreign key (EXTERNAL_PROVIDER_ID)
        references EXTERNAL_PROVIDER,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    constraint TRUE_OR_FALSE44
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (TRANSFER_REASON_ID)
        references R_TRANSFER_REASON,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE46
        check (TRUST_PROVIDER_FLAG in (
                                       0, 1
            )),
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint R_884
        foreign key (LIC_CONDITION_TRANSFER_ID)
            references LIC_CONDITION_TRANSFER,
    constraint R_982
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
        references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
        references ALL_TEAM,
    constraint ACTIVE_FLAG_END_DATE3
        check ((
                (
                        ACTIVE_FLAG = 0
                        and END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and END_DATE is null
                    )
            )),
    constraint MANAGEMENT_VALID_DATES3
        check (ALLOCATION_DATE <= nvl(END_DATE, ALLOCATION_DATE)),
    constraint OFFENDER_MANAGER_TEAM_XOR4
        check ((
                (
                        TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint PROVIDER_EMPLOYEE_OR_STAFF4
        check ((
                (
                        PROVIDER_EMPLOYEE_ID is not null
                        and STAFF_ID is null
                    )
                or (
                        PROVIDER_EMPLOYEE_ID is null
                        and STAFF_ID is not null
                    )
            )),
    constraint STAFF_OR_TEAM4
        check ((
                STAFF_EMPLOYEE_ID = STAFF_ID
                or STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            )),
    constraint TRUST_OR_PROVIDER4
        check ((
                TRUST_PROVIDER_TEAM_ID = TEAM_ID
                or TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ))
);
create table USER_
(
    USER_ID                        number       not null,
    STAFF_ID                       number,
    PROVIDER_EMPLOYEE_ID           number,
    SURNAME                        varchar(35)  not null,
    FORENAME                       varchar(35)  not null,
    FORENAME2                      varchar(35),
    END_DATE                       date,
    NOTES                          clob,
    ROW_VERSION                    number       not null default 0,
    DISTINGUISHED_NAME             varchar(500) not null,
    EXTERNAL_PROVIDER_EMPLOYEEFLAG char,
    EXTERNAL_PROVIDER_ID           number,
    TRAINING_SESSION_ID            number,
    PRIVATE                        number       not null,
    ORGANISATION_ID                number       not null,
    SC_PROVIDER_ID                 number,
    CREATED_BY_USER_ID             number,
    CREATED_DATETIME               date,
    LAST_UPDATED_USER_ID           number,
    LAST_UPDATED_DATETIME          date,
    constraint XPKUSER_
        primary key (USER_ID),
    foreign key (STAFF_ID)
        references STAFF,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    constraint YES_OR_NO_435
        check (EXTERNAL_PROVIDER_EMPLOYEEFLAG in (
                                                  'Y', 'N'
            )),
    foreign key (EXTERNAL_PROVIDER_ID)
        references EXTERNAL_PROVIDER,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE_941631159
        check (PRIVATE in (
                           0, 1
            )),
    constraint R_891
        foreign key (ORGANISATION_ID)
            references ORGANISATION,
    constraint R_892
        foreign key (SC_PROVIDER_ID)
            references SC_PROVIDER,
    constraint XAK1USER_
        unique (USER_ID, DISTINGUISHED_NAME, TRAINING_SESSION_ID)
);
create table MOST_RECENTLY_VIEWED_OFFENDERS
(
    USER_ID             number not null,
    OFFENDER_ID         number not null,
    TIME_AND_DATE       date   not null,
    TRAINING_SESSION_ID number,
    foreign key (USER_ID)
        references USER_,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
alter table MOST_RECENTLY_VIEWED_OFFENDERS
    add constraint XPKMOST_RECENTLY_VIEWED_OFFEND
        primary key (USER_ID, OFFENDER_ID);
create table USER_TRAINING_SESSION
(
    USER_ID             number not null,
    ROW_VERSION         number not null default 0,
    TRAINING_SESSION_ID number not null,
    constraint XPKUSER_TRAINING_SESSION
        primary key (USER_ID),
    foreign key (USER_ID)
        references USER_,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table EXCLUSION
(
    EXCLUSION_ID             number not null,
    OFFENDER_ID              number not null,
    USER_ID                  number not null,
    EXCLUSION_DATE           date   not null,
    EXCLUSION_END_DATE       date,
    EXCLUSION_END_TIME       date,
    EXCLUSION_START_STAFF_ID number not null,
    ROW_VERSION              number not null default 0,
    EXCLUSION_REASON_ID      number not null,
    EXCLUSION_END_STAFF_ID   number,
    CREATED_DATETIME         date   not null,
    LAST_UPDATED_DATETIME    date   not null,
    PARTITION_AREA_ID        number not null,
    EXCLUSION_START_TEAM_ID  number not null,
    CREATED_BY_USER_ID       number not null,
    EXCLUSION_END_TEAM_ID    number,
    LAST_UPDATED_USER_ID     number not null,
    TRAINING_SESSION_ID      number,
    constraint XPKEXCLUSION
        primary key (EXCLUSION_ID),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (USER_ID)
        references USER_,
    foreign key (EXCLUSION_START_STAFF_ID)
        references STAFF,
    foreign key (EXCLUSION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (EXCLUSION_END_STAFF_ID)
        references STAFF,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (EXCLUSION_START_TEAM_ID)
        references TEAM,
    foreign key (EXCLUSION_END_TEAM_ID)
        references TEAM,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table RESTRICTION
(
    RESTRICTION_ID             number not null,
    OFFENDER_ID                number not null,
    USER_ID                    number not null,
    RESTRICTION_DATE           date   not null,
    RESTRICTION_TIME           date   not null,
    RESTRICTION_START_STAFF_ID number not null,
    RESTRICTION_END_DATE       date,
    RESTRICTION_END_TIME       date,
    ROW_VERSION                number not null default 0,
    RESTRICTION_REASON_ID      number not null,
    RESTRICTION_END_STAFF_ID   number,
    CREATED_DATETIME           date   not null,
    LAST_UPDATED_DATETIME      date   not null,
    PARTITION_AREA_ID          number not null,
    RESTRICTION_START_TEAM_ID  number not null,
    CREATED_BY_USER_ID         number not null,
    RESTRICTION_END_TEAM_ID    number,
    LAST_UPDATED_USER_ID       number not null,
    TRAINING_SESSION_ID        number,
    constraint XPKRESTRICTION
        primary key (RESTRICTION_ID),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (USER_ID)
        references USER_,
    foreign key (RESTRICTION_START_STAFF_ID)
        references STAFF,
    foreign key (RESTRICTION_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (RESTRICTION_END_STAFF_ID)
        references STAFF,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (RESTRICTION_START_TEAM_ID)
        references TEAM,
    foreign key (RESTRICTION_END_TEAM_ID)
        references TEAM,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table AP_AUDIT_REGISTER
(
    AP_AUDIT_REGISTER_ID          number not null,
    APPROVED_PREMISES_ID          number not null,
    RESIDENTS                     number not null,
    LAST_RESIDENCY_AUDIT_DATETIME date   not null,
    PARTITION_AREA_ID             number not null,
    CREATED_BY_USER_ID            number not null,
    CREATED_DATETIME              date   not null,
    LAST_UPDATED_USER_ID          number not null,
    LAST_UPDATED_DATETIME         date   not null,
    ROW_VERSION                   number not null default 0,
    TRAINING_SESSION_ID           number,
    USER_ID                       number not null,
    constraint XPKAP_AUDIT_REGISTER
        primary key (AP_AUDIT_REGISTER_ID),
    foreign key (APPROVED_PREMISES_ID)
        references R_APPROVED_PREMISES,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (USER_ID)
        references USER_
);
create table CONTACT_ALERT_CLEAR
(
    CONTACT_ALERT_CLEAR_ID number not null,
    OFFENDER_ID            number not null,
    CONTACT_ID             number not null,
    SPG_NOTIFICATION_ID    number,
    SUBMITTED_DATETIME     date   not null,
    PROCESSED_DATETIME     date,
    PROCESSED_FLAG         number not null,
    ERROR_FLAG             number not null,
    ERROR_MESSAGE          varchar(4000),
    ROW_VERSION            number not null default 0,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    constraint XPKCONTACT_ALERT_CLEAR
        primary key (CONTACT_ALERT_CLEAR_ID),
    constraint R_1215
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1216
        foreign key (CONTACT_ID)
            references CONTACT,
    constraint R_1217
        foreign key (SPG_NOTIFICATION_ID)
            references SPG_NOTIFICATION,
    constraint TRUE_OR_FALSE_895591335
        check (PROCESSED_FLAG in (
                                  0, 1
            )),
    constraint TRUE_OR_FALSE_65056682
        check (ERROR_FLAG in (
                              0, 1
            )),
    constraint R_1218
        foreign key (CREATED_BY_USER_ID)
            references USER_,
    constraint R_1219
        foreign key (LAST_UPDATED_USER_ID)
            references USER_
);
create table PROBATION_AREA_USER
(
    USER_ID               number not null,
    PROBATION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    CREATED_DATETIME      date   not null,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_DATETIME date   not null,
    LAST_UPDATED_USER_ID  number not null,
    TRAINING_SESSION_ID   number,
    foreign key (USER_ID)
        references USER_,
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKPROBATION_AREA_USER
        primary key (USER_ID, PROBATION_AREA_ID)
);
create table UPW_ADJUSTMENT
(
    UPW_ADJUSTMENT_ID     number      not null,
    UPW_DETAILS_ID        number      not null,
    SOFT_DELETED          number      not null,
    PARTITION_AREA_ID     number      not null,
    ADJUSTMENT_AMOUNT     number      not null,
    ADJUSTMENT_DATE       date,
    ADJUSTMENT_TYPE       varchar(20) not null,
    ROW_VERSION           number      not null default 0,
    ADJUSTMENT_REASON_ID  number      not null,
    ADJUSTED_BY_USER_ID   number      not null,
    TRAINING_SESSION_ID   number,
    CREATED_BY_USER_ID    number      not null,
    CREATED_DATETIME      date        not null,
    LAST_UPDATED_USER_ID  number      not null,
    LAST_UPDATED_DATETIME date        not null,
    constraint XPKUPW_ADJUSTMENT
        primary key (UPW_ADJUSTMENT_ID),
    foreign key (UPW_DETAILS_ID)
        references UPW_DETAILS,
    constraint TRUE_OR_FALSE36
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint GREATER_THAN_04
        check (ADJUSTMENT_AMOUNT > 0),
    constraint POSITIVE_NEGATIVE
        check (ADJUSTMENT_TYPE in (
                                   'POSITIVE', 'NEGATIVE'
            )),
    foreign key (ADJUSTMENT_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (ADJUSTED_BY_USER_ID)
        references USER_,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table DOCUMENT
(
    DOCUMENT_ID                 number       not null,
    OFFENDER_ID                 number       not null,
    TABLE_NAME                  varchar(30),
    DOCUMENT                    blob,
    PRIMARY_KEY_ID              number,
    LAST_SAVED                  timestamp(6) not null,
    SOFT_DELETED                number       not null,
    ROW_VERSION                 number       not null default 0,
    STATUS                      char         not null,
    WORK_IN_PROGRESS            char,
    PARTITION_AREA_ID           number       not null,
    LAST_UPDATED_USER_ID        number,
    TRAINING_SESSION_ID         number,
    ORGANISATIONS               array,
    TEMPLATE_NAME               varchar(200),
    DOCUMENT_NAME               varchar(200),
    LAST_UPD_AUTHOR_PROVIDER_ID number,
    CREATED_PROVIDER_ID         number,
    CREATED_BY_USER_ID          number,
    CREATED_DATETIME            date,
    ALFRESCO_DOCUMENT_ID        varchar(36),
    PUBLISHED                   char,
    constraint XPKDOCUMENT
        primary key (DOCUMENT_ID),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint DOCUMENT_TABLE
        check (TABLE_NAME in (
                              'ADDRESSASSESSMENT', 'ASSESSMENT', 'APPROVED_PREMISES_REFERRAL', 'REFERRAL',
                              'CASE_ALLOCATION', 'COURT_REPORT', 'INSTITUTIONAL_REPORT', 'CONTACT', 'PERSONALCONTACT',
                              'OFFENDER', 'EVENT', 'NSI', 'PERSONAL_CIRCUMSTANCE', 'UPW_APPOINTMENT'
            )),
    constraint TRUE_OR_FALSE29
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint YES_OR_NO_ONLY23
        check (STATUS in (
                          'Y', 'N'
            )),
    constraint YES_OR_NO_406
        check (WORK_IN_PROGRESS in (
                                    'Y', 'N'
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (LAST_UPDATED_USER_ID)
        references USER_,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint R_1091
        foreign key (LAST_UPD_AUTHOR_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_1092
        foreign key (CREATED_PROVIDER_ID)
            references PROBATION_AREA,
    constraint XAK1DOCUMENT
        unique (ALFRESCO_DOCUMENT_ID),
    constraint YES_OR_NO_ONLY_1030455660
        check (PUBLISHED in (
                             'Y', 'N'
            ))
);
create table USER_NOTE
(
    USER_NOTE_ID          number not null,
    USER_ID               number not null,
    ROW_VERSION           number not null default 0,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    NOTES                 clob,
    constraint XPKUSER_NOTE
        primary key (USER_NOTE_ID),
    constraint R_1288
        foreign key (USER_ID)
            references USER_,
    constraint R_1289
        foreign key (LAST_UPDATED_USER_ID)
            references USER_
);
create table ADDRESS_ASSESSMENT
(
    ADDRESS_ASSESSMENT_ID number not null,
    ASSESSMENT_DATE       date   not null,
    DETAILS               clob,
    STAFF_ID              number,
    TEAM_ID               number,
    PARTITION_AREA_ID     number not null,
    SOFT_DELETED          number not null,
    ROW_VERSION           number not null default 0,
    OFFENDER_ID           number not null,
    PROVIDER_EMPLOYEE_ID  number,
    PROVIDER_TEAM_ID      number,
    OFFENDER_ADDRESS_ID   number not null,
    TRAINING_SESSION_ID   number,
    ORGANISATIONS         array,
    CREATED_BY_USER_ID    number not null,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    DOCUMENT_LINKED       char,
    constraint XPKADDRESS_ASSESSMENT
        primary key (ADDRESS_ASSESSMENT_ID),
    foreign key (STAFF_ID)
        references STAFF,
    foreign key (TEAM_ID)
        references TEAM,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE13
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (OFFENDER_ADDRESS_ID)
        references OFFENDER_ADDRESS,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint YES_OR_NO_ONLY_1686425284
        check (DOCUMENT_LINKED in (
                                   'Y', 'N'
            )),
    constraint ADDRESS_ASSESSMENT_STAFF_XOR
        check ((
                (
                        STAFF_ID is not null
                        and PROVIDER_EMPLOYEE_ID is null
                    )
                or (
                        STAFF_ID is null
                        and PROVIDER_EMPLOYEE_ID is not null
                    )
            )),
    constraint ADDRESS_ASSESSMENT_TEAM_XOR
        check ((
                (
                        TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            ))
);
create table NSI_TRANSFER
(
    NSI_TRANSFER_ID       number not null,
    OFFENDER_ID           number not null,
    NSI_ID                number not null,
    TRANSFER_STATUS_ID    number not null,
    REQUEST_DATE          date,
    ACCEPTED_DECISION_ID  number,
    REJECTION_REASON_ID   number,
    ORIGIN_TEAM_ID        number not null,
    ORIGIN_STAFF_ID       number not null,
    TARGET_TEAM_ID        number not null,
    TARGET_STAFF_ID       number not null,
    NOTES                 clob,
    ALLOCATION_REASON_ID  number,
    TRANSFER_REASON_ID    number not null,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    ORGANISATIONS         array,
    TRAINING_SESSION_ID   number,
    WITHDRAWAL_REASON_ID  number,
    TRANSFER_STATUS_DATE  date,
    MASTER_TRANSFER_ID    number,
    constraint XPKNSI_TRANSFER
        primary key (NSI_TRANSFER_ID),
    constraint R_901
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_825
        foreign key (NSI_ID)
            references NSI,
    constraint R_826
        foreign key (TRANSFER_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_827
        foreign key (ACCEPTED_DECISION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_828
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_829
        foreign key (ORIGIN_TEAM_ID)
            references TEAM,
    constraint R_830
        foreign key (ORIGIN_STAFF_ID)
            references STAFF,
    constraint R_831
        foreign key (TARGET_TEAM_ID)
            references TEAM,
    constraint R_832
        foreign key (TARGET_STAFF_ID)
            references STAFF,
    constraint R_833
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_846
        foreign key (TRANSFER_REASON_ID)
            references R_TRANSFER_REASON,
    constraint TRUE_OR_FALSE_1231758036
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint R_835
        foreign key (PARTITION_AREA_ID)
            references PARTITION_AREA,
    constraint R_836
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint R_1061
        foreign key (WITHDRAWAL_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1087
        foreign key (MASTER_TRANSFER_ID)
            references MASTER_TRANSFER
);
create table NSI_MANAGER
(
    NSI_MANAGER_ID        number not null,
    NSI_ID                number not null,
    START_DATE            date   not null,
    END_DATE              date,
    PROBATION_AREA_ID     number not null,
    TEAM_ID               number not null,
    STAFF_ID              number not null,
    NSI_TRANSFER_ID       number,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    ACTIVE_FLAG           number not null,
    TRANSFER_REASON_ID    number,
    TRAINING_SESSION_ID   number,
    ALLOCATION_REASON_ID  number(22),
    constraint XPKNSI_MANAGER
        primary key (NSI_MANAGER_ID),
    constraint R_837
        foreign key (NSI_ID)
            references NSI,
    constraint R_838
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint R_839
        foreign key (TEAM_ID)
            references TEAM,
    constraint R_840
        foreign key (STAFF_ID)
            references STAFF,
    constraint R_841
        foreign key (NSI_TRANSFER_ID)
            references NSI_TRANSFER,
    constraint TRUE_OR_FALSE_1382103337
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint R_842
        foreign key (PARTITION_AREA_ID)
            references PARTITION_AREA,
    constraint R_845
        foreign key (TRANSFER_REASON_ID)
            references R_TRANSFER_REASON,
    constraint R_844
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint R_983
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint ACTIVE_FLAG_END_DATE_238841213
        check ((
                (
                        ACTIVE_FLAG = 0
                        and END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and END_DATE is null
                    )
            ))
);
create table SPG_ERROR
(
    SPG_ERROR_ID          number  not null,
    SPG_NOTIFICATION_ID   number  not null,
    SPG_MESSAGE_TYPE_ID   number  not null,
    ERROR_DATE            date    not null,
    CREATED_BY_USER_ID    number  not null,
    CREATED_DATETIME      date    not null,
    LAST_UPDATED_USER_ID  number  not null,
    LAST_UPDATED_DATETIME date    not null,
    ROW_VERSION           number  not null default 0,
    SPG_ERROR_CATEGORY_ID number  not null,
    MESSAGE_CRN           char(7) not null,
    NOTES                 clob,
    RESOLUTION_STATUS_ID  number(38),
    RESOLUTION_DATE       date,
    INCIDENT_IDENTIFIER   varchar(100),
    ASSIGNED_TO_STAFF_ID  number,
    constraint XPKSPG_ERROR
        primary key (SPG_ERROR_ID),
    constraint R_1127
        foreign key (SPG_NOTIFICATION_ID)
            references SPG_NOTIFICATION,
    constraint R_1128
        foreign key (SPG_MESSAGE_TYPE_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1139
        foreign key (SPG_ERROR_CATEGORY_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1140
        foreign key (RESOLUTION_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1229
        foreign key (ASSIGNED_TO_STAFF_ID)
            references STAFF
);
create table SPG_ERROR_ELEMENT
(
    SPG_ERROR_ELEMENT_ID  number not null,
    SPG_ERROR_ID          number not null,
    SPG_ELEMENT_TYPE_ID   number not null,
    UNIQUE_ID             number,
    CREATED_BY_USER_ID    number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_USER_ID  number not null,
    LAST_UPDATED_DATETIME date   not null,
    ROW_VERSION           number not null default 0,
    constraint XPKSPF_ERROR_ELEMENT
        primary key (SPG_ERROR_ELEMENT_ID),
    constraint R_1130
        foreign key (SPG_ERROR_ID)
            references SPG_ERROR,
    constraint R_1131
        foreign key (SPG_ELEMENT_TYPE_ID)
            references R_STANDARD_REFERENCE_LIST
);
create table SPG_ERROR_DETAIL
(
    SPG_ERROR_DETAIL_ID  number not null,
    SPG_ERROR_ID         number not null,
    SPG_ERROR_ELEMENT_ID number,
    SPG_ERROR_CODE_ID    number,
    DATA_ITEM            varchar(255),
    constraint XPKSPG_ERROR_DETAIL
        primary key (SPG_ERROR_DETAIL_ID),
    constraint R_1132
        foreign key (SPG_ERROR_ID)
            references SPG_ERROR,
    constraint R_1133
        foreign key (SPG_ERROR_ELEMENT_ID)
            references SPG_ERROR_ELEMENT,
    constraint R_1136
        foreign key (SPG_ERROR_CODE_ID)
            references R_STANDARD_REFERENCE_LIST
);
create table PSS_RQMNT_TRANSFER
(
    PSS_RQMNT_TRANSFER_ID number(22) not null,
    OFFENDER_ID           number(22) not null,
    PSS_RQMNT_ID          number(22) not null,
    TRANSFER_STATUS_ID    number(22) not null,
    REQUEST_DATE          date,
    ACCEPTED_DECISION_ID  number(22),
    REJECTION_REASON_ID   number(22),
    ORIGIN_TEAM_ID        number(22),
    ORIGIN_STAFF_ID       number(22),
    RECEIVING_TEAM_ID     number(22),
    RECEIVING_STAFF_ID    number(22),
    NOTES                 clob,
    ALLOCATION_REASON_ID  number(22),
    TRANSFER_REASON_ID    number(22) not null,
    SOFT_DELETED          number(22) not null,
    ROW_VERSION           number(22) not null default 0,
    CREATED_BY_USER_ID    number(22) not null,
    CREATED_DATETIME      date       not null,
    LAST_UPDATED_USER_ID  number(22) not null,
    LAST_UPDATED_DATETIME date       not null,
    ORGANISATIONS         array,
    WITHDRAWAL_REASON_ID  number,
    TRANSFER_STATUS_DATE  date,
    MASTER_TRANSFER_ID    number,
    constraint XPKPSS_RQMNT_TRANSFER
        primary key (PSS_RQMNT_TRANSFER_ID),
    constraint R_952
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_951
        foreign key (PSS_RQMNT_ID)
            references PSS_RQMNT,
    constraint R_953
        foreign key (TRANSFER_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_954
        foreign key (ACCEPTED_DECISION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_955
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_956
        foreign key (ORIGIN_TEAM_ID)
            references TEAM,
    constraint R_957
        foreign key (ORIGIN_STAFF_ID)
            references STAFF,
    constraint R_958
        foreign key (RECEIVING_TEAM_ID)
            references TEAM,
    constraint R_959
        foreign key (RECEIVING_STAFF_ID)
            references STAFF,
    constraint R_960
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_961
        foreign key (TRANSFER_REASON_ID)
            references R_TRANSFER_REASON,
    constraint TRUE_OR_FALSE_289571199
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint R_1058
        foreign key (WITHDRAWAL_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1084
        foreign key (MASTER_TRANSFER_ID)
            references MASTER_TRANSFER
);
create table PSS_RQMNT_MANAGER
(
    PSS_RQMNT_MANAGER_ID   number(22) not null,
    PSS_RQMNT_ID           number(22) not null,
    ALLOCATION_DATE        date       not null,
    TEAM_ID                number(22),
    STAFF_ID               number(22),
    SOFT_DELETED           number(22) not null,
    END_DATE               date,
    ROW_VERSION            number(22) not null default 0,
    CREATED_BY_USER_ID     number(22) not null,
    CREATED_DATETIME       date       not null,
    LAST_UPDATED_USER_ID   number(22) not null,
    LAST_UPDATED_DATETIME  date       not null,
    TRANSFER_REASON_ID     number(22) not null,
    TRUST_PROVIDER_FLAG    number(22) not null,
    TRUST_PROVIDER_TEAM_ID number(22) not null,
    STAFF_EMPLOYEE_ID      number(22),
    ACTIVE_FLAG            number(22) not null,
    PSS_RQMNT_TRANSFER_ID  number(22),
    ALLOCATION_REASON_ID   number(22),
    PROBATION_AREA_ID      number(22) not null,
    constraint XPKPSS_RQMNT_MANAGER
        primary key (PSS_RQMNT_MANAGER_ID),
    constraint R_943
        foreign key (PSS_RQMNT_ID)
            references PSS_RQMNT,
    constraint R_944
        foreign key (TEAM_ID)
            references TEAM,
    constraint R_945
        foreign key (STAFF_ID)
            references STAFF,
    constraint TRUE_OR_FALSE_428933
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint R_946
        foreign key (TRANSFER_REASON_ID)
            references R_TRANSFER_REASON,
    constraint TRUE_OR_FALSE_200484710
        check (ACTIVE_FLAG in (
                               0, 1
            )),
    constraint R_962
        foreign key (PSS_RQMNT_TRANSFER_ID)
            references PSS_RQMNT_TRANSFER,
    constraint R_1001
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1005
        foreign key (PROBATION_AREA_ID)
            references PROBATION_AREA,
    constraint R_948
        foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
            references ALL_TEAM,
    constraint R_950
        foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
            references OFFICER,
    constraint ACTIVE_FLAG_END_DAT_1299265494
        check ((
                (
                        ACTIVE_FLAG = 0
                        and END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and END_DATE is null
                    )
            )),
    constraint MANAGEMENT_VALID_DA_1173549581
        check (ALLOCATION_DATE <= nvl(END_DATE, ALLOCATION_DATE))
);
create table APPROVED_PREMISES_REFERRAL
(
    APPROVED_PREMISES_REFERRAL_ID number not null,
    REFERRAL_DATE                 date   not null,
    EXPECTED_ARRIVAL_DATE         date,
    EXPECTED_DEPARTURE_DATE       date,
    DECISION_DATE                 date,
    REFERRAL_NOTES                clob,
    NON_ARRIVAL_DATE              date,
    ORIGINAL_AP_ADMIT_DATE        date,
    SELF_HARM_ISSUES              varchar(4000),
    NON_ARRIVAL_NOTES             clob,
    REFERRING_TEAM_ID             number,
    DECISION_BY_TEAM_ID           number,
    REFERRING_STAFF_ID            number,
    DECISION_BY_STAFF_ID          number,
    DECISION_NOTES                clob,
    SOFT_DELETED                  number not null,
    PARTITION_AREA_ID             number not null,
    ROW_VERSION                   number not null default 0,
    REFERRAL_CATEGORY_ID          number not null,
    REFERRAL_DECISION_ID          number not null,
    PENDING_STATUS_ID             number,
    REJECT_REASON_ID              number,
    REFERRAL_OUTCOME_ID           number,
    REFERRAL_GROUP_ID             number,
    NON_ARRIVAL_REASON_ID         number,
    INSTITUTION_ID                number,
    APPROVED_PREMISES_ID          number,
    TRANSFER_REASON_ID            number,
    REFERRAL_SOURCE_ID            number not null,
    SOURCE_TYPE_ID                number not null,
    EXTERNAL_REFERRAL_REASON_ID   number,
    CREATED_DATETIME              date   not null,
    LAST_UPDATED_DATETIME         date   not null,
    EVENT_ID                      number not null,
    ESTABLISHMENT                 char,
    REFERRING_PROBATION_AREA_ID   number,
    REFERRED_TO_PROBATION_AREA_ID number,
    CREATED_BY_USER_ID            number not null,
    LAST_UPDATED_USER_ID          number not null,
    TRAINING_SESSION_ID           number,
    OFFENDER_ID                   number not null,
    ORIGINAL_APPROVED_PREMISES_ID number,
    ORGANISATIONS                 array,
    RESERVATION_START_DATE        date,
    RESERVATION_LENGTH            number(38),
    REASON_FOR_REFERRAL           varchar(400),
    ACTIVE_ARSON_RISK_ID          number not null,
    ARSON_RISK_DETAILS            varchar(400),
    DISABILITY_ISSUES_ID          number not null,
    DISABILITY_DETAILS            varchar(400),
    SINGLE_ROOM_ID                number not null,
    SINGLE_ROOM_DETAILS           varchar(400),
    SEX_OFFENDER                  char   not null,
    GANG_AFFILIATED               char   not null,
    MAPPA_LEVEL_ID                number,
    ROH_PUBLIC_ID                 number not null,
    ROH_STAFF_ID                  number not null,
    ROH_KNOWN_PERSON_ID           number not null,
    ROH_CHILDREN_ID               number not null,
    ROH_RESIDENTS_ID              number not null,
    ROH_SELF_ID                   number not null,
    ROH_OTHERS_ID                 number not null,
    RISK_INFORMATION              clob,
    REFERRAL_DATE_TYPE_ID         number,
    constraint XPKAPPROVED_PREMISES_REFERRAL
        primary key (APPROVED_PREMISES_REFERRAL_ID),
    foreign key (REFERRING_TEAM_ID)
        references TEAM,
    foreign key (DECISION_BY_TEAM_ID)
        references TEAM,
    foreign key (REFERRING_STAFF_ID)
        references STAFF,
    foreign key (DECISION_BY_STAFF_ID)
        references STAFF,
    constraint TRUE_OR_FALSE14
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (REFERRAL_CATEGORY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (REFERRAL_DECISION_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PENDING_STATUS_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (REJECT_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (REFERRAL_OUTCOME_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (REFERRAL_GROUP_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (NON_ARRIVAL_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (APPROVED_PREMISES_ID)
        references R_APPROVED_PREMISES,
    foreign key (TRANSFER_REASON_ID)
        references R_TRANSFER_REASON,
    foreign key (REFERRAL_SOURCE_ID)
        references R_REFERRAL_SOURCE,
    foreign key (SOURCE_TYPE_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (EXTERNAL_REFERRAL_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (EVENT_ID)
        references EVENT,
    constraint YES_OR_NO_ONLY7
        check (ESTABLISHMENT in (
                                 'Y', 'N'
            )),
    foreign key (REFERRING_PROBATION_AREA_ID)
        references PROBATION_AREA,
    foreign key (REFERRED_TO_PROBATION_AREA_ID)
        references PROBATION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (ORIGINAL_APPROVED_PREMISES_ID)
        references R_APPROVED_PREMISES,
    constraint R_1262
        foreign key (ACTIVE_ARSON_RISK_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1263
        foreign key (DISABILITY_ISSUES_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1264
        foreign key (SINGLE_ROOM_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint YES_OR_NO_ONLY_31189800
        check (SEX_OFFENDER in (
                                'Y', 'N'
            )),
    constraint YES_OR_NO_ONLY_818527117
        check (GANG_AFFILIATED in (
                                   'Y', 'N'
            )),
    constraint R_1266
        foreign key (MAPPA_LEVEL_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1267
        foreign key (ROH_PUBLIC_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1268
        foreign key (ROH_STAFF_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1269
        foreign key (ROH_KNOWN_PERSON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1270
        foreign key (ROH_CHILDREN_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1271
        foreign key (ROH_RESIDENTS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1272
        foreign key (ROH_SELF_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1273
        foreign key (ROH_OTHERS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1274
        foreign key (REFERRAL_DATE_TYPE_ID)
            references R_STANDARD_REFERENCE_LIST,
    foreign key (INSTITUTION_ID, ESTABLISHMENT)
        references R_INSTITUTION,
    constraint APPROVED_PREMISES_REFERRAL_TYP
        check ((
                (
                        REFERRAL_GROUP_ID is null
                        and APPROVED_PREMISES_ID is not null
                    )
                or (
                        REFERRAL_GROUP_ID is not null
                        and APPROVED_PREMISES_ID is null
                    )
                or (
                        REFERRAL_GROUP_ID is not null
                        and APPROVED_PREMISES_ID is not null
                    )
            )),
    constraint AP_REF_CUS_INSTITUTION
        check ((
                (
                        INSTITUTION_ID is not null
                        and ESTABLISHMENT = 'Y'
                    )
                or (
                        INSTITUTION_ID is null
                        and ESTABLISHMENT is null
                    )
            ))
);
create table APPROVED_PREMISES_PREFERRED
(
    APPROVED_PREMISES_PREFERRED_ID number not null,
    APPROVED_PREMISES_REFERRAL_ID  number not null,
    APPROVED_PREMISES_ID           number not null,
    DISTANCE_FROM_AP_ID            number not null,
    DISTANCE_REASON_ID             number,
    NOTES                          clob,
    REFERRAL_DECISION_ID           number,
    ROW_VERSION                    number not null default 0,
    CREATED_BY_USER_ID             number not null,
    CREATED_DATETIME               date   not null,
    LAST_UPDATED_USER_ID           number not null,
    LAST_UPDATED_DATETIME          date   not null,
    RANK                           number,
    constraint XPKAPPROVED_PREMISES_PREFERRED
        primary key (APPROVED_PREMISES_PREFERRED_ID),
    constraint R_1275
        foreign key (APPROVED_PREMISES_REFERRAL_ID)
            references APPROVED_PREMISES_REFERRAL,
    constraint R_1276
        foreign key (APPROVED_PREMISES_ID)
            references R_APPROVED_PREMISES,
    constraint R_1277
        foreign key (DISTANCE_FROM_AP_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1278
        foreign key (DISTANCE_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1279
        foreign key (REFERRAL_DECISION_ID)
            references R_STANDARD_REFERENCE_LIST
);
create table APPROVED_PREMISES_RESIDENCE
(
    APPROVED_PREMISES_RESIDENCE_ID number not null,
    APPROVED_PREMISES_REFERRAL_ID  number not null,
    ARRIVAL_DATE                   date   not null,
    EXPECTED_DEPARTURE_DATE        date,
    ROOM_NUMBER                    varchar(30),
    ARRIVAL_NOTES                  clob,
    DEPARTURE_DATE                 date,
    SOFT_DELETED                   number not null,
    PARTITION_AREA_ID              number not null,
    ROW_VERSION                    number not null default 0,
    DEPARTURE_REASON_ID            number,
    APPROVED_PREMISES_ID           number,
    DEST_APPROVED_PREMISES_ID      number,
    MOVE_ON_CATEGORY_ID            number,
    APPROVED_PREMISES_STAFF_ID     number,
    KEY_WORKER_STAFF_ID            number,
    CREATED_DATETIME               date   not null,
    CREATED_BY_USER_ID             number not null,
    LAST_UPDATED_DATETIME          date   not null,
    APPROVED_PREMISES_TEAM_ID      number,
    LAST_UPDATED_USER_ID           number not null,
    TRAINING_SESSION_ID            number,
    OFFENDER_ID                    number not null,
    ORGANISATIONS                  array,
    constraint XPKAPPROVED_PREMISES_RESIDENCE
        primary key (APPROVED_PREMISES_RESIDENCE_ID),
    foreign key (APPROVED_PREMISES_REFERRAL_ID)
        references APPROVED_PREMISES_REFERRAL,
    constraint TRUE_OR_FALSE41
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (DEPARTURE_REASON_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (APPROVED_PREMISES_ID)
        references R_APPROVED_PREMISES,
    foreign key (DEST_APPROVED_PREMISES_ID)
        references R_APPROVED_PREMISES,
    foreign key (MOVE_ON_CATEGORY_ID)
        references R_MOVE_ON_CATEGORY,
    foreign key (APPROVED_PREMISES_STAFF_ID)
        references STAFF,
    foreign key (KEY_WORKER_STAFF_ID)
        references STAFF,
    foreign key (APPROVED_PREMISES_TEAM_ID)
        references TEAM,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER
);
create table CONTACT_UPLOAD_DOCUMENT
(
    CONTACT_UPLOAD_DOCUMENT_ID number not null,
    CONTACT_ID                 number,
    DOCUMENT                   blob   not null,
    CREATED_BY_USER_ID         number not null,
    CREATED_DATETIME           date   not null,
    LAST_UPDATED_USER_ID       number not null,
    LAST_UPDATED_DATETIME      date   not null,
    ROW_VERSION                number not null default 0,
    TRAINING_SESSION_ID        number,
    DOCUMENT_NAME              varchar(200),
    constraint XPKCONTACT_UPLOAD_DOCUMENT
        primary key (CONTACT_UPLOAD_DOCUMENT_ID),
    constraint R_778
        foreign key (CONTACT_ID)
            references CONTACT
);
create table RQMNT_TRANSFER
(
    RQMNT_TRANSFER_ID              number not null,
    OFFENDER_ID                    number not null,
    RQMNT_ID                       number not null,
    TRANSFER_STATUS_ID             number not null,
    REQUEST_DATE                   date,
    ACCEPTED_DECISION_ID           number,
    REJECTION_REASON_ID            number,
    ORIGIN_TEAM_ID                 number,
    ORIGIN_STAFF_ID                number,
    RECEIVING_TEAM_ID              number,
    RECEIVING_STAFF_ID             number,
    ORIGIN_PROVIDER_TEAM_ID        number,
    ORIGIN_PROVIDER_EMPLOYEE_ID    number,
    RECEIVING_PROVIDER_TEAM_ID     number,
    RECEIVING_PROVIDER_EMPLOYEE_ID number,
    NOTES                          clob,
    ALLOCATION_REASON_ID           number,
    TRANSFER_REASON_ID             number not null,
    SOFT_DELETED                   number not null,
    PARTITION_AREA_ID              number not null,
    ROW_VERSION                    number not null default 0,
    CREATED_BY_USER_ID             number not null,
    CREATED_DATETIME               date   not null,
    LAST_UPDATED_USER_ID           number not null,
    LAST_UPDATED_DATETIME          date   not null,
    ORGANISATIONS                  array,
    TRAINING_SESSION_ID            number,
    WITHDRAWAL_REASON_ID           number,
    TRANSFER_STATUS_DATE           date,
    MASTER_TRANSFER_ID             number,
    constraint XPKRQMNT_TRANSFER
        primary key (RQMNT_TRANSFER_ID),
    constraint R_903
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_871
        foreign key (RQMNT_ID)
            references RQMNT,
    constraint R_872
        foreign key (TRANSFER_STATUS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_873
        foreign key (ACCEPTED_DECISION_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_874
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_875
        foreign key (ORIGIN_TEAM_ID)
            references TEAM,
    constraint R_876
        foreign key (ORIGIN_STAFF_ID)
            references STAFF,
    constraint R_877
        foreign key (RECEIVING_TEAM_ID)
            references TEAM,
    constraint R_878
        foreign key (RECEIVING_STAFF_ID)
            references STAFF,
    constraint R_912
        foreign key (ORIGIN_PROVIDER_TEAM_ID)
            references PROVIDER_TEAM,
    constraint R_913
        foreign key (ORIGIN_PROVIDER_EMPLOYEE_ID)
            references PROVIDER_EMPLOYEE,
    constraint R_914
        foreign key (RECEIVING_PROVIDER_TEAM_ID)
            references PROVIDER_TEAM,
    constraint R_915
        foreign key (RECEIVING_PROVIDER_EMPLOYEE_ID)
            references PROVIDER_EMPLOYEE,
    constraint R_879
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_880
        foreign key (TRANSFER_REASON_ID)
            references R_TRANSFER_REASON,
    constraint TRUE_OR_FALSE_1309528533
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint R_881
        foreign key (PARTITION_AREA_ID)
            references PARTITION_AREA,
    constraint R_882
        foreign key (TRAINING_SESSION_ID)
            references TRAINING_SESSION,
    constraint R_1056
        foreign key (WITHDRAWAL_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1082
        foreign key (MASTER_TRANSFER_ID)
            references MASTER_TRANSFER,
    constraint RQMNT_TRANS_ORGIN_STAFF_XOR
        check ((
                (
                        ORIGIN_STAFF_ID is not null
                        and ORIGIN_PROVIDER_EMPLOYEE_ID is null
                    )
                or (
                        ORIGIN_STAFF_ID is null
                        and ORIGIN_PROVIDER_EMPLOYEE_ID is not null
                    )
            )),
    constraint RQMNT_TRANS_ORGIN_TEAM_XOR
        check ((
                (
                        ORIGIN_TEAM_ID is not null
                        and ORIGIN_PROVIDER_TEAM_ID is null
                    )
                or (
                        ORIGIN_TEAM_ID is null
                        and ORIGIN_PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint RQMNT_TRANS_REC_STAFF_XOR
        check ((
                (
                        RECEIVING_STAFF_ID is not null
                        and RECEIVING_PROVIDER_EMPLOYEE_ID is null
                    )
                or (
                        RECEIVING_STAFF_ID is null
                        and RECEIVING_PROVIDER_EMPLOYEE_ID is not null
                    )
            )),
    constraint RQMNT_TRANS_REC_TEAM_XOR
        check ((
                (
                        RECEIVING_TEAM_ID is not null
                        and RECEIVING_PROVIDER_TEAM_ID is null
                    )
                or (
                        RECEIVING_TEAM_ID is null
                        and RECEIVING_PROVIDER_TEAM_ID is not null
                    )
            ))
);
create table RQMNT_MANAGER
(
    RQMNT_MANAGER_ID       number not null,
    RQMNT_ID               number not null,
    ALLOCATION_DATE        date   not null,
    ALLOCATED_TEAM_ID      number,
    ALLOCATED_STAFF_ID     number,
    PROVIDER_EMPLOYEE_ID   number,
    SOFT_DELETED           number not null,
    END_DATE               date,
    PARTITION_AREA_ID      number not null,
    ROW_VERSION            number not null default 0,
    PROVIDER_TEAM_ID       number,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    TRANSFER_REASON_ID     number not null,
    TRAINING_SESSION_ID    number,
    TRUST_PROVIDER_FLAG    number not null,
    STAFF_EMPLOYEE_ID      number not null,
    TRUST_PROVIDER_TEAM_ID number not null,
    PROBATION_AREA_ID      number not null,
    ACTIVE_FLAG            number not null,
    RQMNT_TRANSFER_ID      number,
    ALLOCATION_REASON_ID   number(22),
    constraint XPKRQMNT_MANAGER
        primary key (RQMNT_MANAGER_ID),
    foreign key (RQMNT_ID)
        references RQMNT,
    foreign key (ALLOCATED_TEAM_ID)
        references TEAM,
    foreign key (ALLOCATED_STAFF_ID)
        references STAFF,
    foreign key (PROVIDER_EMPLOYEE_ID)
        references PROVIDER_EMPLOYEE,
    constraint TRUE_OR_FALSE6
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (PROVIDER_TEAM_ID)
        references PROVIDER_TEAM,
    foreign key (TRANSFER_REASON_ID)
        references R_TRANSFER_REASON,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE8
        check (TRUST_PROVIDER_FLAG in (
                                       0, 1
            )),
    foreign key (PROBATION_AREA_ID)
        references PROBATION_AREA,
    constraint R_885
        foreign key (RQMNT_TRANSFER_ID)
            references RQMNT_TRANSFER,
    constraint R_984
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
        references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
        references ALL_TEAM,
    constraint ACTIVE_FLAG_END_DATE2
        check ((
                (
                        ACTIVE_FLAG = 0
                        and END_DATE is not null
                    )
                or (
                        ACTIVE_FLAG = 1
                        and END_DATE is null
                    )
            )),
    constraint ALLOCATED_MANAGER_STAFF_XOR_PR
        check ((
                (
                        PROVIDER_EMPLOYEE_ID is not null
                        and ALLOCATED_STAFF_ID is null
                    )
                or (
                        PROVIDER_EMPLOYEE_ID is null
                        and ALLOCATED_STAFF_ID is not null
                    )
            )),
    constraint ALLOCATED_MANAGER_TEAM_XOR_PRO
        check ((
                (
                        ALLOCATED_TEAM_ID is not null
                        and PROVIDER_TEAM_ID is null
                    )
                or (
                        ALLOCATED_TEAM_ID is null
                        and PROVIDER_TEAM_ID is not null
                    )
            )),
    constraint MANAGEMENT_VALID_DATES2
        check (ALLOCATION_DATE <= nvl(END_DATE, ALLOCATION_DATE)),
    constraint STAFF_OR_TEAM3
        check ((
                STAFF_EMPLOYEE_ID = ALLOCATED_STAFF_ID
                or STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            )),
    constraint TRUST_OR_PROVIDER3
        check ((
                TRUST_PROVIDER_TEAM_ID = ALLOCATED_TEAM_ID
                or TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ))
);
create table REJECTED_TRANSFER_DIARY
(
    REJECTED_TRANSFER_DIARY_ID    number(38) not null,
    TRANSFER_REQUEST_DATE         date       not null,
    TRANSFER_STATUS_DATE          date,
    TARGET_PROVIDER_ID            number(38) not null,
    TARGET_TEAM_ID                number(38) not null,
    TARGET_STAFF_ID               number(38) not null,
    ORIGIN_PROVIDER_ID            number(38) not null,
    ORIGIN_TEAM_ID                number(38) not null,
    ORIGIN_STAFF_ID               number(38) not null,
    REJECTION_REASON_ID           number(38) not null,
    OFFENDER_ID                   number(38) not null,
    MASTER_TRANSFER_ID            number(38),
    OFFENDER_TRANSFER_ID          number(38),
    NSI_TRANSFER_ID               number(38),
    NSI_ID                        number(38),
    ORDER_TRANSFER_ID             number(38),
    EVENT_ID                      number(38),
    RQMNT_TRANSFER_ID             number(38),
    RQMNT_ID                      number(38),
    LIC_CONDITION_TRANSFER_ID     number(38),
    LIC_CONDITION_ID              number(38),
    PSS_RQMNT_TRANSFER_ID         number(38),
    PSS_RQMNT_ID                  number(38),
    INSTITUTIONAL_REP_TRANSFER_ID number(38),
    INSTITUTIONAL_REPORT_ID       number(38),
    COURT_REPORT_TRANSFER_ID      number(38),
    COURT_REPORT_ID               number(38),
    NOTE_FLAG                     char,
    constraint XPKREJECTED_TRANSFER
        primary key (REJECTED_TRANSFER_DIARY_ID),
    constraint R_1144
        foreign key (TARGET_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_1145
        foreign key (TARGET_TEAM_ID)
            references TEAM,
    constraint R_1146
        foreign key (TARGET_STAFF_ID)
            references STAFF,
    constraint R_1147
        foreign key (ORIGIN_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_1148
        foreign key (ORIGIN_TEAM_ID)
            references TEAM,
    constraint R_1149
        foreign key (ORIGIN_STAFF_ID)
            references STAFF,
    constraint R_1150
        foreign key (REJECTION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1151
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_1152
        foreign key (MASTER_TRANSFER_ID)
            references MASTER_TRANSFER,
    constraint R_1153
        foreign key (OFFENDER_TRANSFER_ID)
            references OFFENDER_TRANSFER,
    constraint R_1154
        foreign key (NSI_TRANSFER_ID)
            references NSI_TRANSFER,
    constraint R_1155
        foreign key (NSI_ID)
            references NSI,
    constraint R_1168
        foreign key (ORDER_TRANSFER_ID)
            references ORDER_TRANSFER,
    constraint R_1157
        foreign key (EVENT_ID)
            references EVENT,
    constraint R_1158
        foreign key (RQMNT_TRANSFER_ID)
            references RQMNT_TRANSFER,
    constraint R_1159
        foreign key (RQMNT_ID)
            references RQMNT,
    constraint R_1160
        foreign key (LIC_CONDITION_TRANSFER_ID)
            references LIC_CONDITION_TRANSFER,
    constraint R_1161
        foreign key (LIC_CONDITION_ID)
            references LIC_CONDITION,
    constraint R_1162
        foreign key (PSS_RQMNT_TRANSFER_ID)
            references PSS_RQMNT_TRANSFER,
    constraint R_1163
        foreign key (PSS_RQMNT_ID)
            references PSS_RQMNT,
    constraint R_1164
        foreign key (INSTITUTIONAL_REP_TRANSFER_ID)
            references INSTITUTIONAL_REPORT_TRANSFER,
    constraint R_1165
        foreign key (INSTITUTIONAL_REPORT_ID)
            references INSTITUTIONAL_REPORT,
    constraint R_1166
        foreign key (COURT_REPORT_TRANSFER_ID)
            references COURT_REPORT_TRANSFER,
    constraint R_1167
        foreign key (COURT_REPORT_ID)
            references COURT_REPORT,
    constraint YES_OR_NO_ONLY_1313517795
        check (NOTE_FLAG in (
                             'Y', 'N'
            ))
);
create table CASELOAD
(
    CASELOAD_ID                    number      not null,
    OFFENDER_ID                    number      not null,
    OFFENDER_MANAGER_ID            number,
    EVENT_ID                       number,
    ORDER_MANAGER_ID               number,
    DISPOSAL_ID                    number,
    LIC_CONDITION_ID               number,
    LIC_CONDITION_MANAGER_ID       number,
    RQMNT_ID                       number,
    RQMNT_MANAGER_ID               number,
    TRUST_PROVIDER_FLAG            number      not null,
    TRUST_PROVIDER_TEAM_ID         number      not null,
    STAFF_EMPLOYEE_ID              number      not null,
    DISPOSAL_TYPE_ID               number,
    LIC_COND_TYPE_MAIN_CAT_ID      number,
    CRN                            char(7)     not null,
    RQMNT_TYPE_MAIN_CATEGORY_ID    number,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID number,
    FIRST_NAME                     varchar(35) not null,
    GENDER_ID                      number      not null,
    SECOND_NAME                    varchar(35),
    THIRD_NAME                     varchar(35),
    DATE_OF_BIRTH                  date        not null,
    CURRENT_HIGHEST_RISK_COLOUR    varchar(10),
    SURNAME                        varchar(35) not null,
    CURRENT_EXCLUSION              number      not null,
    CURRENT_TIER                   number,
    CURRENT_RESTRICTION            number      not null,
    LENGTH_VALUE                   number,
    START_DATE                     date,
    ROLE_CODE                      varchar(3)  not null,
    ROW_VERSION                    number      not null default 0,
    PARTITION_AREA_ID              number      not null,
    ORGANISATIONS                  array,
    TRAINING_SESSION_ID            number,
    ALLOCATION_DATE                date,
    PSS_RQMNT_ID                   number(22),
    PSS_RQMNT_MANAGER_ID           number(22),
    PSS_RQMNT_TYPE_MAIN_CAT_ID     number(22),
    LENGTH_IN_DAYS                 number,
    ENTRY_LENGTH_UNITS_ID          number,
    NOTIONAL_END_DATE              date,
    ENTRY_LENGTH                   number,
    NSI_ID                         number(38),
    NSI_MANAGER_ID                 number(38),
    PRISON_OFFENDER_MANAGER_ID     number,
    REPORT_MANAGER_ID              number,
    COURT_REPORT_ID                number,
    INSTITUTIONAL_REPORT_ID        number,
    constraint XPKCASELOAD
        primary key (CASELOAD_ID),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (OFFENDER_MANAGER_ID)
        references OFFENDER_MANAGER,
    foreign key (EVENT_ID)
        references EVENT,
    foreign key (ORDER_MANAGER_ID)
        references ORDER_MANAGER,
    foreign key (DISPOSAL_ID)
        references DISPOSAL,
    foreign key (LIC_CONDITION_ID)
        references LIC_CONDITION,
    foreign key (LIC_CONDITION_MANAGER_ID)
        references LIC_CONDITION_MANAGER,
    foreign key (RQMNT_ID)
        references RQMNT,
    foreign key (RQMNT_MANAGER_ID)
        references RQMNT_MANAGER,
    constraint TRUE_OR_FALSE43
        check (TRUST_PROVIDER_FLAG in (
                                       0, 1
            )),
    foreign key (DISPOSAL_TYPE_ID)
        references R_DISPOSAL_TYPE,
    foreign key (LIC_COND_TYPE_MAIN_CAT_ID)
        references R_LIC_COND_TYPE_MAIN_CAT,
    foreign key (RQMNT_TYPE_MAIN_CATEGORY_ID)
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    constraint R_916
        foreign key (AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
            references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    foreign key (GENDER_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint R_1002
        foreign key (PSS_RQMNT_ID)
            references PSS_RQMNT,
    constraint R_1003
        foreign key (PSS_RQMNT_MANAGER_ID)
            references PSS_RQMNT_MANAGER,
    constraint R_1004
        foreign key (PSS_RQMNT_TYPE_MAIN_CAT_ID)
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    constraint R_1044
        foreign key (ENTRY_LENGTH_UNITS_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint R_1170
        foreign key (NSI_ID)
            references NSI,
    constraint R_1171
        foreign key (NSI_MANAGER_ID)
            references NSI_MANAGER,
    constraint R_1203
        foreign key (PRISON_OFFENDER_MANAGER_ID)
            references PRISON_OFFENDER_MANAGER,
    constraint R_1257
        foreign key (REPORT_MANAGER_ID)
            references REPORT_MANAGER,
    constraint R_1258
        foreign key (COURT_REPORT_ID)
            references COURT_REPORT,
    constraint R_1259
        foreign key (INSTITUTIONAL_REPORT_ID)
            references INSTITUTIONAL_REPORT,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
        references ALL_TEAM,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
        references OFFICER
);
create table REGISTRATION
(
    REGISTRATION_ID       number not null,
    REGISTER_TYPE_ID      number not null,
    OFFENDER_ID           number not null,
    REGISTRATION_DATE     date   not null,
    NEXT_REVIEW_DATE      date,
    REGISTRATION_NOTES    clob,
    REGISTERING_TEAM_ID   number not null,
    REGISTERING_STAFF_ID  number not null,
    REGISTRATION_LEVEL    number,
    SOFT_DELETED          number not null,
    PARTITION_AREA_ID     number not null,
    ROW_VERSION           number not null default 0,
    REGISTRATION_CATEGORY number,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    TRIGGER_OFFENCE_ID    number,
    REGISTER_LEVEL_ID     number,
    CREATED_BY_USER_ID    number not null,
    REGISTER_CATEGORY_ID  number,
    LAST_UPDATED_USER_ID  number not null,
    CONTACT_ID            number not null,
    TRAINING_SESSION_ID   number,
    DEREGISTERED          number not null,
    ORGANISATIONS         array,
    constraint XPKREGISTRATION
        primary key (REGISTRATION_ID),
    foreign key (REGISTER_TYPE_ID)
        references R_REGISTER_TYPE,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    foreign key (REGISTERING_TEAM_ID)
        references TEAM,
    foreign key (REGISTERING_STAFF_ID)
        references STAFF,
    constraint TRUE_OR_FALSE34
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRIGGER_OFFENCE_ID)
        references TRIGGER_OFFENCE,
    foreign key (REGISTER_LEVEL_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (REGISTER_CATEGORY_ID)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (CONTACT_ID)
        references CONTACT,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint TRUE_OR_FALSE35
        check (DEREGISTERED in (
                                0, 1
            )),
    constraint REGISTRATION
        check ((
                REGISTRATION_DATE <= NEXT_REVIEW_DATE
                or NEXT_REVIEW_DATE is null
            ))
);
create table REGISTRATION_REVIEW
(
    REGISTRATION_REVIEW_ID number not null,
    REGISTRATION_ID        number not null,
    REVIEW_DATE            date   not null,
    REVIEW_DATE_DUE        date,
    NOTES                  clob,
    REVIEWING_TEAM_ID      number not null,
    REVIEWING_STAFF_ID     number not null,
    COMPLETED              char,
    SOFT_DELETED           number not null,
    PARTITION_AREA_ID      number not null,
    ROW_VERSION            number not null default 0,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    CONTACT_ID             number not null,
    TRAINING_SESSION_ID    number,
    OFFENDER_ID            number not null,
    ORGANISATIONS          array,
    constraint XPKREGISTRATION_REVIEW
        primary key (REGISTRATION_REVIEW_ID),
    foreign key (REGISTRATION_ID)
        references REGISTRATION,
    foreign key (REVIEWING_TEAM_ID)
        references TEAM,
    foreign key (REVIEWING_STAFF_ID)
        references STAFF,
    constraint YES_OR_NO_422
        check (COMPLETED in (
                             'Y', 'N'
            )),
    constraint TRUE_OR_FALSE75
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (CONTACT_ID)
        references CONTACT,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER
);
create table DEREGISTRATION
(
    DEREGISTRATION_ID      number not null,
    DEREGISTRATION_DATE    date   not null,
    DEREGISTERING_TEAM_ID  number not null,
    DEREGISTERING_STAFF_ID number not null,
    DEREGISTERING_NOTES    clob,
    SOFT_DELETED           number not null,
    PARTITION_AREA_ID      number not null,
    ROW_VERSION            number not null default 0,
    REGISTRATION_ID        number not null,
    CREATED_BY_USER_ID     number not null,
    CREATED_DATETIME       date   not null,
    LAST_UPDATED_USER_ID   number not null,
    LAST_UPDATED_DATETIME  date   not null,
    CONTACT_ID             number not null,
    TRAINING_SESSION_ID    number,
    OFFENDER_ID            number not null,
    ORGANISATIONS          array,
    constraint XPKDEREGISTRATION
        primary key (DEREGISTRATION_ID),
    foreign key (DEREGISTERING_TEAM_ID)
        references TEAM,
    foreign key (DEREGISTERING_STAFF_ID)
        references STAFF,
    constraint TRUE_OR_FALSE28
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (REGISTRATION_ID)
        references REGISTRATION,
    foreign key (CONTACT_ID)
        references CONTACT,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER
);
create table OASYS_ASSESSMENT
(
    OASYS_ASSESSMENT_ID          number      not null,
    OFFENDER_ID                  number      not null,
    OASYS_ID                     varchar(50) not null,
    ASSESSMENT_DATE              date        not null,
    OASYS_TOTAL_SCORE            number,
    RISK_FLAGS                   varchar(50),
    CONCERN_FLAGS                varchar(50),
    DATE_CREATED                 date        not null,
    INITIAL_SENTENCE_PLAN_DATE   date,
    ASSESSED_BY                  varchar(35) not null,
    SENTENCE_PLAN_REVIEW_DATE    date,
    REVIEW_TERMINATED            char,
    REVIEW_NUMBER                varchar(20),
    LAYER_TYPE                   varchar(20),
    PARTITION_AREA_ID            number      not null,
    OGRS_SCORE_1                 number,
    OGRS_SCORE_2                 number,
    OGP_SCORE_1                  number,
    SOFT_DELETED                 number      not null,
    OGP_SCORE_2                  number,
    ROW_VERSION                  number      not null default 0,
    OVP_SCORE_1                  number,
    OFFENCE_ID                   number,
    ASSESSMENT_RECEIVED_DATE     date,
    EVENT_NUMBER                 varchar(50),
    COURT_ID                     number,
    OASYS_ASSESSMENT_DESCRIPTION varchar(4000),
    OVP_SCORE_2                  number,
    OBJECTIVE_STATUS             varchar(50),
    CONTACT_ID                   number,
    LAYER_1_OBJECTIVE            varchar(4000),
    TRAINING_SESSION_ID          number,
    TIER_CODE_ID                 number,
    ORGANISATIONS                array,
    CREATED_BY_USER_ID           number(22)  not null,
    CREATED_DATETIME             date        not null,
    LAST_UPDATED_USER_ID         number(22)  not null,
    LAST_UPDATED_DATETIME        date        not null,
    constraint XPKOASYS_ASSESSMENT
        primary key (OASYS_ASSESSMENT_ID),
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint YES_OR_NO_420
        check (REVIEW_TERMINATED in (
                                     'Y', 'N'
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint GREATER_THAN_08
        check (OGRS_SCORE_1 > 0),
    constraint GREATER_THAN_09
        check (OGRS_SCORE_2 > 0),
    constraint TRUE_OR_FALSE59
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (OFFENCE_ID)
        references R_OFFENCE,
    foreign key (COURT_ID)
        references COURT,
    foreign key (CONTACT_ID)
        references CONTACT,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (TIER_CODE_ID)
        references R_STANDARD_REFERENCE_LIST,
    constraint XAK1OASYS_ASSESSMENT
        unique (OASYS_ID, OASYS_ASSESSMENT_ID)
);
create table OASYS_ASSMNT_SECTION_SCORE
(
    OASYS_ASSESSMENT_ID number not null,
    LEVEL_              number not null,
    SECTION_SCORE       number,
    SOFT_DELETED        number not null,
    PARTITION_AREA_ID   number not null,
    ROW_VERSION         number not null default 0,
    TRAINING_SESSION_ID number,
    foreign key (OASYS_ASSESSMENT_ID)
        references OASYS_ASSESSMENT,
    constraint TRUE_OR_FALSE60
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    constraint XPKOASYS_ASSMNT_SECTION_SCORE
        primary key (OASYS_ASSESSMENT_ID, LEVEL_)
);
create table OASYS_SENTENCE_PLAN
(
    OASYS_SENTENCE_PLAN_ID number not null,
    OASYS_ASSESSMENT_ID    number not null,
    OBJECTIVE_NUMBER       number,
    OBJECTIVE              varchar(4000),
    SOFT_DELETED           number not null,
    PARTITION_AREA_ID      number not null,
    ROW_VERSION            number not null default 0,
    TRAINING_SESSION_ID    number,
    OFFENDER_ID            number not null,
    ORGANISATIONS          array,
    constraint XPKOASYS_SENTENCE_PLAN
        primary key (OASYS_SENTENCE_PLAN_ID),
    foreign key (OASYS_ASSESSMENT_ID)
        references OASYS_ASSESSMENT,
    constraint TRUE_OR_FALSE61
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER
);
create table OASYS_SP_TEXT
(
    OASYS_SENTENCE_PLAN_ID number        not null,
    LEVEL_                 number        not null,
    TEXT                   varchar(4000) not null,
    SOFT_DELETED           number        not null,
    PARTITION_AREA_ID      number        not null,
    ROW_VERSION            number        not null default 0,
    TRAINING_SESSION_ID    number,
    OFFENDER_ID            number        not null,
    ORGANISATIONS          array,
    foreign key (OASYS_SENTENCE_PLAN_ID)
        references OASYS_SENTENCE_PLAN,
    constraint TRUE_OR_FALSE63
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint XPKOASYS_SP_TEXT
        primary key (OASYS_SENTENCE_PLAN_ID, LEVEL_)
);
create table OASYS_SP_NEED
(
    OASYS_SENTENCE_PLAN_ID number        not null,
    LEVEL_                 number        not null,
    NEED                   varchar(4000) not null,
    PARTITION_AREA_ID      number        not null,
    SOFT_DELETED           number        not null,
    ROW_VERSION            number        not null default 0,
    TRAINING_SESSION_ID    number,
    OFFENDER_ID            number        not null,
    ORGANISATIONS          array,
    foreign key (OASYS_SENTENCE_PLAN_ID)
        references OASYS_SENTENCE_PLAN,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE62
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint XPKOASYS_SP_NEED
        primary key (OASYS_SENTENCE_PLAN_ID, LEVEL_)
);
create table OASYS_SP_WORK_SUMMARY
(
    OASYS_SENTENCE_PLAN_ID number        not null,
    LEVEL_                 number        not null,
    WORK_SUMMARY           varchar(4000) not null,
    PARTITION_AREA_ID      number        not null,
    SOFT_DELETED           number        not null,
    ROW_VERSION            number        not null default 0,
    TRAINING_SESSION_ID    number,
    OFFENDER_ID            number        not null,
    ORGANISATIONS          array,
    foreign key (OASYS_SENTENCE_PLAN_ID)
        references OASYS_SENTENCE_PLAN,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    constraint TRUE_OR_FALSE64
        check (SOFT_DELETED in (
                                0, 1
            )),
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION,
    foreign key (OFFENDER_ID)
        references OFFENDER,
    constraint XPKOASYS_SP_WORK_SUMMARY
        primary key (OASYS_SENTENCE_PLAN_ID, LEVEL_)
);
create table UPW_WORK_NATURE_QUALIFICATIONS
(
    UPW_PROJECT_ID        number not null,
    NATURE_OF_WORK_1      number,
    NATURE_OF_WORK_2      number,
    NATURE_OF_WORK_3      number,
    NATURE_OF_WORK_4      number,
    NATURE_OF_WORK_5      number,
    OPPORTUNITY_1         number,
    OPPORTUNITY_2         number,
    OPPORTUNITY_3         number,
    OPPORTUNITY_4         number,
    OPPORTUNITY_5         number,
    NOTES                 clob,
    PARTITION_AREA_ID     number not null,
    CREATED_BY_USER_ID    number not null,
    ROW_VERSION           number not null default 0,
    LAST_UPDATED_USER_ID  number not null,
    CREATED_DATETIME      date   not null,
    LAST_UPDATED_DATETIME date   not null,
    TRAINING_SESSION_ID   number,
    constraint XPKUPW_WORK_NATURE_QUALIFICATI
        primary key (UPW_PROJECT_ID),
    foreign key (UPW_PROJECT_ID)
        references UPW_PROJECT,
    foreign key (NATURE_OF_WORK_1)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (NATURE_OF_WORK_2)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (NATURE_OF_WORK_3)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (NATURE_OF_WORK_4)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (NATURE_OF_WORK_5)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (OPPORTUNITY_1)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (OPPORTUNITY_2)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (OPPORTUNITY_3)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (OPPORTUNITY_4)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (OPPORTUNITY_5)
        references R_STANDARD_REFERENCE_LIST,
    foreign key (PARTITION_AREA_ID)
        references PARTITION_AREA,
    foreign key (TRAINING_SESSION_ID)
        references TRAINING_SESSION
);
create table COHORT
(
    COHORT_ID                 number(22)  not null,
    EVENT_ID                  number(22)  not null,
    OFFENDER_ID               number(22)  not null,
    COHORT_PROVIDER_ID        number(22)  not null,
    COHORT_CODE               varchar(11) not null,
    SENTENCE_RELEASE_DATE     date,
    START_DATE                date        not null,
    END_DATE                  date,
    ALLOCATION_REASON_ID      number(22),
    ACTIVE_FLAG               number(22)  not null,
    AUTHORISATION_PROVIDER_ID number(22),
    AUTHORISATION_TEAM_ID     number(22),
    AUTHORISATION_STAFF_ID    number(22),
    COHORT_CHANGE_REASON_ID   number(22),
    NOTES                     clob,
    SOFT_DELETED              number(22)  not null,
    ROW_VERSION               number(22)  not null default 0,
    CREATED_BY_USER_ID        number(22)  not null,
    CREATED_DATETIME          date        not null,
    LAST_UPDATED_USER_ID      number(22)  not null,
    LAST_UPDATED_DATETIME     date        not null,
    ORGANISATIONS             array,
    RECORDED_COHORT_FLAG      char,
    constraint XPKCOHORT
        primary key (COHORT_ID),
    constraint R_918
        foreign key (EVENT_ID)
            references EVENT,
    constraint R_919
        foreign key (OFFENDER_ID)
            references OFFENDER,
    constraint R_920
        foreign key (COHORT_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_921
        foreign key (ALLOCATION_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint TRUE_OR_FALSE_252545138
        check (ACTIVE_FLAG in (
                               0, 1
            )),
    constraint R_922
        foreign key (AUTHORISATION_PROVIDER_ID)
            references PROBATION_AREA,
    constraint R_923
        foreign key (AUTHORISATION_TEAM_ID)
            references TEAM,
    constraint R_924
        foreign key (AUTHORISATION_STAFF_ID)
            references STAFF,
    constraint R_925
        foreign key (COHORT_CHANGE_REASON_ID)
            references R_STANDARD_REFERENCE_LIST,
    constraint TRUE_OR_FALSE_442138751
        check (SOFT_DELETED in (
                                0, 1
            )),
    constraint RECORDED_COHORT_FLA_2066116776
        check (RECORDED_COHORT_FLAG in (
                                        'S', 'R', 'T'
            )),
    constraint XAK1COHORT
        unique (EVENT_ID, OFFENDER_ID)
);
create table SPG_JAVA_OBJECTS
(
    JAVA_OBJECT_NAME varchar(500)
);
create table SPG_OUTBOUND
(
    Q_NAME            varchar(128),
    MSGID             varchar(16) not null,
    CORRID            varchar(128),
    PRIORITY          number,
    STATE             number,
    DELAY             timestamp(6),
    EXPIRATION        number,
    TIME_MANAGER_INFO timestamp(6),
    LOCAL_ORDER_NO    number,
    CHAIN_NO          number,
    CSCN              number,
    DSCN              number,
    ENQ_TIME          timestamp(6),
    ENQ_UID           varchar(128),
    ENQ_TID           varchar(30),
    DEQ_TIME          timestamp(6),
    DEQ_UID           varchar(128),
    DEQ_TID           varchar(30),
    RETRY_COUNT       number,
    EXCEPTION_QSCHEMA varchar(128),
    EXCEPTION_QUEUE   varchar(128),
    STEP_NO           number,
    RECIPIENT_KEY     number,
    DEQUEUE_MSGID     varchar(16),
    SENDER_NAME       varchar(128),
    SENDER_ADDRESS    varchar(1024),
    SENDER_PROTOCOL   number,
    USER_DATA         CLOB,
    USER_PROP         CLOB,
    primary key (MSGID)
);
create table AQ$_SPG_OUTBOUND_S
(
    SUBSCRIBER_ID         number       not null,
    QUEUE_NAME            varchar(128) not null,
    NAME                  varchar(512),
    ADDRESS               varchar(1024),
    PROTOCOL              number,
    SUBSCRIBER_TYPE       number,
    RULE_NAME             varchar(128),
    TRANS_NAME            varchar(261),
    RULESET_NAME          varchar(261),
    NEGATIVE_RULESET_NAME varchar(261),
    CREATION_TIME         timestamp(6) with time zone,
    MODIFICATION_TIME     timestamp(6) with time zone,
    DELETION_TIME         timestamp(6) with time zone,
    SCN_AT_REMOVE         number,
    SCN_AT_ADD            number,
    primary key (SUBSCRIBER_ID)
);
create table AQ$_SPG_OUTBOUND_T
(
    NEXT_DATE timestamp(6) not null,
    TXN_ID    varchar(30)  not null,
    MSGID     varchar(16)  not null,
    ACTION    number,
    primary key (NEXT_DATE, TXN_ID, MSGID)
);
create table AQ$_SPG_OUTBOUND_H
(
    MSGID            varchar(16)  not null,
    SUBSCRIBER       number       not null,
    NAME             varchar(512) not null,
    ADDRESS          number       not null,
    DEQUEUE_TIME     timestamp(6),
    TRANSACTION_ID   varchar(30),
    DEQUEUE_USER     varchar(128),
    PROPAGATED_MSGID varchar(16),
    RETRY_COUNT      number,
    HINT             NUMBER,
    SPARE            varchar(16),
    primary key (MSGID, SUBSCRIBER, NAME, ADDRESS)
);
create table AQ$_SPG_OUTBOUND_L
(
    MSGID          varchar(16),
    SUBSCRIBER     number,
    NAME           varchar(512),
    ADDRESS        number,
    DEQUEUE_TIME   timestamp(6) with time zone,
    TRANSACTION_ID varchar(30),
    DEQUEUE_USER   varchar(128),
    FLAGS          varchar(1)
);
create table AQ$_SPG_OUTBOUND_G
(
    MSGID      varchar(16)  not null,
    SUBSCRIBER number       not null,
    NAME       varchar(512) not null,
    ADDRESS    number       not null,
    SIGN       CLOB,
    DBS_SIGN   CLOB,
    primary key (MSGID, SUBSCRIBER, NAME, ADDRESS)
);
create table AQ$_SPG_OUTBOUND_I
(
    SUBSCRIBER         number       not null,
    NAME               varchar(512) not null,
    QUEUE              number       not null,
    MSG_ENQ_TIME       timestamp(6) not null,
    MSG_STEP_NO        number       not null,
    MSG_CHAIN_NO       number       not null,
    MSG_LOCAL_ORDER_NO number       not null,
    MSGID              varchar(16)  not null,
    HINT               NUMBER,
    SPARE              varchar(16),
    primary key (SUBSCRIBER, NAME, QUEUE, MSG_ENQ_TIME, MSG_STEP_NO, MSG_CHAIN_NO, MSG_LOCAL_ORDER_NO, MSGID)
);

SET REFERENTIAL_INTEGRITY FALSE;